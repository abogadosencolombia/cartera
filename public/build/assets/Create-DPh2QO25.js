import{r as B,l as T,s as A,c,o as u,b as e,u as a,h as E,w as p,a as d,F as R,e as G,n as x,i as f,t as _,x as O,T as I,B as w,g as y,p as L}from"./app-CJXh-Pjp.js";import{_ as M}from"./AuthenticatedLayout-CjDncLrz.js";import{_ as S}from"./PrimaryButton-D7hB7Y7-.js";import{_ as $}from"./SecondaryButton-CTekWCLN.js";import{_ as n}from"./InputLabel-DWTjBLJB.js";import{_ as t}from"./InputError-D6J_Ekxe.js";import{_ as m}from"./TextInput-A7ldSpJd.js";import{_ as z}from"./Textarea-DnSdfpkz.js";import{_ as v}from"./AsyncSelect-BWKrjmsh.js";import"./ApplicationLogo-BzDRqvbd.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const J={class:"flex flex-col md:flex-row items-center justify-between gap-4"},K={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},q={class:"flex items-center gap-3"},H={class:"py-12"},Q={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},W={"aria-label":"Progress"},X={role:"list",class:"flex items-center"},Y={key:0,class:"absolute inset-0 flex items-center","aria-hidden":"true"},Z=["onClick"],ee={key:0,class:"text-white"},ae={key:1,class:"text-indigo-600 dark:text-indigo-400"},oe={class:"absolute top-10 w-max text-center -translate-x-1/2 transition-opacity duration-300"},le={class:"relative overflow-hidden p-6 min-h-[490px]"},se={key:"step1",class:"space-y-6"},de={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ie={class:"md:col-span-2"},re={class:"md:col-span-2"},ne={key:"step2",class:"space-y-6"},te={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ue={key:"step3",class:"space-y-6"},me={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ce={class:"md:col-span-2"},pe={class:"md:col-span-2"},_e={class:"flex items-center justify-between p-6 bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700 sm:rounded-b-lg"},ge={class:"flex items-center gap-3"},ve={class:"text-xs text-gray-500"},k=3,Be={__name:"Create",setup(fe){const r=B(1),b=B("slide-next"),V=[{id:1,name:"Información Principal",fields:["asunto","radicado","fecha_radicado","juzgado_id","tipo_proceso_id"]},{id:2,name:"Partes y Contacto",fields:["demandante_id","demandado_id","abogado_id","responsable_revision_id","correo_radicacion"]},{id:3,name:"Seguimiento y Enlaces",fields:[]}],D=T(()=>V.find(i=>i.id===r.value)),o=A({abogado_id:null,responsable_revision_id:null,juzgado_id:null,tipo_proceso_id:null,demandante_id:null,demandado_id:null,radicado:"",fecha_radicado:new Date().toISOString().slice(0,10),naturaleza:"",asunto:"",correo_radicacion:"",fecha_revision:"",fecha_proxima_revision:"",ultima_actuacion:"",link_expediente:"",ubicacion_drive:"",correos_juzgado:"",observaciones:""}),N=()=>{r.value<k&&(b.value="slide-next",r.value++)},P=()=>{r.value>1&&(b.value="slide-prev",r.value--)},j=i=>{i<r.value&&(b.value="slide-prev",r.value=i)},F=()=>{o.transform(i=>{var l,s,g,h,U,C;return{...i,abogado_id:((l=i.abogado_id)==null?void 0:l.id)??null,responsable_revision_id:((s=i.responsable_revision_id)==null?void 0:s.id)??null,juzgado_id:((g=i.juzgado_id)==null?void 0:g.id)??null,tipo_proceso_id:((h=i.tipo_proceso_id)==null?void 0:h.id)??null,demandante_id:((U=i.demandante_id)==null?void 0:U.id)??null,demandado_id:((C=i.demandado_id)==null?void 0:C.id)??null}}).post(route("procesos.store"),{preserveScroll:!0,onError:i=>{const l=Object.keys(i);if(l.length>0){for(const s of V)if(s.fields.some(g=>l.includes(g))){j(s.id);break}}}})};return(i,l)=>(u(),c(R,null,[e(a(E),{title:"Registrar Radicado"}),e(M,null,{header:p(()=>[d("div",J,[d("div",null,[l[18]||(l[18]=d("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," Registrar Nuevo Radicado ",-1)),d("p",K," Paso "+_(r.value)+": "+_(D.value.description),1)]),d("div",q,[e(a(L),{href:i.route("procesos.index")},{default:p(()=>[e($,null,{default:p(()=>l[19]||(l[19]=[y("Cancelar",-1)])),_:1,__:[19]})]),_:1},8,["href"])])])]),default:p(()=>[d("div",H,[d("div",Q,[d("nav",W,[d("ol",X,[(u(),c(R,null,G(V,(s,g)=>d("li",{key:s.id,class:x(["relative",{"flex-1":g<V.length-1}])},[s.id<r.value?(u(),c("div",Y,l[20]||(l[20]=[d("div",{class:"h-0.5 w-full bg-indigo-600"},null,-1)]))):f("",!0),d("a",{onClick:h=>j(s.id),class:x(["relative flex h-8 w-8 items-center justify-center rounded-full transition-all duration-300",[s.id<r.value?"bg-indigo-600 hover:bg-indigo-800 cursor-pointer":"",s.id===r.value?"border-2 border-indigo-600 bg-white dark:bg-gray-800 scale-110":"",s.id>r.value?"border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700":""]])},[s.id<r.value?(u(),c("span",ee,l[21]||(l[21]=[d("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{"fill-rule":"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.052-.143z","clip-rule":"evenodd"})],-1)]))):(u(),c("span",ae,_(s.id),1))],10,Z),d("div",oe,[d("p",{class:x(["text-xs font-medium",r.value>=s.id?"text-gray-800 dark:text-gray-200":"text-gray-500 dark:text-gray-400"])},_(s.name),3)])],2)),64))])]),d("form",{onSubmit:O(F,["prevent"]),class:"mt-16 bg-white dark:bg-gray-800 shadow-sm sm:rounded-lg"},[d("div",le,[e(I,{name:b.value,mode:"out-in"},{default:p(()=>[r.value===1?(u(),c("div",se,[d("div",de,[d("div",ie,[e(n,{for:"asunto",value:"Asunto"}),e(z,{id:"asunto",modelValue:a(o).asunto,"onUpdate:modelValue":l[0]||(l[0]=s=>a(o).asunto=s),rows:"2",class:"mt-1 block w-full"},null,8,["modelValue"]),e(t,{message:a(o).errors.asunto,class:"mt-2"},null,8,["message"])]),d("div",null,[e(n,{for:"radicado",value:"Radicado"}),e(m,{id:"radicado",modelValue:a(o).radicado,"onUpdate:modelValue":l[1]||(l[1]=s=>a(o).radicado=s),class:"mt-1 block w-full"},null,8,["modelValue"]),e(t,{message:a(o).errors.radicado,class:"mt-2"},null,8,["message"])]),d("div",null,[e(n,{for:"fecha_radicado",value:"Fecha de Radicado"}),e(m,{id:"fecha_radicado",modelValue:a(o).fecha_radicado,"onUpdate:modelValue":l[2]||(l[2]=s=>a(o).fecha_radicado=s),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),e(t,{message:a(o).errors.fecha_radicado,class:"mt-2"},null,8,["message"])]),d("div",re,[e(n,{for:"juzgado",value:"Juzgado / Entidad"}),e(v,{id:"juzgado",modelValue:a(o).juzgado_id,"onUpdate:modelValue":l[3]||(l[3]=s=>a(o).juzgado_id=s),endpoint:i.route("juzgados.search"),"min-chars":3,placeholder:"Buscar juzgado..."},null,8,["modelValue","endpoint"]),e(t,{message:a(o).errors.juzgado_id,class:"mt-2"},null,8,["message"])]),d("div",null,[e(n,{for:"tipo_proceso",value:"Tipo de Proceso"}),e(v,{id:"tipo_proceso",modelValue:a(o).tipo_proceso_id,"onUpdate:modelValue":l[4]||(l[4]=s=>a(o).tipo_proceso_id=s),endpoint:i.route("tipos-proceso.search"),placeholder:"Buscar tipo..."},null,8,["modelValue","endpoint"]),e(t,{message:a(o).errors.tipo_proceso_id,class:"mt-2"},null,8,["message"])]),d("div",null,[e(n,{for:"naturaleza",value:"Naturaleza (opcional)"}),e(m,{id:"naturaleza",modelValue:a(o).naturaleza,"onUpdate:modelValue":l[5]||(l[5]=s=>a(o).naturaleza=s),class:"mt-1 block w-full"},null,8,["modelValue"]),e(t,{message:a(o).errors.naturaleza,class:"mt-2"},null,8,["message"])])])])):r.value===2?(u(),c("div",ne,[d("div",te,[d("div",null,[e(n,{for:"demandante",value:"Demandante / Denunciante"}),e(v,{id:"demandante",modelValue:a(o).demandante_id,"onUpdate:modelValue":l[6]||(l[6]=s=>a(o).demandante_id=s),endpoint:i.route("personas.search"),placeholder:"Buscar persona..."},null,8,["modelValue","endpoint"]),e(t,{message:a(o).errors.demandante_id,class:"mt-2"},null,8,["message"])]),d("div",null,[e(n,{for:"demandado",value:"Demandado / Denunciado"}),e(v,{id:"demandado",modelValue:a(o).demandado_id,"onUpdate:modelValue":l[7]||(l[7]=s=>a(o).demandado_id=s),endpoint:i.route("personas.search"),placeholder:"Buscar persona..."},null,8,["modelValue","endpoint"]),e(t,{message:a(o).errors.demandado_id,class:"mt-2"},null,8,["message"])]),d("div",null,[e(n,{for:"abogado",value:"Abogado / Gestor"}),e(v,{id:"abogado",modelValue:a(o).abogado_id,"onUpdate:modelValue":l[8]||(l[8]=s=>a(o).abogado_id=s),endpoint:i.route("users.search"),placeholder:"Buscar abogado..."},null,8,["modelValue","endpoint"]),e(t,{message:a(o).errors.abogado_id,class:"mt-2"},null,8,["message"])]),d("div",null,[e(n,{for:"responsable",value:"Responsable de Revisión"}),e(v,{id:"responsable",modelValue:a(o).responsable_revision_id,"onUpdate:modelValue":l[9]||(l[9]=s=>a(o).responsable_revision_id=s),endpoint:i.route("users.search"),placeholder:"Buscar responsable..."},null,8,["modelValue","endpoint"]),e(t,{message:a(o).errors.responsable_revision_id,class:"mt-2"},null,8,["message"])]),d("div",null,[e(n,{for:"correo_radicacion",value:"Correo de radicación"}),e(m,{id:"correo_radicacion",modelValue:a(o).correo_radicacion,"onUpdate:modelValue":l[10]||(l[10]=s=>a(o).correo_radicacion=s),type:"email",class:"mt-1 block w-full"},null,8,["modelValue"]),e(t,{message:a(o).errors.correo_radicacion,class:"mt-2"},null,8,["message"])]),d("div",null,[e(n,{for:"correos_juzgado",value:"Correos del juzgado (opcional)"}),e(m,{id:"correos_juzgado",modelValue:a(o).correos_juzgado,"onUpdate:modelValue":l[11]||(l[11]=s=>a(o).correos_juzgado=s),class:"mt-1 block w-full"},null,8,["modelValue"]),e(t,{message:a(o).errors.correos_juzgado,class:"mt-2"},null,8,["message"])])])])):r.value===3?(u(),c("div",ue,[d("div",me,[d("div",null,[e(n,{for:"fecha_revision",value:"Fecha de Revisión"}),e(m,{id:"fecha_revision",modelValue:a(o).fecha_revision,"onUpdate:modelValue":l[12]||(l[12]=s=>a(o).fecha_revision=s),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),e(t,{message:a(o).errors.fecha_revision,class:"mt-2"},null,8,["message"])]),d("div",null,[e(n,{for:"fecha_proxima_revision",value:"Fecha Próxima Revisión"}),e(m,{id:"fecha_proxima_revision",modelValue:a(o).fecha_proxima_revision,"onUpdate:modelValue":l[13]||(l[13]=s=>a(o).fecha_proxima_revision=s),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),e(t,{message:a(o).errors.fecha_proxima_revision,class:"mt-2"},null,8,["message"])]),d("div",ce,[e(n,{for:"ultima_actuacion",value:"Última Actuación"}),e(z,{id:"ultima_actuacion",modelValue:a(o).ultima_actuacion,"onUpdate:modelValue":l[14]||(l[14]=s=>a(o).ultima_actuacion=s),rows:"3",class:"mt-1 block w-full"},null,8,["modelValue"]),e(t,{message:a(o).errors.ultima_actuacion,class:"mt-2"},null,8,["message"])]),d("div",pe,[e(n,{for:"observaciones",value:"Observaciones (opcional)"}),e(z,{id:"observaciones",modelValue:a(o).observaciones,"onUpdate:modelValue":l[15]||(l[15]=s=>a(o).observaciones=s),rows:"3",class:"mt-1 block w-full"},null,8,["modelValue"]),e(t,{message:a(o).errors.observaciones,class:"mt-2"},null,8,["message"])]),d("div",null,[e(n,{for:"link_expediente",value:"Link de expediente digital"}),e(m,{id:"link_expediente",modelValue:a(o).link_expediente,"onUpdate:modelValue":l[16]||(l[16]=s=>a(o).link_expediente=s),type:"url",class:"mt-1 block w-full",placeholder:"https://…"},null,8,["modelValue"]),e(t,{message:a(o).errors.link_expediente,class:"mt-2"},null,8,["message"])]),d("div",null,[e(n,{for:"ubicacion_drive",value:"Ubicación en Drive"}),e(m,{id:"ubicacion_drive",modelValue:a(o).ubicacion_drive,"onUpdate:modelValue":l[17]||(l[17]=s=>a(o).ubicacion_drive=s),type:"url",class:"mt-1 block w-full",placeholder:"https://drive.google.com/…"},null,8,["modelValue"]),e(t,{message:a(o).errors.ubicacion_drive,class:"mt-2"},null,8,["message"])])])])):f("",!0)]),_:1},8,["name"])]),d("div",_e,[d("div",null,[r.value>1?(u(),w($,{key:0,onClick:P,type:"button"},{default:p(()=>l[22]||(l[22]=[y(" Anterior ",-1)])),_:1,__:[22]})):f("",!0)]),d("div",ge,[d("span",ve,"Paso "+_(r.value)+" de "+_(k),1),r.value<k?(u(),w(S,{key:0,onClick:N,type:"button"},{default:p(()=>l[23]||(l[23]=[y(" Siguiente ",-1)])),_:1,__:[23]})):f("",!0),r.value===k?(u(),w(S,{key:1,type:"submit",disabled:a(o).processing,class:x({"opacity-25":a(o).processing})},{default:p(()=>[y(_(a(o).processing?"Guardando…":"Guardar Radicado"),1)]),_:1},8,["disabled","class"])):f("",!0)])])],32)])])]),_:1})],64))}};export{Be as default};
