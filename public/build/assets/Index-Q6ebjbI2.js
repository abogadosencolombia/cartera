import{c as a,o as s,a as e,r as N,k as V,j as g,b as d,u as i,h as $,w as p,i as f,d as y,v as b,F as x,e as k,t as u,n as h,B as v,p as A,g as c}from"./app-BQ1fBOAU.js";import{_ as T}from"./AuthenticatedLayout-Bawsgd7W.js";import{_ as S}from"./Pagination-66RyZaJB.js";import{a as D,r as M}from"./EyeIcon-C3OGfyw6.js";import{r as w}from"./BellAlertIcon-CneapFEy.js";import{r as F}from"./CheckBadgeIcon-Dwrzu1bC.js";import"./ApplicationLogo-CLvo8GpJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";function O(l,m){return s(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 13.5h3.86a2.25 2.25 0 0 1 2.012 1.244l.256.512a2.25 2.25 0 0 0 2.013 1.244h3.218a2.25 2.25 0 0 0 2.013-1.244l.256-.512a2.25 2.25 0 0 1 2.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 0 0-2.15-1.588H6.911a2.25 2.25 0 0 0-2.15 1.588L2.35 13.177a2.25 2.25 0 0 0-.1.661Z"})])}const z={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight flex items-center"},E={class:"py-12"},U={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},H={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},I={class:"p-6"},Z={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6"},q=["value"],G={class:"space-y-4"},J={key:0,class:"text-center py-12 text-gray-500 dark:text-gray-400"},K={class:"flex-shrink-0 pt-1"},P={class:"flex-grow"},Q={class:"font-medium text-gray-800 dark:text-gray-200"},R={class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},W={class:"flex-shrink-0"},X=["onClick"],Y=["onClick"],ee={key:0,class:"mt-6"},ne={__name:"Index",props:{notificaciones:Object,filtros:Object,tipos_alerta:Array},setup(l){const m=l,_=o=>{g.patch(route("notificaciones.leer",o),{},{preserveScroll:!0})},C=o=>{g.patch(route("notificaciones.atender",o),{},{preserveScroll:!0})},n=N({leido:m.filtros.leido||"",tipo:m.filtros.tipo||""});V(n,o=>{g.get(route("notificaciones.index"),o,{preserveState:!0,replace:!0})},{deep:!0});const j={alta:"border-red-500",media:"border-yellow-500",baja:"border-blue-500"},B=o=>{if(!o)return"N/A";const t={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(o).toLocaleString("es-CO",t)};return(o,t)=>(s(),a(x,null,[d(i($),{title:"Bandeja de Notificaciones"}),d(T,null,{header:p(()=>[e("h2",z,[d(i(w),{class:"h-6 w-6 mr-2"}),t[2]||(t[2]=c(" Bandeja de Notificaciones ",-1))])]),default:p(()=>[e("div",E,[e("div",U,[e("div",H,[e("div",I,[e("div",Z,[e("div",null,[t[4]||(t[4]=e("label",{for:"filtro_leido",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Estado",-1)),y(e("select",{"onUpdate:modelValue":t[0]||(t[0]=r=>n.value.leido=r),id:"filtro_leido",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 rounded-md shadow-sm"},t[3]||(t[3]=[e("option",{value:""},"Todos",-1),e("option",{value:"no"},"No Leídas",-1),e("option",{value:"si"},"Leídas",-1)]),512),[[b,n.value.leido]])]),e("div",null,[t[6]||(t[6]=e("label",{for:"filtro_tipo",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Tipo de Alerta",-1)),y(e("select",{"onUpdate:modelValue":t[1]||(t[1]=r=>n.value.tipo=r),id:"filtro_tipo",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 rounded-md shadow-sm capitalize"},[t[5]||(t[5]=e("option",{value:""},"Todos",-1)),(s(!0),a(x,null,k(l.tipos_alerta,r=>(s(),a("option",{key:r,value:r},u(r.replace(/_/g," ")),9,q))),128))],512),[[b,n.value.tipo]])])]),e("div",G,[l.notificaciones.data.length===0?(s(),a("div",J,[d(i(O),{class:"h-16 w-16 mx-auto text-gray-400"}),t[7]||(t[7]=e("p",{class:"mt-2 font-semibold"},"Tu bandeja de entrada está vacía.",-1))])):(s(!0),a(x,{key:1},k(l.notificaciones.data,r=>(s(),a("div",{key:r.id,class:h(["p-4 rounded-lg flex items-start space-x-4 border-l-4 transition-colors duration-300",[j[r.prioridad]||"border-gray-300",r.leido?"bg-gray-50 dark:bg-gray-800/50":"bg-white dark:bg-gray-800 shadow-md"]])},[e("div",K,[r.leido?(s(),v(i(D),{key:0,class:"h-6 w-6 text-green-500"})):(s(),v(i(w),{key:1,class:h(["h-6 w-6",{"text-red-500":r.prioridad==="alta","text-yellow-500":r.prioridad==="media","text-blue-500":r.prioridad==="baja"}])},null,8,["class"]))]),e("div",P,[e("p",Q,u(r.mensaje),1),e("p",R,[d(i(A),{href:o.route("casos.show",r.caso_id),class:"hover:underline font-semibold"},{default:p(()=>[c(" Ver Caso #"+u(r.caso_id),1)]),_:2},1032,["href"]),t[8]||(t[8]=e("span",{class:"mx-2"},"|",-1)),e("span",null,u(B(r.created_at)),1)])]),e("div",W,[r.leido?f("",!0):(s(),a("button",{key:0,onClick:L=>_(r.id),class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150"},[d(i(M),{class:"h-4 w-4 mr-1.5"}),t[9]||(t[9]=c(" Marcar como Leída ",-1))],8,X)),r.leido&&!r.atendida_en?(s(),a("button",{key:1,onClick:L=>C(r.id),class:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150"},[d(i(F),{class:"h-4 w-4 mr-1.5"}),t[10]||(t[10]=c(" Marcar como Atendida ",-1))],8,Y)):f("",!0)])],2))),128))]),l.notificaciones.data.length>0?(s(),a("div",ee,[d(S,{links:l.notificaciones.links},null,8,["links"])])):f("",!0)])])])])]),_:1})],64))}};export{ne as default};
