import{q as G,l as J,r as j,s as M,c as m,o as u,b as r,u as n,h as K,w as d,a as e,t as o,x as Q,n as A,g as c,F as N,e as W,i as X,p as L}from"./app-D6fBSztB.js";import{_ as ee}from"./AuthenticatedLayout-_MACS7lg.js";import{_ as R}from"./Modal-BMJ9k-EC.js";import{_ as H}from"./PrimaryButton-CvtAZ7tP.js";import{_ as T}from"./SecondaryButton-DFtNAEDQ.js";import{D as U}from"./DangerButton-BuSa_7yf.js";import{_ as S}from"./InputLabel-B78_-JR2.js";import{_ as B}from"./InputError-HqrJXC_t.js";import{_ as te}from"./TextInput-Bef9WMy8.js";import{_ as se}from"./Textarea-BjqHcdej.js";import"./ApplicationLogo-Dh4pLsNN.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const oe={class:"flex flex-col md:flex-row items-center justify-between gap-4"},re={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},ae={class:"text-indigo-600 dark:text-indigo-400"},le={class:"text-sm text-gray-500 dark:text-gray-400 mt-1 truncate max-w-xl"},ne={class:"flex items-center gap-3"},ie={class:"py-12"},de={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ce={class:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start"},ge={class:"lg:col-span-2 space-y-8"},me={class:"bg-white dark:bg-gray-800 shadow-sm sm:rounded-lg"},ue={class:"p-6"},xe={class:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4 text-sm"},pe={class:"md:col-span-2"},ye={class:"text-gray-900 dark:text-gray-100 mt-1"},ve={class:"text-gray-900 dark:text-gray-100 mt-1"},fe={class:"text-gray-900 dark:text-gray-100 mt-1"},ke={class:"md:col-span-2"},he={class:"text-gray-900 dark:text-gray-100 mt-1 whitespace-pre-wrap"},we={class:"md:col-span-2"},be={class:"text-gray-900 dark:text-gray-100 mt-1 whitespace-pre-wrap"},_e={class:"grid grid-cols-1 md:grid-cols-5 gap-8"},Ce={class:"md:col-span-2 bg-white dark:bg-gray-800 shadow-sm sm:rounded-lg"},De={class:"p-6"},Ve={class:"md:col-span-3 bg-white dark:bg-gray-800 shadow-sm sm:rounded-lg"},je={class:"p-6"},Me={key:0,class:"text-center py-8 text-gray-500 dark:text-gray-400"},Te={key:1,class:"divide-y divide-gray-200 dark:divide-gray-700"},Ue={class:"min-w-0"},Se=["href"],Be={class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},Fe={key:0},$e={class:"shrink-0 flex items-center gap-2"},ze=["href"],Ee=["href"],Ae=["onClick"],Ne={class:"lg:col-span-1"},Le={class:"sticky top-8 space-y-6"},Re={class:"bg-white dark:bg-gray-800 shadow-sm sm:rounded-lg p-6"},He={class:"mt-4 space-y-4 text-sm"},Pe={class:"mt-1"},qe={class:"text-gray-900 dark:text-gray-100 mt-1"},Oe={class:"text-gray-900 dark:text-gray-100 mt-1"},Ze={class:"bg-white dark:bg-gray-800 shadow-sm sm:rounded-lg p-6"},Ie={class:"mt-4 space-y-4 text-sm"},Ye={class:"text-gray-900 dark:text-gray-100 mt-1"},Ge={class:"text-gray-900 dark:text-gray-100 mt-1"},Je={class:"text-gray-900 dark:text-gray-100 mt-1"},Ke={class:"text-gray-900 dark:text-gray-100 mt-1"},Qe={class:"bg-white dark:bg-gray-800 shadow-sm sm:rounded-lg p-6"},We={class:"mt-4 space-y-4 text-sm"},Xe={class:"mt-1"},et=["href"],tt={key:1},st={class:"mt-1"},ot=["href"],rt={key:1},at={class:"text-gray-900 dark:text-gray-100 mt-1 break-all"},lt={class:"text-gray-900 dark:text-gray-100 mt-1 break-all"},nt={class:"p-6"},it={class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},dt={class:"font-semibold"},ct={class:"mt-6 flex justify-end"},gt={class:"p-6"},mt={class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},ut={class:"font-semibold"},xt={class:"mt-6 flex justify-end"},Mt={__name:"Show",props:{proceso:{type:Object,required:!0}},setup(s){const k=s;G();const F=J(()=>{var a;return((a=k.proceso)==null?void 0:a.documentos)??[]}),x=a=>a??"—",h=a=>a?new Date(a).toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"}):"—",$=a=>{if(!a)return{text:"Sin fecha",classes:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300 ring-1 ring-inset ring-gray-500/20"};const t=new Date(a);if(isNaN(t.getTime()))return{text:"Fecha inválida",classes:"bg-gray-100 text-gray-800"};const p=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())),g=new Date,w=new Date(Date.UTC(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate())),v=Math.ceil((p.getTime()-w.getTime())/864e5),f=t.toLocaleDateString("es-CO",{month:"short",day:"numeric",timeZone:"UTC"});return v<=2?{text:v<0?`Vencido (${f})`:`Urgente (${f})`,classes:"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-200 ring-1 ring-inset ring-red-600/20"}:v<=4?{text:`Próximo (${f})`,classes:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-200 ring-1 ring-inset ring-yellow-600/20"}:{text:h(a),classes:"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-200 ring-1 ring-inset ring-green-600/20"}},b=j(!1),z=M({}),P=()=>b.value=!0,_=()=>b.value=!1,q=()=>{z.delete(route("procesos.destroy",k.proceso.id),{onSuccess:()=>_()})},l=M({archivo:null,nombre:"",nota:""}),C=j(null),O=a=>{var p;const t=(p=a.target.files)==null?void 0:p[0];if(t&&(l.archivo=t,!l.nombre)){const g=t.name.split(".");g.length>1&&g.pop(),l.nombre=g.join(".")||t.name}},Z=()=>{l.archivo&&l.post(route("procesos.documentos.store",k.proceso.id),{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{l.reset(),C.value&&(C.value.value="")}})},y=j(null),E=M({}),I=a=>y.value=a,D=()=>y.value=null,Y=()=>{y.value&&E.delete(route("procesos.documentos.destroy",{proceso:k.proceso.id,documento:y.value.id}),{preserveScroll:!0,onSuccess:()=>D()})};return(a,t)=>(u(),m(N,null,[r(n(K),{title:`Radicado ${s.proceso.radicado||""}`},null,8,["title"]),r(ee,null,{header:d(()=>[e("div",oe,[e("div",null,[e("h2",re,[t[2]||(t[2]=c(" Expediente ",-1)),e("span",ae,o(s.proceso.radicado||"—"),1)]),e("p",le,o(x(s.proceso.asunto)),1)]),e("div",ne,[r(n(L),{href:a.route("procesos.edit",s.proceso.id)},{default:d(()=>[r(H,null,{default:d(()=>t[3]||(t[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L14.732 3.732z"})],-1),c(" Editar ",-1)])),_:1,__:[3]})]),_:1},8,["href"]),r(U,{onClick:P},{default:d(()=>t[4]||(t[4]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),c(" Eliminar ",-1)])),_:1,__:[4]}),r(n(L),{href:a.route("procesos.index")},{default:d(()=>[r(T,null,{default:d(()=>t[5]||(t[5]=[c("Volver",-1)])),_:1,__:[5]})]),_:1},8,["href"])])])]),default:d(()=>{var p,g,w,v,f,V;return[e("div",ie,[e("div",de,[e("div",ce,[e("div",ge,[e("div",me,[e("div",ue,[t[11]||(t[11]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),e("span",null,"Información del Proceso")],-1)),e("dl",xe,[e("div",pe,[t[6]||(t[6]=e("dt",{class:"text-xs uppercase text-gray-500"},"Juzgado / Entidad",-1)),e("dd",ye,o(((p=s.proceso.juzgado)==null?void 0:p.nombre)||"—"),1)]),e("div",null,[t[7]||(t[7]=e("dt",{class:"text-xs uppercase text-gray-500"},"Tipo de proceso",-1)),e("dd",ve,o(((g=s.proceso.tipo_proceso)==null?void 0:g.nombre)||"—"),1)]),e("div",null,[t[8]||(t[8]=e("dt",{class:"text-xs uppercase text-gray-500"},"Naturaleza",-1)),e("dd",fe,o(x(s.proceso.naturaleza)),1)]),e("div",ke,[t[9]||(t[9]=e("dt",{class:"text-xs uppercase text-gray-500"},"Última actuación",-1)),e("dd",he,o(x(s.proceso.ultima_actuacion)),1)]),e("div",we,[t[10]||(t[10]=e("dt",{class:"text-xs uppercase text-gray-500"},"Observaciones",-1)),e("dd",be,o(x(s.proceso.observaciones)),1)])])])]),e("div",_e,[e("div",Ce,[e("div",De,[t[12]||(t[12]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"},"Agregar documento",-1)),e("form",{onSubmit:Q(Z,["prevent"]),class:"space-y-4"},[e("div",null,[r(S,{value:"Archivo",for:"file-upload",class:"sr-only"}),e("input",{ref_key:"fileInput",ref:C,id:"file-upload",type:"file",accept:"*/*",onChange:O,class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 dark:file:bg-gray-700 dark:file:text-gray-200 dark:hover:file:bg-gray-600"},null,544),r(B,{message:n(l).errors.archivo,class:"mt-2"},null,8,["message"])]),e("div",null,[r(S,{for:"nombre",value:"Nombre del documento"}),r(te,{id:"nombre",modelValue:n(l).nombre,"onUpdate:modelValue":t[0]||(t[0]=i=>n(l).nombre=i),class:"mt-1 block w-full",type:"text"},null,8,["modelValue"]),r(B,{message:n(l).errors.nombre,class:"mt-2"},null,8,["message"])]),e("div",null,[r(S,{for:"nota",value:"Nota (opcional)"}),r(se,{id:"nota",modelValue:n(l).nota,"onUpdate:modelValue":t[1]||(t[1]=i=>n(l).nota=i),rows:"2",class:"mt-1 block w-full"},null,8,["modelValue"]),r(B,{message:n(l).errors.nota,class:"mt-2"},null,8,["message"])]),r(H,{disabled:n(l).processing||!n(l).archivo,class:A({"opacity-25":n(l).processing||!n(l).archivo}),type:"submit"},{default:d(()=>[c(o(n(l).processing?"Subiendo…":"Subir Documento"),1)]),_:1},8,["disabled","class"])],32)])]),e("div",Ve,[e("div",je,[t[17]||(t[17]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"},"Documentos del proceso",-1)),F.value.length===0?(u(),m("div",Me,t[13]||(t[13]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("p",{class:"mt-2 text-sm"},"Aún no hay documentos adjuntos.",-1)]))):(u(),m("ul",Te,[(u(!0),m(N,null,W(F.value,i=>(u(),m("li",{key:i.id,class:"py-3 flex items-start justify-between gap-4"},[e("div",Ue,[e("a",{href:a.route("documentos-proceso.view",i.id),target:"_blank",rel:"noopener",class:"font-medium text-gray-900 dark:text-gray-100 break-all hover:underline"},o(x(i.file_name)),9,Se),e("p",Be,[c(o(h(i.created_at))+" ",1),i.descripcion?(u(),m("span",Fe," · "+o(i.descripcion),1)):X("",!0)])]),e("div",$e,[e("a",{href:a.route("documentos-proceso.view",i.id),target:"_blank",rel:"noopener",class:"text-gray-400 hover:text-indigo-600",title:"Ver"},t[14]||(t[14]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M12 5c-7.633 0-10 7-10 7s2.367 7 10 7 10-7 10-7-2.367-7-10-7Zm0 12a5 5 0 1 1 0-10 5 5 0 0 1 0 10Z"})],-1)]),8,ze),e("a",{href:a.route("documentos-proceso.download",i.id),class:"text-gray-400 hover:text-gray-700 dark:hover:text-gray-300",title:"Descargar"},t[15]||(t[15]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1)]),8,Ee),e("button",{type:"button",onClick:pt=>I(i),class:"text-gray-400 hover:text-red-600",title:"Eliminar"},t[16]||(t[16]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,Ae)])]))),128))]))])])])]),e("div",Ne,[e("div",Le,[e("div",Re,[t[21]||(t[21]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0h18"})]),e("span",null,"Seguimiento y Fechas")],-1)),e("dl",He,[e("div",null,[t[18]||(t[18]=e("dt",{class:"text-xs uppercase text-gray-500"},"Próxima Revisión",-1)),e("dd",Pe,[e("span",{class:A(["inline-flex items-center rounded-md px-2 py-1 text-xs font-semibold",$(s.proceso.fecha_proxima_revision).classes])},o($(s.proceso.fecha_proxima_revision).text),3)])]),e("div",null,[t[19]||(t[19]=e("dt",{class:"text-xs uppercase text-gray-500"},"Fecha de Revisión",-1)),e("dd",qe,o(h(s.proceso.fecha_revision)),1)]),e("div",null,[t[20]||(t[20]=e("dt",{class:"text-xs uppercase text-gray-500"},"Fecha de Radicado",-1)),e("dd",Oe,o(h(s.proceso.fecha_radicado)),1)])])]),e("div",Ze,[t[26]||(t[26]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197"})]),e("span",null,"Partes y Responsables")],-1)),e("dl",Ie,[e("div",null,[t[22]||(t[22]=e("dt",{class:"text-xs uppercase text-gray-500"},"Demandante / Denunciante",-1)),e("dd",Ye,o(((w=s.proceso.demandante)==null?void 0:w.nombre_completo)||"—"),1)]),e("div",null,[t[23]||(t[23]=e("dt",{class:"text-xs uppercase text-gray-500"},"Demandado / Denunciado",-1)),e("dd",Ge,o(((v=s.proceso.demandado)==null?void 0:v.nombre_completo)||"—"),1)]),e("div",null,[t[24]||(t[24]=e("dt",{class:"text-xs uppercase text-gray-500"},"Abogado / Gestor",-1)),e("dd",Je,o(((f=s.proceso.abogado)==null?void 0:f.name)||"—"),1)]),e("div",null,[t[25]||(t[25]=e("dt",{class:"text-xs uppercase text-gray-500"},"Responsable de Revisión",-1)),e("dd",Ke,o(((V=s.proceso.responsable_revision)==null?void 0:V.name)||"—"),1)])])]),e("div",Qe,[t[31]||(t[31]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 flex items-center gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"})]),e("span",null,"Enlaces y Contacto")],-1)),e("dl",We,[e("div",null,[t[27]||(t[27]=e("dt",{class:"text-xs uppercase text-gray-500"},"Link expediente digital",-1)),e("dd",Xe,[s.proceso.link_expediente?(u(),m("a",{key:0,href:s.proceso.link_expediente,target:"_blank",rel:"noopener",class:"text-indigo-600 dark:text-indigo-400 hover:underline break-all"},o(s.proceso.link_expediente),9,et)):(u(),m("span",tt,"—"))])]),e("div",null,[t[28]||(t[28]=e("dt",{class:"text-xs uppercase text-gray-500"},"Ubicación en Drive",-1)),e("dd",st,[s.proceso.ubicacion_drive?(u(),m("a",{key:0,href:s.proceso.ubicacion_drive,target:"_blank",rel:"noopener",class:"text-indigo-600 dark:text-indigo-400 hover:underline break-all"},o(s.proceso.ubicacion_drive),9,ot)):(u(),m("span",rt,"—"))])]),e("div",null,[t[29]||(t[29]=e("dt",{class:"text-xs uppercase text-gray-500"},"Correo de radicación",-1)),e("dd",at,o(x(s.proceso.correo_radicacion)),1)]),e("div",null,[t[30]||(t[30]=e("dt",{class:"text-xs uppercase text-gray-500"},"Correos del juzgado",-1)),e("dd",lt,o(x(s.proceso.correos_juzgado)),1)])])])])])])])]),r(R,{show:b.value,onClose:_},{default:d(()=>[e("div",nt,[t[36]||(t[36]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Eliminar radicado",-1)),e("p",it,[t[32]||(t[32]=c(" ¿Seguro que quieres eliminar el radicado ",-1)),e("span",dt,o(x(s.proceso.radicado)),1),t[33]||(t[33]=c("? Esta acción no se puede deshacer y eliminará todos los documentos asociados. ",-1))]),e("div",ct,[r(T,{onClick:_},{default:d(()=>t[34]||(t[34]=[c("Cancelar",-1)])),_:1,__:[34]}),r(U,{class:"ms-3",disabled:n(z).processing,onClick:q},{default:d(()=>t[35]||(t[35]=[c("Sí, eliminar",-1)])),_:1,__:[35]},8,["disabled"])])])]),_:1},8,["show"]),r(R,{show:!!y.value,onClose:D},{default:d(()=>{var i;return[e("div",gt,[t[41]||(t[41]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Eliminar documento",-1)),e("p",mt,[t[37]||(t[37]=c(" ¿Eliminar el documento ",-1)),e("span",ut,o((i=y.value)==null?void 0:i.file_name),1),t[38]||(t[38]=c("? ",-1))]),e("div",xt,[r(T,{onClick:D},{default:d(()=>t[39]||(t[39]=[c("Cancelar",-1)])),_:1,__:[39]}),r(U,{class:"ms-3",disabled:n(E).processing,onClick:Y},{default:d(()=>t[40]||(t[40]=[c("Sí, eliminar",-1)])),_:1,__:[40]},8,["disabled"])])])]}),_:1},8,["show"])]}),_:1})],64))}};export{Mt as default};
