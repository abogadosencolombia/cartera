import{l as S,r as T,s as F,z as Yt,c as n,o as i,b as m,u as a,h as Kt,w as D,a as e,t as d,i as b,n as M,F as E,e as nt,g as N,x as L,d as k,f as h,v as vt}from"./app-D6fBSztB.js";import{_ as Qt}from"./AuthenticatedLayout-_MACS7lg.js";import{_ as it}from"./Pagination-CSAILcR0.js";import{_ as z}from"./Modal-BMJ9k-EC.js";import{_}from"./InputError-HqrJXC_t.js";import"./ApplicationLogo-Dh4pLsNN.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Wt={class:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4"},Zt={class:"text-sm text-gray-500 dark:text-gray-400"},qt={class:"font-mono"},te={class:"flex items-center gap-2 flex-wrap"},ee=["href"],oe=["href"],re={class:"py-8"},ae={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},se={class:"grid grid-cols-2 md:grid-cols-4 gap-6"},de={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg p-5"},le={class:"mt-1 text-2xl font-bold text-gray-900 dark:text-gray-100"},ne={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg p-5"},ie={class:"mt-1 text-2xl font-bold text-blue-600 dark:text-blue-400"},ge={key:0,class:"text-xs text-red-600 dark:text-red-400 font-semibold mt-1"},ue={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg p-5"},me={class:"mt-1 text-2xl font-bold text-emerald-600 dark:text-emerald-400"},be={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg p-5"},ce={class:"mt-1 text-2xl font-bold text-red-600 dark:text-red-400"},pe={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},xe={class:"lg:col-span-2 space-y-6"},ye={class:"bg-white dark:bg-gray-800 shadow-sm sm:rounded-lg"},fe={class:"p-4 sm:p-6"},ve={class:"border-b border-gray-200 dark:border-gray-700"},ke={class:"-mb-px flex space-x-4 sm:space-x-6 overflow-x-auto","aria-label":"Tabs"},_e={class:"mt-6"},he={key:0,class:"space-y-4"},we={key:0,class:"text-center py-12 text-gray-500 dark:text-gray-400"},Ce={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},Ae={class:"flex-1"},Se={class:"font-bold text-lg text-gray-800 dark:text-gray-100"},Ne={class:"text-sm text-gray-500"},Me={class:"w-full sm:w-auto grid grid-cols-2 sm:flex sm:items-center gap-4 text-right"},Ee={class:"sm:pr-4 sm:border-r dark:border-gray-600"},Ie={class:"font-mono"},Re={class:"sm:pr-4 sm:border-r dark:border-gray-600"},Oe={class:"font-mono text-red-600"},Te={class:"sm:pr-4 sm:border-r dark:border-gray-600"},Pe={class:"font-mono text-emerald-600"},De={class:"col-span-2 sm:col-span-1"},Ve={class:"font-bold text-lg font-mono text-indigo-600 dark:text-indigo-400"},Fe={class:"flex-shrink-0"},je=["onClick"],Ue={key:1},Ge={key:0,class:"text-center py-8 text-gray-500 dark:text-gray-400"},$e={key:1,class:"space-y-4"},Le={class:"flex items-start sm:items-center gap-4 p-4 flex-col sm:flex-row"},ze={class:"flex-shrink-0"},Be={key:0,class:"inline-flex justify-center items-center w-8 h-8 rounded-full bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300"},He={key:1,class:"inline-flex justify-center items-center w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300"},Xe={class:"flex-1 space-y-1 w-full"},Je={class:"flex items-center gap-3 text-sm flex-wrap"},Ye={class:"font-bold text-gray-800 dark:text-gray-100"},Ke={class:"text-gray-500"},Qe={key:0,class:"text-xs sm:text-sm text-red-700 dark:text-red-300 font-medium"},We={key:1,class:"text-xs sm:text-sm text-red-700 dark:text-red-300 font-medium"},Ze=["textContent"],qe=["href"],to={class:"flex items-center gap-4 self-end sm:self-center"},eo=["onClick"],oo={key:0,class:"bg-emerald-50 dark:bg-gray-700/50 border-t border-emerald-200 dark:border-emerald-800 px-4 py-3 text-sm"},ro={class:"font-semibold text-emerald-800 dark:text-emerald-300"},ao={key:0,class:"text-gray-600 dark:text-gray-400 mt-1 italic"},so=["href"],lo={class:"mt-6 pt-4 border-t-2 border-dashed dark:border-gray-700 text-right"},no={class:"text-sm text-gray-500"},io={class:"font-bold text-gray-800 dark:text-gray-200"},go={key:0,class:"text-xs text-red-600 dark:text-red-400"},uo={class:"text-sm text-amber-600 mt-1"},mo={class:"font-bold"},bo={key:2},co={key:0,class:"text-center py-8 text-gray-500 dark:text-gray-400"},po={key:1,class:"space-y-4"},xo={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},yo={class:"flex items-center gap-3"},fo={class:"font-medium"},vo={class:"text-center"},ko={class:"text-right"},_o={class:"font-mono font-semibold text-gray-800 dark:text-gray-200"},ho={class:"mt-3 grid grid-cols-1 md:grid-cols-3 gap-3 text-sm"},wo={class:"font-medium"},Co={class:"md:col-span-2"},Ao={class:"text-gray-700 dark:text-gray-300 break-words"},So={class:"mt-3"},No=["href"],Mo={key:1,class:"text-xs text-gray-400"},Eo={class:"space-y-6"},Io={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg"},Ro={class:"p-6 space-y-4 text-sm"},Oo={class:"flex justify-between"},To={class:"font-medium text-gray-800 dark:text-gray-200"},Po={class:"flex justify-between"},Do={class:"font-medium text-gray-800 dark:text-gray-200"},Vo={class:"flex justify-between"},Fo={class:"font-medium text-gray-800 dark:text-gray-200"},jo={key:0,class:"flex justify-between"},Uo={class:"font-bold text-purple-600 dark:text-purple-400"},Go={key:1,class:"flex justify-between"},$o={class:"font-medium text-gray-800 dark:text-gray-200"},Lo={key:2,class:"flex justify-between"},zo={class:"font-medium text-gray-800 dark:text-gray-200"},Bo={key:3,class:"flex justify-between border-t pt-4 mt-4 dark:border-gray-700"},Ho={class:"font-medium text-gray-800 dark:text-gray-200"},Xo={class:"flex justify-between items-center"},Jo={class:"p-6 border-b dark:border-gray-700"},Yo={class:"font-semibold text-lg text-gray-800 dark:text-gray-100"},Ko={class:"p-6 space-y-4"},Qo={class:"mt-1 text-xs text-gray-500"},Wo={class:"grid grid-cols-2 gap-4"},Zo={class:"px-6 py-4 bg-gray-50 dark:bg-gray-900/50 flex items-center justify-end gap-3 rounded-b-xl"},qo=["disabled"],tr={class:"p-6 space-y-4"},er={class:"p-4 rounded-md bg-gray-50 dark:bg-gray-900/50 text-sm"},or={class:"font-medium text-gray-700 dark:text-gray-300"},rr={class:"text-gray-500"},ar={class:"text-xs"},sr={class:"mt-1 text-xs text-gray-500"},dr={class:"grid grid-cols-2 gap-4"},lr={class:"px-6 py-4 bg-gray-50 dark:bg-gray-900/50 flex items-center justify-end gap-3 rounded-b-xl"},nr=["disabled"],ir={class:"p-6 space-y-4"},gr={class:"px-6 py-4 bg-gray-50 dark:bg-gray-900/50 flex items-center justify-end gap-3 rounded-b-xl"},ur=["disabled"],mr={class:"p-6 space-y-4"},br={class:"px-6 py-4 bg-gray-50 dark:bg-gray-900/50 flex items-center justify-end gap-3 rounded-b-xl"},cr=["disabled"],pr={class:"p-6 space-y-4"},xr={class:"text-sm text-gray-600 dark:text-gray-400"},yr={class:"px-6 py-4 bg-gray-50 dark:bg-gray-900/50 flex items-center justify-end gap-3 rounded-b-xl"},fr=["disabled"],Sr={__name:"Show",props:{contrato:{type:Object,default:()=>({})},cliente:{type:Object,default:()=>({})},cuotas:{type:Object,default:()=>({data:[]})},pagos:{type:Object,default:()=>({data:[]})},cargos:{type:Object,default:()=>({data:[]})},total_cargos_valor:{type:Number,default:0},total_pagos_valor:{type:Number,default:0}},setup(kt){const s=kt,u=o=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0}).format(Number(o||0)),V=o=>o?new Date(String(o).replace(/-/g,"/")).toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric"}):"N/A",P=new Date().toISOString().slice(0,10),gt=o=>{if(!o)return null;const t=new Date(String(o).replace(/-/g,"/"));return isNaN(t.getTime())?null:t},_t=(o,t)=>{const l=gt(o),g=gt(t||new Date().toISOString().slice(0,10));if(!l||!g)return null;const c=new Date(l.getFullYear(),l.getMonth(),l.getDate()),v=new Date(g.getFullYear(),g.getMonth(),g.getDate());return Math.floor((v-c)/864e5)},ht=S(()=>{var o,t;return((o=s.cliente)==null?void 0:o.nombre)??`ID ${(t=s.cliente)==null?void 0:t.id}`}),wt=S(()=>{const o=s.contrato||{},t=String(o.modalidad||"");if(["LITIS","CUOTA_MIXTA"].includes(t)){const l=t==="CUOTA_MIXTA"?Number(o.monto_total||0):0;if(Number(o.litis_valor_ganado||0)>0)return l+Number(o.litis_valor_ganado||0);if(Number(o.monto_base_litis||0)>0){const g=Number(o.monto_base_litis)*Number(o.porcentaje_litis||0)/100;return l+g}return l}return Number(o.monto_total||0)}),ut=S(()=>{var t;const o=Number((t=s.contrato)==null?void 0:t.anticipo)||0;return Math.max(0,wt.value-o)}),Ct=S(()=>Math.abs(Number(s.total_cargos_valor)||0)),mt=S(()=>Math.abs(Number(s.total_pagos_valor)||0)),j=S(()=>{var l,g;const o=(((l=s.cuotas)==null?void 0:l.data)||[]).reduce((c,v)=>c+Number(v.intereses_mora_acumulados||0),0),t=(((g=s.cargos)==null?void 0:g.data)||[]).filter(c=>String(c.tipo||"")!=="INTERES_MORA").reduce((c,v)=>c+Number(v.intereses_mora_acumulados||0),0);return o+t}),X=S(()=>Ct.value+j.value),bt=S(()=>Math.max(0,ut.value+X.value-mt.value)),At=S(()=>{var o;return(o=s.cargos)!=null&&o.data?s.cargos.data.filter(t=>t.estado==="PENDIENTE").reduce((t,l)=>{const g=Math.abs(Number(l.monto)||0),c=String(l.tipo||"")==="INTERES_MORA"?0:Math.abs(Number(l.intereses_mora_acumulados)||0);return t+g+c},0):0}),ct=o=>o!=null&&o.comprobante?route("honorarios.contratos.pagos.verComprobante",{pago_id:o.id}):null,St=o=>o!=null&&o.comprobante?route("honorarios.contratos.cargos.verComprobante",{cargo_id:o.id}):null,Nt=o=>o!=null&&o.comprobante_pago_cargo?`/storage/${o.comprobante_pago_cargo}`:null,Mt=o=>{var t;return(((t=s.cuotas)==null?void 0:t.data)||[]).find(l=>l.id===o)},Et=o=>{var t;return(((t=s.cargos)==null?void 0:t.data)||[]).find(l=>l.id===o)},pt=o=>{if(String((o==null?void 0:o.tipo)||"")!=="INTERES_MORA")return null;const t=(o==null?void 0:o.cuota_id)??(o==null?void 0:o.cuotaId)??(o==null?void 0:o.rel_cuota_id)??(o==null?void 0:o.origen_cuota_id)??(o==null?void 0:o.sobre_cuota_id)??(o==null?void 0:o.cuota_referencia_id),l=(o==null?void 0:o.cargo_id)??(o==null?void 0:o.cargoId)??(o==null?void 0:o.rel_cargo_id)??(o==null?void 0:o.origen_cargo_id)??(o==null?void 0:o.sobre_cargo_id)??(o==null?void 0:o.cargo_referencia_id);return t?{tipo:"CUOTA",cuota:Mt(t)}:l?{tipo:"CARGO",cargo:Et(l)}:null},It=o=>{var v,O;const t=pt(o),l=P;let g=null;(t==null?void 0:t.tipo)==="CUOTA"&&((v=t.cuota)!=null&&v.fecha_vencimiento)?g=t.cuota.fecha_vencimiento:(t==null?void 0:t.tipo)==="CARGO"&&((O=t.cargo)!=null&&O.fecha_aplicado)?g=t.cargo.fecha_aplicado:g=o==null?void 0:o.fecha_aplicado;const c=_t(g,l);return c&&c>0?c:0},Rt=o=>{var g,c,v;const t=pt(o),l=It(o);return(t==null?void 0:t.tipo)==="CUOTA"?`Interés de mora sobre cuota #${((g=t.cuota)==null?void 0:g.numero)??((c=t.cuota)==null?void 0:c.id)}${l?` · ${l} día${l===1?"":"s"} vencida`:""}`:(t==null?void 0:t.tipo)==="CARGO"?`Interés de mora sobre cargo aplicado el ${V((v=t.cargo)==null?void 0:v.fecha_aplicado)}${l?` · ${l} día${l===1?"":"s"} vencido`:""}`:`Interés de mora${l?` · ${l} día${l===1?"":"s"} vencido`:""}`},xt=o=>{var t;return(((t=s.pagos)==null?void 0:t.data)||[]).filter(l=>l.cuota_id===o.id).reduce((l,g)=>l+Number(g.valor||0),0)},Ot=o=>Number((o==null?void 0:o.valor)||0)+Number((o==null?void 0:o.intereses_mora_acumulados)||0),J=o=>Math.max(0,Ot(o)-xt(o)),B=o=>Number((o==null?void 0:o.monto)||0)+(String((o==null?void 0:o.tipo)||"")==="INTERES_MORA"?0:Number((o==null?void 0:o.intereses_mora_acumulados)||0)),Tt=o=>{var t;if(o!=null&&o.cuota_id){const l=(((t=s.cuotas)==null?void 0:t.data)||[]).find(g=>g.id===o.cuota_id);return l?`Cuota #${l.numero}`:"Cuota"}return o!=null&&o.cargo_id?"Cargo adicional":"Abono General"},Y=T(!1),K=T(null),x=F({cuota_id:null,valor:"",fecha:P,metodo:"TRANSFERENCIA",nota:"",comprobante:null}),Pt=o=>{K.value=o,x.reset(),x.cuota_id=o.id,x.valor=J(o),x.fecha=P,Y.value=!0},Q=()=>{Y.value=!1},Dt=()=>{x.post(route("honorarios.contratos.pagar",s.contrato.id),{preserveScroll:!0,forceFormData:!0,onSuccess:Q})},W=T(!1),w=T(null),y=F({cargo_id:null,valor:"",fecha:P,metodo:"TRANSFERENCIA",nota:"",comprobante:null}),Vt=o=>{w.value=o,y.reset(),y.cargo_id=o.id,y.valor=B(o),y.fecha=P,W.value=!0},Z=()=>{W.value=!1},Ft=()=>{y.post(route("honorarios.contratos.cargos.pagar",s.contrato.id),{preserveScroll:!0,forceFormData:!0,onSuccess:Z})},q=T(!1),f=F({monto:"",descripcion:"",fecha:P,comprobante:null,fecha_inicio_intereses:""}),jt=()=>{f.reset(),f.fecha=P,q.value=!0},tt=()=>{q.value=!1},Ut=()=>{f.post(route("honorarios.contratos.cargos.store",s.contrato.id),{preserveScroll:!0,forceFormData:!0,onSuccess:tt})},et=T(!1),C=F({monto:"",descripcion:"",fecha_inicio_intereses:""}),Gt=()=>{C.reset(),et.value=!0},ot=()=>{et.value=!1},$t=()=>{C.post(route("honorarios.contratos.cerrar",s.contrato.id),{preserveScroll:!0,onSuccess:ot})},rt=T(!1),I=F({monto_base_litis:"",fecha_inicio_intereses:""}),Lt=()=>{I.reset(),rt.value=!0},at=()=>{rt.value=!1},zt=()=>{I.post(route("honorarios.contratos.resolverLitis",s.contrato.id),{preserveScroll:!0,onSuccess:at})},st=F({}),Bt=()=>{const o=s.contrato;["LITIS","CUOTA_MIXTA"].includes(o==null?void 0:o.modalidad)&&!Number(o==null?void 0:o.monto_base_litis)&&!Number(o==null?void 0:o.litis_valor_ganado)?Lt():Gt()},H={ACTIVO:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300",PAGOS_PENDIENTES:"bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-300",CERRADO:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"},R=T("cargos"),dt=o=>{R.value=o;const t=new URL(window.location);t.searchParams.set("tab",o),window.history.replaceState({},"",t)};Yt(()=>{const o=new URLSearchParams(window.location.search).get("tab");o&&["cuotas","cargos","pagos"].includes(o)&&(R.value=o)});const lt=o=>{if(!o)return null;try{const t=new URL(o,window.location.origin);return t.searchParams.set("tab",R.value),t.toString()}catch{return o}},Ht=S(()=>{var o;return(((o=s.cuotas)==null?void 0:o.links)||[]).map(t=>({...t,url:lt(t.url)}))}),Xt=S(()=>{var o;return(((o=s.cargos)==null?void 0:o.links)||[]).map(t=>({...t,url:lt(t.url)}))}),Jt=S(()=>{var o;return(((o=s.pagos)==null?void 0:o.links)||[]).map(t=>({...t,url:lt(t.url)}))});return(o,t)=>{var l;return i(),n(E,null,[m(a(Kt),{title:`Honorarios · Contrato #${(l=s.contrato)==null?void 0:l.id}`},null,8,["title"]),m(Qt,null,{header:D(()=>{var g,c,v,O,r,p,U,G,$,A,yt;return[e("div",Wt,[e("div",null,[t[28]||(t[28]=e("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},"Detalle del Contrato",-1)),e("p",Zt,[t[26]||(t[26]=N(" Contrato ",-1)),e("span",qt,"#"+d((g=s.contrato)==null?void 0:g.id),1),t[27]||(t[27]=e("span",{class:"mx-2"},"|",-1)),e("span",{class:M(["px-2 py-0.5 rounded-full text-xs font-semibold",H[(c=s.contrato)==null?void 0:c.estado]||H.CERRADO])},d((O=(v=s.contrato)==null?void 0:v.estado)==null?void 0:O.replace("_"," ")),3)])]),e("div",te,[["ACTIVO","PAGOS_PENDIENTES"].includes((r=s.contrato)==null?void 0:r.estado)?(i(),n("button",{key:0,onClick:jt,class:"text-sm px-3 py-1.5 rounded-md bg-blue-50 dark:bg-blue-900/40 text-blue-700 dark:text-blue-200 border border-blue-200 dark:border-blue-800 hover:bg-blue-100 dark:hover:bg-blue-900"}," Añadir Gasto ")):b("",!0),((p=s.contrato)==null?void 0:p.estado)==="ACTIVO"?(i(),n("button",{key:1,onClick:Bt,class:"text-sm px-3 py-1.5 rounded-md bg-slate-700 text-white hover:bg-slate-800"},d(["LITIS","CUOTA_MIXTA"].includes((U=s.contrato)==null?void 0:U.modalidad)&&!Number((G=s.contrato)==null?void 0:G.monto_base_litis)&&!Number(($=s.contrato)==null?void 0:$.litis_valor_ganado)?"Registrar Resultado y Cerrar":"Cerrar Contrato"),1)):b("",!0),((A=s.contrato)==null?void 0:A.estado)==="PAGOS_PENDIENTES"?(i(),n(E,{key:2},[bt.value<=0?(i(),n("button",{key:0,onClick:t[0]||(t[0]=ft=>a(st).post(o.route("honorarios.contratos.saldar",s.contrato.id),{preserveScroll:!0})),class:"text-sm px-3 py-1.5 rounded-md bg-emerald-600 text-white hover:bg-emerald-700"}," Saldar y Cerrar ")):b("",!0),e("button",{onClick:t[1]||(t[1]=ft=>a(st).post(o.route("honorarios.contratos.reabrir",s.contrato.id),{preserveScroll:!0})),class:"text-sm px-3 py-1.5 rounded-md bg-amber-600 text-white hover:bg-amber-700"}," Reabrir ")],64)):b("",!0),((yt=s.contrato)==null?void 0:yt.estado)==="CERRADO"?(i(),n("button",{key:3,onClick:t[2]||(t[2]=ft=>a(st).post(o.route("honorarios.contratos.reabrir",s.contrato.id),{preserveScroll:!0})),class:"text-sm px-3 py-1.5 rounded-md bg-amber-600 text-white hover:bg-amber-700"}," Reabrir ")):b("",!0),e("a",{href:o.route("honorarios.contratos.pdf.contrato",s.contrato.id),target:"_blank",rel:"noopener",class:"text-sm px-3 py-1.5 rounded-md bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"}," PDF Contrato ",8,ee),e("a",{href:o.route("honorarios.contratos.pdf.liquidacion",s.contrato.id),target:"_blank",rel:"noopener",class:"text-sm px-3 py-1.5 rounded-md bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"}," PDF Liquidación ",8,oe)])])]}),default:D(()=>{var g,c,v,O;return[e("div",re,[e("div",ae,[e("div",se,[e("div",de,[t[29]||(t[29]=e("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"Neto Contrato",-1)),e("div",le,d(u(ut.value)),1)]),e("div",ne,[t[30]||(t[30]=e("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"(+) Cargos Adicionales",-1)),e("div",ie,d(u(X.value)),1),j.value>0?(i(),n("div",ge," (Incluye "+d(u(j.value))+" en mora) ",1)):b("",!0)]),e("div",ue,[t[31]||(t[31]=e("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"(-) Total Pagado",-1)),e("div",me,d(u(mt.value)),1)]),e("div",be,[t[32]||(t[32]=e("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"(=) Saldo Pendiente",-1)),e("div",ce,d(u(bt.value)),1)])]),e("div",pe,[e("div",xe,[e("div",ye,[e("div",fe,[e("div",ve,[e("nav",ke,[e("button",{onClick:t[3]||(t[3]=r=>dt("cuotas")),class:M([R.value==="cuotas"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700","whitespace-nowrap pb-3 px-1 border-b-2 font-medium text-sm"])},"Plan de Pagos",2),e("button",{onClick:t[4]||(t[4]=r=>dt("cargos")),class:M([R.value==="cargos"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700","whitespace-nowrap pb-3 px-1 border-b-2 font-medium text-sm"])},"Cargos Adicionales",2),e("button",{onClick:t[5]||(t[5]=r=>dt("pagos")),class:M([R.value==="pagos"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700","whitespace-nowrap pb-3 px-1 border-b-2 font-medium text-sm"])},"Historial de Pagos",2)])]),e("div",_e,[R.value==="cuotas"?(i(),n("div",he,[(((g=s.cuotas)==null?void 0:g.data)||[]).length?b("",!0):(i(),n("div",we,t[33]||(t[33]=[e("p",null,"No hay cuotas definidas para este contrato.",-1)]))),(i(!0),n(E,null,nt(s.cuotas.data,r=>(i(),n("div",{key:r.id,class:M(["border rounded-lg p-4 transition-all",r.estado==="PAGADA"?"bg-emerald-50/50 dark:bg-emerald-900/10 border-emerald-200 dark:border-emerald-800":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"])},[e("div",Ce,[e("div",Ae,[e("p",Se,[N(" Cuota #"+d(r.numero)+" ",1),e("span",{class:M(["ml-2 px-2.5 py-0.5 rounded-full text-xs font-semibold",r.estado==="PAGADA"?"bg-emerald-100 text-emerald-800":"bg-amber-100 text-amber-800"])},d(r.estado==="PAGADA"||r.fecha_pago?"PAGADA":r.estado||"PENDIENTE"),3)]),e("p",Ne,"Vence: "+d(V(r.fecha_vencimiento)),1)]),e("div",Me,[e("div",Ee,[t[34]||(t[34]=e("p",{class:"text-xs text-gray-500"},"Valor",-1)),e("p",Ie,d(u(r.valor)),1)]),e("div",Re,[t[35]||(t[35]=e("p",{class:"text-xs text-red-500"},"Mora",-1)),e("p",Oe,d(u(r.intereses_mora_acumulados)),1)]),e("div",Te,[t[36]||(t[36]=e("p",{class:"text-xs text-gray-500"},"Pagado",-1)),e("p",Pe,d(u(xt(r))),1)]),e("div",De,[t[37]||(t[37]=e("p",{class:"text-xs text-gray-500"},"Pendiente",-1)),e("p",Ve,d(u(J(r))),1)])]),e("div",Fe,[s.contrato.estado!=="CERRADO"&&r.estado!=="PAGADA"&&!r.fecha_pago?(i(),n("button",{key:0,onClick:p=>Pt(r),class:"w-full sm:w-auto px-4 py-2 rounded-md bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-700"}," Pagar ",8,je)):b("",!0)])])],2))),128)),m(it,{class:"mt-6",links:Ht.value},null,8,["links"])])):b("",!0),R.value==="cargos"?(i(),n("div",Ue,[(((c=s.cargos)==null?void 0:c.data)||[]).length?(i(),n("div",$e,[(i(!0),n(E,null,nt(s.cargos.data,r=>(i(),n("div",{key:r.id,class:M(["border rounded-lg transition-all",r.estado==="PAGADO"?"bg-emerald-50/50 dark:bg-emerald-900/10 border-emerald-200 dark:border-emerald-900":String(r.tipo||"")==="INTERES_MORA"?"bg-red-50/50 dark:bg-red-900/10 border-red-200 dark:border-red-900":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"])},[e("div",Le,[e("div",ze,[String(r.tipo||"")==="INTERES_MORA"?(i(),n("span",Be,t[39]||(t[39]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})],-1)]))):(i(),n("span",He,t[40]||(t[40]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"}),e("path",{"fill-rule":"evenodd",d:"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z","clip-rule":"evenodd"})],-1)])))]),e("div",Xe,[e("div",Je,[e("span",Ye,[String(r.tipo||"")!=="INTERES_MORA"&&Number(r.intereses_mora_acumulados||0)>0?(i(),n(E,{key:0},[N(d(u(B(r))),1)],64)):(i(),n(E,{key:1},[N(d(u(r.monto)),1)],64))]),e("span",{class:M(["px-2 py-0.5 text-xs rounded-full font-semibold",String(r.tipo||"")==="INTERES_MORA"?"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300"])},d(String(r.tipo||"").replace("_"," ")||"CARGO"),3),e("span",Ke,"Aplicado el "+d(V(r.fecha_aplicado)),1)]),String(r.tipo||"")==="INTERES_MORA"?(i(),n("p",Qe,d(Rt(r)),1)):b("",!0),String(r.tipo||"")!=="INTERES_MORA"&&Number(r.intereses_mora_acumulados||0)>0?(i(),n("p",We," (Valor original: "+d(u(r.monto))+" + "+d(u(r.intereses_mora_acumulados))+" de mora) ",1)):b("",!0),e("p",{class:"text-sm text-gray-600 dark:text-gray-400",textContent:d(r.descripcion)},null,8,Ze),r.comprobante?(i(),n("a",{key:2,href:St(r),target:"_blank",class:"text-xs text-indigo-600 hover:underline font-semibold"},"Ver comprobante de creación",8,qe)):b("",!0)]),e("div",to,[e("span",{class:M(["px-2.5 py-0.5 rounded-full text-xs font-semibold",r.estado==="PAGADO"?"bg-emerald-100 text-emerald-800":"bg-amber-100 text-amber-800"])},d(r.estado),3),r.estado==="PENDIENTE"&&s.contrato.estado!=="CERRADO"?(i(),n("button",{key:0,onClick:p=>Vt(r),class:"px-3 py-1.5 rounded-md bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-700"}," Pagar ",8,eo)):b("",!0)])]),r.estado==="PAGADO"?(i(),n("div",oo,[e("p",ro,"Pagado el "+d(V(r.fecha_pago_cargo))+" vía "+d(r.metodo_pago_cargo)+".",1),r.nota_pago_cargo?(i(),n("p",ao,'"'+d(r.nota_pago_cargo)+'"',1)):b("",!0),r.comprobante_pago_cargo?(i(),n("a",{key:1,href:Nt(r),target:"_blank",class:"mt-1 inline-block text-xs text-indigo-600 hover:underline font-semibold"},"Ver comprobante de pago",8,so)):b("",!0)])):b("",!0)],2))),128)),e("div",lo,[e("p",no,[t[41]||(t[41]=N("Total Cargos: ",-1)),e("span",io,d(u(X.value)),1)]),j.value>0?(i(),n("p",go,"(Incluye "+d(u(j.value))+" en mora)",1)):b("",!0),e("p",uo,[t[42]||(t[42]=N("Total Pendiente: ",-1)),e("span",mo,d(u(At.value)),1)])]),m(it,{class:"mt-6",links:Xt.value},null,8,["links"])])):(i(),n("div",Ge,t[38]||(t[38]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100"},"Sin cargos adicionales",-1),e("p",{class:"mt-1 text-sm text-gray-500"},'Puedes añadir gastos desde el botón "Añadir Gasto".',-1)])))])):b("",!0),R.value==="pagos"?(i(),n("div",bo,[(((v=s.pagos)==null?void 0:v.data)||[]).length?(i(),n("div",po,[(i(!0),n(E,null,nt([...s.pagos.data||[]].sort((r,p)=>new Date(p.fecha)-new Date(r.fecha)),r=>(i(),n("div",{key:r.id,class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4"},[e("div",xo,[e("div",yo,[t[44]||(t[44]=e("div",{class:"flex-shrink-0 inline-flex justify-center items-center w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-600 dark:text-gray-300",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M2 5a2 2 0 012-2h2a2 2 0 012 2v1h2V5a2 2 0 012-2h2a2 2 0 012 2v1h1a1 1 0 110 2h-1v8a2 2 0 01-2 2H5a2 2 0 01-2-2V8H2a1 1 0 110-2h1V5zm3 3v8h10V8H5z"})])],-1)),e("div",null,[t[43]||(t[43]=e("p",{class:"text-sm text-gray-500"},"Fecha",-1)),e("p",fo,d(V(r.fecha)),1)])]),e("div",vo,[e("span",{class:M(["px-2 py-1 rounded-md text-xs font-semibold",r.cargo_id?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"])},d(Tt(r)),3)]),e("div",ko,[t[45]||(t[45]=e("p",{class:"text-sm text-gray-500"},"Valor",-1)),e("p",_o,d(u(r.valor)),1)])]),e("div",ho,[e("div",null,[t[46]||(t[46]=e("p",{class:"text-gray-500"},"Método",-1)),e("p",wo,d(r.metodo?r.metodo.replace("_"," "):"-"),1)]),e("div",Co,[t[47]||(t[47]=e("p",{class:"text-gray-500"},"Nota",-1)),e("p",Ao,d(r.nota||"—"),1)])]),e("div",So,[ct(r)?(i(),n("a",{key:0,href:ct(r),target:"_blank",class:"text-xs text-indigo-600 hover:underline font-semibold"},"Ver comprobante",8,No)):(i(),n("span",Mo,"Sin comprobante"))])]))),128)),m(it,{class:"mt-6",links:Jt.value},null,8,["links"])])):(i(),n("div",co," No se han registrado pagos. "))])):b("",!0)])])])]),e("div",Eo,[e("div",Io,[t[56]||(t[56]=e("div",{class:"p-6 border-b dark:border-gray-700"},[e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},"Información del Contrato")],-1)),e("div",Ro,[e("div",Oo,[t[48]||(t[48]=e("span",{class:"text-gray-500 dark:text-gray-400"},"Cliente:",-1)),e("span",To,d(ht.value),1)]),e("div",Po,[t[49]||(t[49]=e("span",{class:"text-gray-500 dark:text-gray-400"},"Fecha de Inicio:",-1)),e("span",Do,d(V(s.contrato.inicio)),1)]),e("div",Vo,[t[50]||(t[50]=e("span",{class:"text-gray-500 dark:text-gray-400"},"Modalidad:",-1)),e("span",Fo,d((s.contrato.modalidad||"").replace("_"," ")),1)]),["LITIS","CUOTA_MIXTA"].includes(s.contrato.modalidad)?(i(),n("div",jo,[t[51]||(t[51]=e("span",{class:"text-gray-500 dark:text-gray-400"},"Porcentaje de Éxito:",-1)),e("span",Uo,d(s.contrato.porcentaje_litis)+"%",1)])):b("",!0),Number(s.contrato.monto_base_litis)>0?(i(),n("div",Go,[t[52]||(t[52]=e("span",{class:"text-gray-500 dark:text-gray-400"},"Monto Base del Caso:",-1)),e("span",$o,d(u(s.contrato.monto_base_litis)),1)])):b("",!0),Number(s.contrato.litis_valor_ganado)>0?(i(),n("div",Lo,[t[53]||(t[53]=e("span",{class:"text-gray-500 dark:text-gray-400"},"Valor Litis (Ganado):",-1)),e("span",zo,d(u(s.contrato.litis_valor_ganado)),1)])):b("",!0),s.contrato.modalidad==="CUOTA_MIXTA"?(i(),n("div",Bo,[t[54]||(t[54]=e("span",{class:"text-gray-500 dark:text-gray-400"},"Parte Fija (Cuotas):",-1)),e("span",Ho,d(u(s.contrato.monto_total)),1)])):b("",!0),e("div",Xo,[t[55]||(t[55]=e("span",{class:"text-gray-500 dark:text-gray-400"},"Estado:",-1)),e("span",{class:M(["px-2.5 py-0.5 rounded-full text-xs font-semibold",H[s.contrato.estado]||H.CERRADO])},d((O=s.contrato.estado)==null?void 0:O.replace("_"," ")),3)])])])])])])]),m(z,{show:Y.value,onClose:Q},{default:D(()=>{var r;return[e("form",{onSubmit:L(Dt,["prevent"])},[e("div",Jo,[e("h4",Yo,"Abonar a la cuota #"+d((r=K.value)==null?void 0:r.numero),1)]),e("div",Ko,[e("div",null,[t[57]||(t[57]=e("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Valor del Pago",-1)),k(e("input",{"onUpdate:modelValue":t[6]||(t[6]=p=>a(x).valor=p),type:"number",step:"0.01",min:"0",required:"",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[h,a(x).valor,void 0,{number:!0}]]),e("p",Qo,"Debe ser igual o mayor a "+d(u(J(K.value)))+".",1),m(_,{message:a(x).errors.valor,class:"mt-2"},null,8,["message"])]),e("div",Wo,[e("div",null,[t[58]||(t[58]=e("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Fecha",-1)),k(e("input",{"onUpdate:modelValue":t[7]||(t[7]=p=>a(x).fecha=p),type:"date",required:"",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[h,a(x).fecha]]),m(_,{message:a(x).errors.fecha,class:"mt-2"},null,8,["message"])]),e("div",null,[t[60]||(t[60]=e("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Método",-1)),k(e("select",{"onUpdate:modelValue":t[8]||(t[8]=p=>a(x).metodo=p),class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},t[59]||(t[59]=[e("option",null,"TRANSFERENCIA",-1),e("option",null,"EFECTIVO",-1),e("option",null,"TARJETA",-1),e("option",null,"OTRO",-1)]),512),[[vt,a(x).metodo]])])]),e("div",null,[t[61]||(t[61]=e("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Nota (Opcional)",-1)),k(e("input",{"onUpdate:modelValue":t[9]||(t[9]=p=>a(x).nota=p),type:"text",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[h,a(x).nota]])]),e("div",null,[t[62]||(t[62]=e("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Comprobante (Opcional)",-1)),e("input",{type:"file",onInput:t[10]||(t[10]=p=>a(x).comprobante=p.target.files[0]),class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900/50 dark:file:text-blue-300 dark:hover:file:bg-blue-900"},null,32),m(_,{message:a(x).errors.comprobante,class:"mt-2"},null,8,["message"])])]),e("div",Zo,[e("button",{type:"button",onClick:Q,class:"px-4 py-2 rounded-md bg-white dark:bg-gray-700 border dark:border-gray-600 text-sm font-semibold hover:bg-gray-50 dark:hover:bg-gray-600"},"Cancelar"),e("button",{type:"submit",disabled:a(x).processing,class:"px-4 py-2 rounded-md bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-700 disabled:opacity-50"},"Guardar Pago",8,qo)])],32)]}),_:1},8,["show"]),m(z,{show:W.value,onClose:Z},{default:D(()=>{var r,p,U,G,$;return[e("form",{onSubmit:L(Ft,["prevent"])},[t[71]||(t[71]=e("div",{class:"p-6 border-b dark:border-gray-700"},[e("h4",{class:"font-semibold text-lg text-gray-800 dark:text-gray-100"},"Abonar a Cargo Adicional")],-1)),e("div",tr,[e("div",er,[e("p",or,d((r=w.value)==null?void 0:r.descripcion),1),e("p",rr,[w.value&&String(w.value.tipo||"")!=="INTERES_MORA"&&Number(w.value.intereses_mora_acumulados||0)>0?(i(),n(E,{key:0},[N(d(u(B(w.value)))+" ",1),e("span",ar,"(Original: "+d(u((p=w.value)==null?void 0:p.monto))+" + Mora: "+d(u((U=w.value)==null?void 0:U.intereses_mora_acumulados))+")",1)],64)):(i(),n(E,{key:1},[N(d(u((G=w.value)==null?void 0:G.monto)),1)],64))])]),e("div",null,[t[65]||(t[65]=e("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Valor del Pago",-1)),k(e("input",{"onUpdate:modelValue":t[11]||(t[11]=A=>a(y).valor=A),type:"number",step:"0.01",min:"0",required:"",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[h,a(y).valor,void 0,{number:!0}]]),e("p",sr,[t[63]||(t[63]=N(" Debe ser igual o mayor a ",-1)),e("strong",null,[w.value&&String(w.value.tipo||"")!=="INTERES_MORA"&&Number(w.value.intereses_mora_acumulados||0)>0?(i(),n(E,{key:0},[N(d(u(B(w.value))),1)],64)):(i(),n(E,{key:1},[N(d(u(($=w.value)==null?void 0:$.monto)),1)],64))]),t[64]||(t[64]=N(". ",-1))]),m(_,{message:a(y).errors.valor,class:"mt-2"},null,8,["message"])]),e("div",dr,[e("div",null,[t[66]||(t[66]=e("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Fecha",-1)),k(e("input",{"onUpdate:modelValue":t[12]||(t[12]=A=>a(y).fecha=A),type:"date",required:"",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[h,a(y).fecha]]),m(_,{message:a(y).errors.fecha,class:"mt-2"},null,8,["message"])]),e("div",null,[t[68]||(t[68]=e("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Método",-1)),k(e("select",{"onUpdate:modelValue":t[13]||(t[13]=A=>a(y).metodo=A),class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},t[67]||(t[67]=[e("option",null,"TRANSFERENCIA",-1),e("option",null,"EFECTIVO",-1),e("option",null,"TARJETA",-1),e("option",null,"OTRO",-1)]),512),[[vt,a(y).metodo]])])]),e("div",null,[t[69]||(t[69]=e("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Nota (Opcional)",-1)),k(e("input",{"onUpdate:modelValue":t[14]||(t[14]=A=>a(y).nota=A),type:"text",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[h,a(y).nota]])]),e("div",null,[t[70]||(t[70]=e("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Comprobante (Requerido)",-1)),e("input",{type:"file",onInput:t[15]||(t[15]=A=>a(y).comprobante=A.target.files[0]),required:"",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900/50 dark:file:text-blue-300 dark:hover:file:bg-blue-900"},null,32),m(_,{message:a(y).errors.comprobante,class:"mt-2"},null,8,["message"])])]),e("div",lr,[e("button",{type:"button",onClick:Z,class:"px-4 py-2 rounded-md bg-white dark:bg-gray-700 border dark:border-gray-600 text-sm font-semibold hover:bg-gray-50 dark:hover:bg-gray-600"},"Cancelar"),e("button",{type:"submit",disabled:a(y).processing,class:"px-4 py-2 rounded-md bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-700 disabled:opacity-50"},"Guardar Pago",8,nr)])],32)]}),_:1},8,["show"]),m(z,{show:q.value,onClose:tt},{default:D(()=>[e("form",{onSubmit:L(Ut,["prevent"])},[t[78]||(t[78]=e("div",{class:"p-6 border-b dark:border-gray-700"},[e("h4",{class:"font-semibold text-lg text-gray-800 dark:text-gray-100"},"Añadir Gasto Pagado")],-1)),e("div",ir,[e("div",null,[t[72]||(t[72]=e("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Monto del Gasto",-1)),k(e("input",{"onUpdate:modelValue":t[16]||(t[16]=r=>a(f).monto=r),type:"number",step:"0.01",min:"0",required:"",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[h,a(f).monto,void 0,{number:!0}]]),m(_,{message:a(f).errors.monto,class:"mt-2"},null,8,["message"])]),e("div",null,[t[73]||(t[73]=e("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Fecha de Aplicación",-1)),k(e("input",{"onUpdate:modelValue":t[17]||(t[17]=r=>a(f).fecha=r),type:"date",required:"",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[h,a(f).fecha]]),m(_,{message:a(f).errors.fecha,class:"mt-2"},null,8,["message"])]),e("div",null,[t[74]||(t[74]=e("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Descripción",-1)),k(e("input",{"onUpdate:modelValue":t[18]||(t[18]=r=>a(f).descripcion=r),type:"text",required:"",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[h,a(f).descripcion]]),m(_,{message:a(f).errors.descripcion,class:"mt-2"},null,8,["message"])]),e("div",null,[t[75]||(t[75]=e("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Comprobante (Opcional)",-1)),e("input",{type:"file",onInput:t[19]||(t[19]=r=>a(f).comprobante=r.target.files[0]),class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900/50 dark:file:text-blue-300 dark:hover:file:bg-blue-900"},null,32),m(_,{message:a(f).errors.comprobante,class:"mt-2"},null,8,["message"])]),e("div",null,[t[76]||(t[76]=e("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Fecha de Inicio de Intereses (Opcional)",-1)),k(e("input",{"onUpdate:modelValue":t[20]||(t[20]=r=>a(f).fecha_inicio_intereses=r),type:"date",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[h,a(f).fecha_inicio_intereses]]),t[77]||(t[77]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"Si no se especifica la fecha de cobro de intereses, no se cobrarán intereses.",-1)),m(_,{message:a(f).errors.fecha_inicio_intereses,class:"mt-2"},null,8,["message"])])]),e("div",gr,[e("button",{type:"button",onClick:tt,class:"px-4 py-2 rounded-md bg-white dark:bg-gray-700 border dark:border-gray-600 text-sm font-semibold hover:bg-gray-50 dark:hover:bg-gray-600"},"Cancelar"),e("button",{type:"submit",disabled:a(f).processing,class:"px-4 py-2 rounded-md bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-700 disabled:opacity-50"},"Guardar Gasto",8,ur)])],32)]),_:1},8,["show"]),m(z,{show:et.value,onClose:ot},{default:D(()=>[e("form",{onSubmit:L($t,["prevent"])},[t[84]||(t[84]=e("div",{class:"p-6 border-b dark:border-gray-700"},[e("h4",{class:"font-semibold text-lg text-gray-800 dark:text-gray-100"},"Cerrar Contrato Manualmente")],-1)),e("div",mr,[t[83]||(t[83]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"},' Opcionalmente, añade un cargo final por gestión o cláusula penal. El contrato pasará a "Pagos Pendientes". ',-1)),e("div",null,[t[79]||(t[79]=e("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Monto del Cargo (Opcional)",-1)),k(e("input",{"onUpdate:modelValue":t[21]||(t[21]=r=>a(C).monto=r),type:"number",step:"0.01",min:"0",placeholder:"Ej: 50000",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[h,a(C).monto,void 0,{number:!0}]]),m(_,{message:a(C).errors.monto,class:"mt-2"},null,8,["message"])]),e("div",null,[t[80]||(t[80]=e("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Descripción del Cargo",-1)),k(e("input",{"onUpdate:modelValue":t[22]||(t[22]=r=>a(C).descripcion=r),type:"text",placeholder:"Ej: Cláusula penal por terminación",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[h,a(C).descripcion]]),m(_,{message:a(C).errors.descripcion,class:"mt-2"},null,8,["message"])]),e("div",null,[t[81]||(t[81]=e("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Fecha de Inicio de Intereses (Opcional)",-1)),k(e("input",{"onUpdate:modelValue":t[23]||(t[23]=r=>a(C).fecha_inicio_intereses=r),type:"date",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[h,a(C).fecha_inicio_intereses]]),t[82]||(t[82]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"Si no se especifica la fecha de cobro de intereses, no se cobrarán intereses.",-1)),m(_,{message:a(C).errors.fecha_inicio_intereses,class:"mt-2"},null,8,["message"])])]),e("div",br,[e("button",{type:"button",onClick:ot,class:"px-4 py-2 rounded-md bg-white dark:bg-gray-700 border dark:border-gray-600 text-sm font-semibold hover:bg-gray-50 dark:hover:bg-gray-600"},"Cancelar"),e("button",{type:"submit",disabled:a(C).processing,class:"px-4 py-2 rounded-md bg-slate-700 text-white text-sm font-semibold hover:bg-slate-800 disabled:opacity-50"},"Confirmar Cierre",8,cr)])],32)]),_:1},8,["show"]),m(z,{show:rt.value,onClose:at},{default:D(()=>[e("form",{onSubmit:L(zt,["prevent"])},[t[88]||(t[88]=e("div",{class:"p-6 border-b dark:border-gray-700"},[e("h4",{class:"font-semibold text-lg text-gray-800 dark:text-gray-100"},"Registrar Resultado del Caso (Litis)")],-1)),e("div",pr,[e("p",xr," Ingresa el monto final sobre el cual se calcularán los honorarios del "+d(s.contrato.porcentaje_litis)+"%. Esto generará un cargo final en el contrato. ",1),e("div",null,[t[85]||(t[85]=e("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Monto Base Final",-1)),k(e("input",{"onUpdate:modelValue":t[24]||(t[24]=r=>a(I).monto_base_litis=r),type:"number",step:"0.01",min:"0",required:"",placeholder:"Ej: 15000000",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[h,a(I).monto_base_litis,void 0,{number:!0}]]),m(_,{message:a(I).errors.monto_base_litis,class:"mt-2"},null,8,["message"])]),e("div",null,[t[86]||(t[86]=e("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Fecha de Inicio de Intereses (Opcional)",-1)),k(e("input",{"onUpdate:modelValue":t[25]||(t[25]=r=>a(I).fecha_inicio_intereses=r),type:"date",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[h,a(I).fecha_inicio_intereses]]),t[87]||(t[87]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"Si no se especifica la fecha de cobro de intereses, no se cobrarán intereses.",-1)),m(_,{message:a(I).errors.fecha_inicio_intereses,class:"mt-2"},null,8,["message"])])]),e("div",yr,[e("button",{type:"button",onClick:at,class:"px-4 py-2 rounded-md bg-white dark:bg-gray-700 border dark:border-gray-600 text-sm font-semibold hover:bg-gray-50 dark:hover:bg-gray-600"},"Cancelar"),e("button",{type:"submit",disabled:a(I).processing,class:"px-4 py-2 rounded-md bg-purple-600 text-white text-sm font-semibold hover:bg-purple-700 disabled:opacity-50"},"Confirmar y Generar Cargo",8,fr)])],32)]),_:1},8,["show"])]}),_:1})],64)}}};export{Sr as default};
