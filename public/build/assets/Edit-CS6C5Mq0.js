import{q as Ce,l as re,r as v,s as H,k,c as f,o as g,b as s,u as o,h as he,w as i,a,i as C,t as c,x as we,g as m,d as O,v as F,F as Z,e as te,p as de,n as M,B as ie,A as Se}from"./app-vy-57Nhv.js";import{_ as Ve}from"./AuthenticatedLayout-9dgdh7FW.js";import{_ as n}from"./InputError--M3O5c6A.js";import{_ as u}from"./InputLabel-CuoiynRR.js";import{_ as N}from"./PrimaryButton-fsUrTFHq.js";import{_ as K}from"./SecondaryButton-BLV5g1jk.js";import{D as ne}from"./DangerButton-BwhA9wEd.js";import{_ as ue}from"./Modal-CcE9rne-.js";import{_ as h}from"./TextInput-CHd6m527.js";import{_ as Q}from"./Textarea-hTDVgN7r.js";import{_ as qe}from"./Checkbox-BvkIJfZA.js";import{C as w}from"./vue-select-D6REj2mX.js";import"./ApplicationLogo-jkf0VN9B.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ze={class:"flex flex-col md:flex-row items-center justify-between gap-4"},Ee={class:"flex items-center gap-3"},je={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},Ue={class:"text-indigo-500"},Be={key:0,class:"px-2 py-0.5 text-xs rounded bg-red-100 text-red-700 font-medium"},Me={class:"flex items-center gap-3"},Te={class:"py-12"},Ae={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},Pe={key:0,class:"bg-yellow-50 dark:bg-gray-800 border-l-4 border-yellow-400 p-4 mb-8 rounded-r-lg"},$e={class:"flex"},De={class:"ml-3"},Oe={key:0,class:"mt-2 text-sm text-yellow-700 dark:text-yellow-300"},Fe={class:"whitespace-pre-wrap"},Ne={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},Re={class:"p-6 md:p-8 text-gray-900 dark:text-gray-100"},Ie=["disabled"],Je={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Le={class:"md:col-span-2"},Ge={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},He=["value"],Ze=["value"],Ke={class:"lg:col-span-3"},Qe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},We=["disabled"],Xe={class:"md:col-span-2"},Ye={class:"md:col-span-2 rounded-lg border border-gray-200 dark:border-gray-700 p-4 bg-gray-50 dark:bg-gray-900/40"},eo={class:"flex items-start gap-3"},oo={class:"grow"},ao={key:0,class:"mt-4"},so={key:0,class:"flex items-center justify-end mt-8 border-t pt-6"},lo={class:"p-6"},ro={class:"mt-6"},to={class:"mt-6 flex justify-end gap-3"},io={class:"p-6"},no={class:"mt-6 flex justify-end gap-3"},Vo={__name:"Edit",props:{caso:{type:Object,required:!0},subtipos_proceso:{type:Array,default:()=>[]},etapas_procesales:{type:Array,default:()=>[]}},setup(b){const d=b,R=Ce().props.auth.user,y=re(()=>d.caso.estado_proceso==="cerrado"),S=v(!1),_=H({nota_cierre:""}),ce=()=>{_.reset(),S.value=!0},me=()=>{_.patch(route("casos.close",d.caso.id),{preserveScroll:!0,onSuccess:()=>{S.value=!1,_.reset()}})},V=v(!1),T=H({}),pe=()=>V.value=!0,ge=()=>{T.patch(route("casos.reopen",d.caso.id),{preserveScroll:!0,onSuccess:()=>V.value=!1})},A=(t,e=l=>l)=>{const l=v([]),p=v("Escribe para buscar...");let ae=null;return{options:l,onSearch:(L,se)=>{if(clearTimeout(ae),L.length<3){if(l.value.length>0&&!L)return;l.value=[],p.value="Escribe al menos 3 caracteres...";return}se(!0),p.value="Buscando...",ae=setTimeout(()=>{try{const G=route(t,{q:L});Se.get(G).then(D=>{if(Array.isArray(D.data)){const le=D.data.map(e).filter(Boolean);l.value=le,p.value=le.length===0?"No se encontraron resultados.":""}else l.value=[],p.value="Error en la respuesta de la API."}).catch(D=>{console.error(`Error buscando en ${t}:`,D),l.value=[],p.value="Ocurrió un error al buscar."}).finally(()=>se(!1))}catch(G){console.error(`Error de Ziggy: La ruta '${t}' no está definida.`,G),l.value=[],p.value="Error de configuración en la ruta."}},500)},message:p}},W=t=>t?{id:t.id,nombre:t.label||t.nombre}:null,be=t=>t?{id:t.id,name:t.label||t.name}:null,P=t=>{if(!t)return null;if(t.nombre_completo&&t.numero_documento)return t;if(typeof t.label=="string"){const e=t.label.match(/(.*) \((\S+)\)$/);if(e)return{id:t.id,nombre_completo:e[1].trim(),numero_documento:e[2]}}return{id:t.id,nombre_completo:t.label||t.nombre_completo||"Dato no válido",numero_documento:"N/A"}},{options:X,onSearch:ve,message:fe}=A("cooperativas.search",W),{options:Y,onSearch:_e,message:ye}=A("users.search",be),{options:ee,onSearch:xe,message:ke}=A("juzgados.search",W),{options:$,onSearch:I,message:J}=A("personas.search",P),r=H({_method:"PATCH",cooperativa_id:d.caso.cooperativa_id,user_id:d.caso.user_id,deudor_id:d.caso.deudor_id,codeudor1_id:d.caso.codeudor1_id,codeudor2_id:d.caso.codeudor2_id,juzgado_id:d.caso.juzgado_id,referencia_credito:d.caso.referencia_credito,tipo_proceso:d.caso.tipo_proceso,estado_proceso:d.caso.estado_proceso,tipo_garantia_asociada:d.caso.tipo_garantia_asociada,fecha_apertura:d.caso.fecha_apertura,fecha_vencimiento:d.caso.fecha_vencimiento,monto_total:d.caso.monto_total,tasa_interes_corriente:d.caso.tasa_interes_corriente,tasa_moratoria:d.caso.tasa_moratoria,origen_documental:d.caso.origen_documental,subtipo_proceso:d.caso.subtipo_proceso||"",etapa_procesal:d.caso.etapa_procesal||"",etapa_actual:d.caso.etapa_actual,bloqueado:!!d.caso.bloqueado,motivo_bloqueo:d.caso.motivo_bloqueo??"",medio_contacto:d.caso.medio_contacto,notas_legales:d.caso.notas_legales}),x=re(()=>d.caso.bloqueado&&R.tipo_usuario!=="admin"||y.value);k(()=>r.bloqueado,t=>{t||(r.motivo_bloqueo="")});const q=v(null),z=v(null),E=v(null),j=v(null),U=v(null),B=v(null);k(q,t=>r.cooperativa_id=(t==null?void 0:t.id)??null),k(z,t=>r.user_id=(t==null?void 0:t.id)??null),k(E,t=>r.deudor_id=(t==null?void 0:t.id)??null),k(j,t=>r.codeudor1_id=(t==null?void 0:t.id)??null),k(U,t=>r.codeudor2_id=(t==null?void 0:t.id)??null),k(B,t=>r.juzgado_id=(t==null?void 0:t.id)??null),(()=>{d.caso.cooperativa&&(q.value={id:d.caso.cooperativa.id,nombre:d.caso.cooperativa.nombre},X.value=[q.value]),d.caso.user&&(z.value={id:d.caso.user.id,name:d.caso.user.name},Y.value=[z.value]),d.caso.juzgado&&(B.value={id:d.caso.juzgado.id,nombre:d.caso.juzgado.nombre},ee.value=[B.value]);const t=[];d.caso.deudor&&(E.value=P(d.caso.deudor),t.push(E.value)),d.caso.codeudor1&&(j.value=P(d.caso.codeudor1),t.push(j.value)),d.caso.codeudor2&&(U.value=P(d.caso.codeudor2),t.push(U.value)),$.value=[...new Map(t.filter(Boolean).map(e=>[e.id,e])).values()]})();const oe=()=>{r.patch(route("casos.update",d.caso.id))};return(t,e)=>(g(),f(Z,null,[s(o(he),{title:"Editar Caso #"+b.caso.id},null,8,["title"]),s(Ve,null,{header:i(()=>[a("div",ze,[a("div",null,[a("div",Ee,[a("h2",je,[e[25]||(e[25]=m(" Editando Caso ",-1)),a("span",Ue,"#"+c(b.caso.id),1)]),b.caso.bloqueado?(g(),f("span",Be,"Bloqueado")):C("",!0),a("span",{class:M(["px-2 py-0.5 text-xs rounded font-bold capitalize",{"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":!y.value,"bg-gray-200 text-gray-800 dark:bg-gray-600 dark:text-gray-200":y.value}])},c(b.caso.estado_proceso),3)])]),a("div",Me,[s(o(de),{href:t.route("casos.show",b.caso.id)},{default:i(()=>[s(K,null,{default:i(()=>e[26]||(e[26]=[m("Cancelar",-1)])),_:1,__:[26]})]),_:1},8,["href"]),s(N,{onClick:oe,disabled:o(r).processing||x.value,class:M({"opacity-25":o(r).processing||x.value})},{default:i(()=>e[27]||(e[27]=[m(" Actualizar Caso ",-1)])),_:1,__:[27]},8,["disabled","class"]),y.value?C("",!0):(g(),ie(ne,{key:0,onClick:ce},{default:i(()=>e[28]||(e[28]=[m("Cerrar Caso",-1)])),_:1,__:[28]})),y.value?(g(),ie(N,{key:1,onClick:pe,class:"!bg-blue-600 hover:!bg-blue-700 focus:!bg-blue-700 active:!bg-blue-800 focus:!ring-blue-500"},{default:i(()=>e[29]||(e[29]=[m(" Reabrir Caso ",-1)])),_:1,__:[29]})):C("",!0)])])]),default:i(()=>[a("div",Te,[a("div",Ae,[y.value?(g(),f("div",Pe,[a("div",$e,[e[32]||(e[32]=a("div",{class:"flex-shrink-0"},[a("svg",{class:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[a("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.21 3.03-1.742 3.03H4.42c-1.532 0-2.492-1.696-1.742-3.03l5.58-9.92zM10 13a1 1 0 110-2 1 1 0 010 2zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])],-1)),a("div",De,[e[31]||(e[31]=a("p",{class:"text-sm font-medium text-yellow-800 dark:text-yellow-200"},"Este caso está cerrado.",-1)),b.caso.nota_cierre?(g(),f("div",Oe,[e[30]||(e[30]=a("p",{class:"font-semibold"},"Nota de cierre:",-1)),a("p",Fe,c(b.caso.nota_cierre),1)])):C("",!0)])])])):C("",!0),a("div",Ne,[a("div",Re,[a("form",{onSubmit:we(oe,["prevent"]),class:"space-y-8"},[a("fieldset",{disabled:x.value,class:"space-y-8"},[a("section",null,[e[33]||(e[33]=a("h3",{class:"text-lg font-medium border-b pb-2 mb-6"},"Partes Involucradas",-1)),a("div",Je,[a("div",null,[s(u,{for:"cooperativa",value:"Cooperativa *"}),s(o(w),{id:"cooperativa",modelValue:q.value,"onUpdate:modelValue":e[0]||(e[0]=l=>q.value=l),options:o(X),label:"nombre",placeholder:"Escribe para buscar...",onSearch:o(ve),filterable:!1,appendToBody:!0,class:"mt-1 block w-full vue-select-style"},{"no-options":i(()=>[m(c(o(fe)),1)]),_:1},8,["modelValue","options","onSearch"]),s(n,{message:o(r).errors.cooperativa_id,class:"mt-2"},null,8,["message"])]),a("div",null,[s(u,{for:"abogado",value:"Abogado/Gestor a Cargo *"}),s(o(w),{id:"abogado",modelValue:z.value,"onUpdate:modelValue":e[1]||(e[1]=l=>z.value=l),options:o(Y),label:"name",placeholder:"Escribe para buscar...",onSearch:o(_e),filterable:!1,appendToBody:!0,class:"mt-1 block w-full vue-select-style"},{"no-options":i(()=>[m(c(o(ye)),1)]),_:1},8,["modelValue","options","onSearch"]),s(n,{message:o(r).errors.user_id,class:"mt-2"},null,8,["message"])]),a("div",Le,[s(u,{for:"deudor",value:"Deudor Principal *"}),s(o(w),{id:"deudor",modelValue:E.value,"onUpdate:modelValue":e[2]||(e[2]=l=>E.value=l),options:o($),label:"nombre_completo",placeholder:"Escribe para buscar...",onSearch:o(I),filterable:!1,appendToBody:!0,class:"mt-1 block w-full vue-select-style"},{option:i(({nombre_completo:l,numero_documento:p})=>[a("span",null,c(l)+" ("+c(p)+")",1)]),"no-options":i(()=>[m(c(o(J)),1)]),_:1},8,["modelValue","options","onSearch"]),s(n,{message:o(r).errors.deudor_id,class:"mt-2"},null,8,["message"])]),a("div",null,[s(u,{for:"codeudor1",value:"Codeudor 1 (Opcional)"}),s(o(w),{id:"codeudor1",modelValue:j.value,"onUpdate:modelValue":e[3]||(e[3]=l=>j.value=l),options:o($),label:"nombre_completo",placeholder:"Escribe para buscar...",onSearch:o(I),filterable:!1,appendToBody:!0,class:"mt-1 block w-full vue-select-style"},{option:i(({nombre_completo:l,numero_documento:p})=>[a("span",null,c(l)+" ("+c(p)+")",1)]),"no-options":i(()=>[m(c(o(J)),1)]),_:1},8,["modelValue","options","onSearch"]),s(n,{message:o(r).errors.codeudor1_id,class:"mt-2"},null,8,["message"])]),a("div",null,[s(u,{for:"codeudor2",value:"Codeudor 2 (Opcional)"}),s(o(w),{id:"codeudor2",modelValue:U.value,"onUpdate:modelValue":e[4]||(e[4]=l=>U.value=l),options:o($),label:"nombre_completo",placeholder:"Escribe para buscar...",onSearch:o(I),filterable:!1,appendToBody:!0,class:"mt-1 block w-full vue-select-style"},{option:i(({nombre_completo:l,numero_documento:p})=>[a("span",null,c(l)+" ("+c(p)+")",1)]),"no-options":i(()=>[m(c(o(J)),1)]),_:1},8,["modelValue","options","onSearch"]),s(n,{message:o(r).errors.codeudor2_id,class:"mt-2"},null,8,["message"])])])]),a("section",null,[e[37]||(e[37]=a("h3",{class:"text-lg font-medium border-b pb-2 mb-6"},"Información del Crédito y Proceso",-1)),a("div",Ge,[a("div",null,[s(u,{for:"referencia_credito",value:"Referencia del Crédito"}),s(h,{modelValue:o(r).referencia_credito,"onUpdate:modelValue":e[5]||(e[5]=l=>o(r).referencia_credito=l),id:"referencia_credito",type:"text",class:"mt-1 block w-full"},null,8,["modelValue"]),s(n,{message:o(r).errors.referencia_credito,class:"mt-2"},null,8,["message"])]),a("div",null,[s(u,{for:"monto_total",value:"Monto Total *"}),s(h,{modelValue:o(r).monto_total,"onUpdate:modelValue":e[6]||(e[6]=l=>o(r).monto_total=l),id:"monto_total",type:"number",step:"0.01",class:"mt-1 block w-full"},null,8,["modelValue"]),s(n,{message:o(r).errors.monto_total,class:"mt-2"},null,8,["message"])]),a("div",null,[s(u,{for:"tasa_interes_corriente",value:"Tasa Interés Corriente (%)"}),s(h,{modelValue:o(r).tasa_interes_corriente,"onUpdate:modelValue":e[7]||(e[7]=l=>o(r).tasa_interes_corriente=l),id:"tasa_interes_corriente",type:"number",step:"0.01",class:"mt-1 block w-full"},null,8,["modelValue"]),s(n,{message:o(r).errors.tasa_interes_corriente,class:"mt-2"},null,8,["message"])]),a("div",null,[s(u,{for:"tasa_moratoria",value:"Tasa Moratoria (%)"}),s(h,{modelValue:o(r).tasa_moratoria,"onUpdate:modelValue":e[8]||(e[8]=l=>o(r).tasa_moratoria=l),id:"tasa_moratoria",type:"number",step:"0.01",class:"mt-1 block w-full"},null,8,["modelValue"]),s(n,{message:o(r).errors.tasa_moratoria,class:"mt-2"},null,8,["message"])]),a("div",null,[s(u,{for:"fecha_apertura",value:"Fecha de Apertura *"}),s(h,{modelValue:o(r).fecha_apertura,"onUpdate:modelValue":e[9]||(e[9]=l=>o(r).fecha_apertura=l),id:"fecha_apertura",type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),s(n,{message:o(r).errors.fecha_apertura,class:"mt-2"},null,8,["message"])]),a("div",null,[s(u,{for:"fecha_vencimiento",value:"Fecha de Vencimiento"}),s(h,{modelValue:o(r).fecha_vencimiento,"onUpdate:modelValue":e[10]||(e[10]=l=>o(r).fecha_vencimiento=l),id:"fecha_vencimiento",type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),s(n,{message:o(r).errors.fecha_vencimiento,class:"mt-2"},null,8,["message"])]),a("div",null,[s(u,{for:"tipo_proceso",value:"Tipo de Proceso *"}),O(a("select",{"onUpdate:modelValue":e[11]||(e[11]=l=>o(r).tipo_proceso=l),id:"tipo_proceso",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 rounded-md shadow-sm"},e[34]||(e[34]=[a("option",null,"ejecutivo singular",-1),a("option",null,"hipotecario",-1),a("option",null,"prendario",-1),a("option",null,"libranza",-1)]),512),[[F,o(r).tipo_proceso]]),s(n,{message:o(r).errors.tipo_proceso,class:"mt-2"},null,8,["message"])]),a("div",null,[s(u,{for:"subtipo_proceso",value:"Subtipo de Proceso"}),O(a("select",{"onUpdate:modelValue":e[12]||(e[12]=l=>o(r).subtipo_proceso=l),id:"subtipo_proceso",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 rounded-md shadow-sm"},[e[35]||(e[35]=a("option",{value:""},"-- Sin especificar --",-1)),(g(!0),f(Z,null,te(b.subtipos_proceso,l=>(g(),f("option",{key:l,value:l},c(l),9,He))),128))],512),[[F,o(r).subtipo_proceso]]),s(n,{class:"mt-2",message:o(r).errors.subtipo_proceso},null,8,["message"])]),a("div",null,[s(u,{for:"etapa_procesal",value:"Etapa Procesal"}),O(a("select",{"onUpdate:modelValue":e[13]||(e[13]=l=>o(r).etapa_procesal=l),id:"etapa_procesal",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 rounded-md shadow-sm"},[e[36]||(e[36]=a("option",{value:""},"-- Sin especificar --",-1)),(g(!0),f(Z,null,te(b.etapas_procesales,l=>(g(),f("option",{key:l,value:l},c(l),9,Ze))),128))],512),[[F,o(r).etapa_procesal]]),s(n,{class:"mt-2",message:o(r).errors.etapa_procesal},null,8,["message"])]),a("div",Ke,[s(u,{for:"juzgado",value:"Juzgado"}),s(o(w),{id:"juzgado",modelValue:B.value,"onUpdate:modelValue":e[14]||(e[14]=l=>B.value=l),options:o(ee),label:"nombre",placeholder:"Escribe para buscar un juzgado...",onSearch:o(xe),filterable:!1,appendToBody:!0,class:"mt-1 block w-full vue-select-style"},{"no-options":i(()=>[m(c(o(ke)),1)]),_:1},8,["modelValue","options","onSearch"]),s(n,{class:"mt-2",message:o(r).errors.juzgado_id},null,8,["message"])])])])],8,Ie),a("section",null,[e[40]||(e[40]=a("h3",{class:"text-lg font-medium border-b pb-2 mb-6"},"Estado y Control del Caso",-1)),a("div",Qe,[a("div",null,[s(u,{for:"estado_proceso",value:"Estado del Proceso *"}),O(a("select",{"onUpdate:modelValue":e[15]||(e[15]=l=>o(r).estado_proceso=l),id:"estado_proceso",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 rounded-md shadow-sm",disabled:x.value},e[38]||(e[38]=[a("option",{value:"prejurídico"},"Prejurídico",-1),a("option",{value:"demandado"},"Demandado",-1),a("option",{value:"en ejecución"},"En Ejecución",-1),a("option",{value:"sentencia"},"Sentencia",-1),a("option",{value:"cerrado"},"Cerrado",-1)]),8,We),[[F,o(r).estado_proceso]]),s(n,{message:o(r).errors.estado_proceso,class:"mt-2"},null,8,["message"])]),a("div",null,[s(u,{for:"etapa_actual",value:"Etapa Actual del Proceso"}),s(h,{modelValue:o(r).etapa_actual,"onUpdate:modelValue":e[16]||(e[16]=l=>o(r).etapa_actual=l),id:"etapa_actual",type:"text",class:"mt-1 block w-full",disabled:x.value},null,8,["modelValue","disabled"]),s(n,{message:o(r).errors.etapa_actual,class:"mt-2"},null,8,["message"])]),a("div",Xe,[s(u,{for:"notas_legales",value:"Notas Legales / Internas"}),s(Q,{modelValue:o(r).notas_legales,"onUpdate:modelValue":e[17]||(e[17]=l=>o(r).notas_legales=l),id:"notas_legales",class:"mt-1 block w-full",rows:"4",disabled:x.value},null,8,["modelValue","disabled"]),s(n,{message:o(r).errors.notas_legales,class:"mt-2"},null,8,["message"])]),a("div",Ye,[a("div",eo,[s(qe,{id:"bloqueado",checked:o(r).bloqueado,"onUpdate:checked":e[18]||(e[18]=l=>o(r).bloqueado=l),disabled:o(R).tipo_usuario!=="admin"||y.value},null,8,["checked","disabled"]),a("div",oo,[s(u,{for:"bloqueado",value:"Caso bloqueado"}),e[39]||(e[39]=a("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Cuando está bloqueado solo un administrador puede modificar el caso. ",-1)),s(n,{message:o(r).errors.bloqueado,class:"mt-2"},null,8,["message"])])]),o(r).bloqueado?(g(),f("div",ao,[s(u,{for:"motivo_bloqueo",value:"Motivo del bloqueo *"}),s(Q,{id:"motivo_bloqueo",modelValue:o(r).motivo_bloqueo,"onUpdate:modelValue":e[19]||(e[19]=l=>o(r).motivo_bloqueo=l),modelModifiers:{trim:!0},class:"mt-1 block w-full resize-y min-h-[96px]",rows:"3",maxlength:"1000",placeholder:"Describe la razón del bloqueo…",disabled:o(R).tipo_usuario!=="admin"||y.value},null,8,["modelValue","disabled"]),s(n,{message:o(r).errors.motivo_bloqueo,class:"mt-2"},null,8,["message"])])):C("",!0)])])]),x.value?C("",!0):(g(),f("div",so,[s(o(de),{href:t.route("casos.show",b.caso.id),class:"text-sm text-gray-600 hover:underline mr-4"},{default:i(()=>e[41]||(e[41]=[m("Cancelar",-1)])),_:1,__:[41]},8,["href"]),s(N,{class:M({"opacity-25":o(r).processing}),disabled:o(r).processing},{default:i(()=>e[42]||(e[42]=[m(" Actualizar Caso ",-1)])),_:1,__:[42]},8,["class","disabled"])]))],32)])])])]),s(ue,{show:S.value,onClose:e[22]||(e[22]=l=>S.value=!1)},{default:i(()=>[a("div",lo,[e[44]||(e[44]=a("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Cerrar Caso",-1)),e[45]||(e[45]=a("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"},' Al cerrar el caso, su estado cambiará a "Cerrado" y se deshabilitará la edición. Por favor, añade una nota de cierre. ',-1)),a("div",ro,[s(u,{for:"nota_cierre",value:"Nota de Cierre *",required:""}),s(Q,{modelValue:o(_).nota_cierre,"onUpdate:modelValue":e[20]||(e[20]=l=>o(_).nota_cierre=l),id:"nota_cierre",class:"mt-1 block w-full",rows:"4"},null,8,["modelValue"]),s(n,{message:o(_).errors.nota_cierre,class:"mt-2"},null,8,["message"])]),a("div",to,[s(K,{onClick:e[21]||(e[21]=l=>S.value=!1)},{default:i(()=>e[43]||(e[43]=[m("Cancelar",-1)])),_:1,__:[43]}),s(ne,{onClick:me,disabled:o(_).processing,class:M({"opacity-25":o(_).processing})},{default:i(()=>[m(c(o(_).processing?"Cerrando...":"Confirmar Cierre"),1)]),_:1},8,["disabled","class"])])])]),_:1},8,["show"]),s(ue,{show:V.value,onClose:e[24]||(e[24]=l=>V.value=!1)},{default:i(()=>[a("div",io,[e[47]||(e[47]=a("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Reabrir Caso",-1)),e[48]||(e[48]=a("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"},' ¿Estás seguro de que quieres reabrir este caso? El estado volverá a "prejurídico" y la nota de cierre será eliminada permanentemente. ',-1)),a("div",no,[s(K,{onClick:e[23]||(e[23]=l=>V.value=!1)},{default:i(()=>e[46]||(e[46]=[m("Cancelar",-1)])),_:1,__:[46]}),s(N,{onClick:ge,disabled:o(T).processing,class:M([{"opacity-25":o(T).processing},"!bg-blue-600 hover:!bg-blue-700 focus:!bg-blue-700 active:!bg-blue-800 focus:!ring-blue-500"])},{default:i(()=>[m(c(o(T).processing?"Reabriendo...":"Sí, Reabrir"),1)]),_:1},8,["disabled","class"])])])]),_:1},8,["show"])]),_:1})],64))}};export{Vo as default};
