import{s as x,c as h,o as y,b as a,u as o,h as k,w as m,a as d,x as z,g as c,n as w,t as j,p as U,F as R,j as P}from"./app-D6fBSztB.js";import{_ as D}from"./AuthenticatedLayout-_MACS7lg.js";import{_ as E}from"./PrimaryButton-CvtAZ7tP.js";import{_ as B}from"./SecondaryButton-DFtNAEDQ.js";import{_ as i}from"./InputLabel-B78_-JR2.js";import{_ as r}from"./InputError-HqrJXC_t.js";import{_ as t}from"./TextInput-Bef9WMy8.js";import{_ as p}from"./Textarea-BjqHcdej.js";import{_ as u}from"./AsyncSelect-DmAocK4W.js";import"./ApplicationLogo-Dh4pLsNN.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const C={class:"flex items-center justify-between"},S={class:"py-10"},$={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},F={class:"bg-white dark:bg-gray-800 shadow sm:rounded-lg p-6"},A={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},N={class:"md:col-span-2"},M={class:"md:col-span-3"},G={class:"bg-white dark:bg-gray-800 shadow sm:rounded-lg p-6"},L={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},T={class:"bg-white dark:bg-gray-800 shadow sm:rounded-lg p-6"},I={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},J={class:"md:col-span-3"},O={class:"bg-white dark:bg-gray-800 shadow sm:rounded-lg p-6"},q={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},H={class:"md:col-span-2"},K={class:"flex items-center justify-end"},re={__name:"Create",setup(Q){const e=x({abogado_id:null,responsable_revision_id:null,juzgado_id:null,tipo_proceso_id:null,demandante_id:null,demandado_id:null,radicado:"",fecha_radicado:"",naturaleza:"",asunto:"",correo_radicacion:"",fecha_revision:"",fecha_proxima_revision:"",ultima_actuacion:"",link_expediente:"",ubicacion_drive:"",correos_juzgado:"",observaciones:""}),b=()=>{var s,l,g,_,v,f;console.log("Paso 1: Estado del formulario ANTES de construir el payload:",e);const n={radicado:e.radicado,fecha_radicado:e.fecha_radicado,naturaleza:e.naturaleza,asunto:e.asunto,correo_radicacion:e.correo_radicacion,fecha_revision:e.fecha_revision,fecha_proxima_revision:e.fecha_proxima_revision,ultima_actuacion:e.ultima_actuacion,link_expediente:e.link_expediente,ubicacion_drive:e.ubicacion_drive,correos_juzgado:e.correos_juzgado,observaciones:e.observaciones,abogado_id:((s=e.abogado_id)==null?void 0:s.id)??null,responsable_revision_id:((l=e.responsable_revision_id)==null?void 0:l.id)??null,juzgado_id:((g=e.juzgado_id)==null?void 0:g.id)??null,tipo_proceso_id:((_=e.tipo_proceso_id)==null?void 0:_.id)??null,demandante_id:((v=e.demandante_id)==null?void 0:v.id)??null,demandado_id:((f=e.demandado_id)==null?void 0:f.id)??null};console.log("Paso 2: Payload que se enviará al backend:",n),P.post(route("procesos.store"),n,{preserveScroll:!0,onStart:()=>{e.processing=!0},onFinish:()=>{e.processing=!1},onError:V=>{e.errors=V}})};return(n,s)=>(y(),h(R,null,[a(o(k),{title:"Registrar Radicado (Modo Diagnóstico)"}),a(D,null,{header:m(()=>[d("div",C,[s[19]||(s[19]=d("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," Registrar Radicado (Modo Diagnóstico) ",-1)),a(o(U),{href:n.route("procesos.index"),class:"inline-flex items-center px-3 py-2 rounded-md bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-100"},{default:m(()=>s[18]||(s[18]=[c(" ← Volver al listado ",-1)])),_:1,__:[18]},8,["href"])])]),default:m(()=>[d("div",S,[d("div",$,[d("form",{onSubmit:z(b,["prevent"]),class:"space-y-8"},[d("div",F,[s[20]||(s[20]=d("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Datos Principales",-1)),d("div",A,[d("div",null,[a(i,{value:"Abogado / Gestor",for:"abogado"}),a(u,{id:"abogado",modelValue:o(e).abogado_id,"onUpdate:modelValue":s[0]||(s[0]=l=>o(e).abogado_id=l),endpoint:n.route("search.usuarios"),placeholder:"Buscar abogado o gestor…"},null,8,["modelValue","endpoint"]),a(r,{message:o(e).errors.abogado_id,class:"mt-2"},null,8,["message"])]),d("div",null,[a(i,{for:"radicado",value:"Radicado"}),a(t,{id:"radicado",modelValue:o(e).radicado,"onUpdate:modelValue":s[1]||(s[1]=l=>o(e).radicado=l),class:"mt-1 block w-full"},null,8,["modelValue"]),a(r,{message:o(e).errors.radicado,class:"mt-2"},null,8,["message"])]),d("div",null,[a(i,{for:"fecha_radicado",value:"Fecha de Radicado"}),a(t,{id:"fecha_radicado",modelValue:o(e).fecha_radicado,"onUpdate:modelValue":s[2]||(s[2]=l=>o(e).fecha_radicado=l),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),a(r,{message:o(e).errors.fecha_radicado,class:"mt-2"},null,8,["message"])]),d("div",N,[a(i,{for:"juzgado",value:"Juzgado / Entidad"}),a(u,{id:"juzgado",modelValue:o(e).juzgado_id,"onUpdate:modelValue":s[3]||(s[3]=l=>o(e).juzgado_id=l),endpoint:n.route("juzgados.search"),"min-chars":3,placeholder:"Escribe al menos 3 letras del juzgado…"},null,8,["modelValue","endpoint"]),a(r,{message:o(e).errors.juzgado_id,class:"mt-2"},null,8,["message"])]),d("div",null,[a(i,{for:"naturaleza",value:"Naturaleza (opcional)"}),a(t,{id:"naturaleza",modelValue:o(e).naturaleza,"onUpdate:modelValue":s[4]||(s[4]=l=>o(e).naturaleza=l),class:"mt-1 block w-full",placeholder:"Ej. CIVIL MPAL"},null,8,["modelValue"]),a(r,{message:o(e).errors.naturaleza,class:"mt-2"},null,8,["message"])]),d("div",null,[a(i,{for:"tipo_proceso",value:"Tipo de Proceso"}),a(u,{id:"tipo_proceso",modelValue:o(e).tipo_proceso_id,"onUpdate:modelValue":s[5]||(s[5]=l=>o(e).tipo_proceso_id=l),endpoint:n.route("search.tipos-proceso"),placeholder:"Buscar tipo de proceso…"},null,8,["modelValue","endpoint"]),a(r,{message:o(e).errors.tipo_proceso_id,class:"mt-2"},null,8,["message"])]),d("div",M,[a(i,{for:"asunto",value:"Asunto"}),a(p,{id:"asunto",modelValue:o(e).asunto,"onUpdate:modelValue":s[6]||(s[6]=l=>o(e).asunto=l),rows:"2",class:"mt-1 block w-full"},null,8,["modelValue"]),a(r,{message:o(e).errors.asunto,class:"mt-2"},null,8,["message"])])])]),d("div",G,[s[21]||(s[21]=d("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Partes y Contacto",-1)),d("div",L,[d("div",null,[a(i,{for:"demandante",value:"Demandante / Denunciante (Personas)"}),a(u,{id:"demandante",modelValue:o(e).demandante_id,"onUpdate:modelValue":s[7]||(s[7]=l=>o(e).demandante_id=l),endpoint:n.route("search.personas"),placeholder:"Buscar persona…"},null,8,["modelValue","endpoint"]),a(r,{message:o(e).errors.demandante_id,class:"mt-2"},null,8,["message"])]),d("div",null,[a(i,{for:"demandado",value:"Demandado / Denunciado (Personas)"}),a(u,{id:"demandado",modelValue:o(e).demandado_id,"onUpdate:modelValue":s[8]||(s[8]=l=>o(e).demandado_id=l),endpoint:n.route("search.personas"),placeholder:"Buscar persona…"},null,8,["modelValue","endpoint"]),a(r,{message:o(e).errors.demandado_id,class:"mt-2"},null,8,["message"])]),d("div",null,[a(i,{for:"correo_radicacion",value:"Correo de Radicación"}),a(t,{id:"correo_radicacion",modelValue:o(e).correo_radicacion,"onUpdate:modelValue":s[9]||(s[9]=l=>o(e).correo_radicacion=l),type:"email",class:"mt-1 block w-full"},null,8,["modelValue"]),a(r,{message:o(e).errors.correo_radicacion,class:"mt-2"},null,8,["message"])]),d("div",null,[a(i,{for:"correos_juzgado",value:"Correos del Juzgado / Entidad (opcional)"}),a(t,{id:"correos_juzgado",modelValue:o(e).correos_juzgado,"onUpdate:modelValue":s[10]||(s[10]=l=>o(e).correos_juzgado=l),class:"mt-1 block w-full",placeholder:"Separados por coma si hay mas de uno"},null,8,["modelValue"]),a(r,{message:o(e).errors.correos_juzgado,class:"mt-2"},null,8,["message"])])])]),d("div",T,[s[22]||(s[22]=d("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Revisión y Seguimiento",-1)),d("div",I,[d("div",null,[a(i,{for:"responsable",value:"Responsable de Revisión"}),a(u,{id:"responsable",modelValue:o(e).responsable_revision_id,"onUpdate:modelValue":s[11]||(s[11]=l=>o(e).responsable_revision_id=l),endpoint:n.route("search.usuarios"),placeholder:"Buscar responsable…"},null,8,["modelValue","endpoint"]),a(r,{message:o(e).errors.responsable_revision_id,class:"mt-2"},null,8,["message"])]),d("div",null,[a(i,{for:"fecha_revision",value:"Fecha de Revisión"}),a(t,{id:"fecha_revision",modelValue:o(e).fecha_revision,"onUpdate:modelValue":s[12]||(s[12]=l=>o(e).fecha_revision=l),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),a(r,{message:o(e).errors.fecha_revision,class:"mt-2"},null,8,["message"])]),d("div",null,[a(i,{for:"fecha_proxima_revision",value:"Fecha Próxima Revisión"}),a(t,{id:"fecha_proxima_revision",modelValue:o(e).fecha_proxima_revision,"onUpdate:modelValue":s[13]||(s[13]=l=>o(e).fecha_proxima_revision=l),type:"date",class:"mt-1 block w-full"},null,8,["modelValue"]),a(r,{message:o(e).errors.fecha_proxima_revision,class:"mt-2"},null,8,["message"])]),d("div",J,[a(i,{for:"ultima_actuacion",value:"Última Actuación"}),a(p,{id:"ultima_actuacion",modelValue:o(e).ultima_actuacion,"onUpdate:modelValue":s[14]||(s[14]=l=>o(e).ultima_actuacion=l),rows:"2",class:"mt-1 block w-full"},null,8,["modelValue"]),a(r,{message:o(e).errors.ultima_actuacion,class:"mt-2"},null,8,["message"])])])]),d("div",O,[s[23]||(s[23]=d("h3",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Enlaces y Observaciones",-1)),d("div",q,[d("div",null,[a(i,{for:"link_expediente",value:"Link de expediente digital (SharePoint, Rama, etc.)"}),a(t,{id:"link_expediente",modelValue:o(e).link_expediente,"onUpdate:modelValue":s[15]||(s[15]=l=>o(e).link_expediente=l),type:"url",class:"mt-1 block w-full",placeholder:"https://…"},null,8,["modelValue"]),a(r,{message:o(e).errors.link_expediente,class:"mt-2"},null,8,["message"])]),d("div",null,[a(i,{for:"ubicacion_drive",value:"Ubicación en Drive (opcional)"}),a(t,{id:"ubicacion_drive",modelValue:o(e).ubicacion_drive,"onUpdate:modelValue":s[16]||(s[16]=l=>o(e).ubicacion_drive=l),type:"url",class:"mt-1 block w-full",placeholder:"https://drive.google.com/…"},null,8,["modelValue"]),a(r,{message:o(e).errors.ubicacion_drive,class:"mt-2"},null,8,["message"])]),d("div",H,[a(i,{for:"observaciones",value:"Observaciones (opcional)"}),a(p,{id:"observaciones",modelValue:o(e).observaciones,"onUpdate:modelValue":s[17]||(s[17]=l=>o(e).observaciones=l),rows:"3",class:"mt-1 block w-full"},null,8,["modelValue"]),a(r,{message:o(e).errors.observaciones,class:"mt-2"},null,8,["message"])])])]),d("div",K,[a(B,{href:n.route("procesos.index"),as:"a",class:"mr-3"},{default:m(()=>s[24]||(s[24]=[c("Cancelar",-1)])),_:1,__:[24]},8,["href"]),a(E,{disabled:o(e).processing,class:w({"opacity-25":o(e).processing})},{default:m(()=>[c(j(o(e).processing?"Guardando…":"Guardar radicado"),1)]),_:1},8,["disabled","class"])])],32)])])]),_:1})],64))}};export{re as default};
