import{s as j,l as O,r as C,z as vt,k as Ve,c as n,o as i,b as d,u as a,h as kt,w as S,a as t,i as g,g as p,p as Te,t as l,n as V,F as N,e as ee,x as G,d as k,f as A,v as _e}from"./app-CJXh-Pjp.js";import{_ as _t}from"./AuthenticatedLayout-CjDncLrz.js";import{_ as he}from"./Pagination-cYo7LT-R.js";import{_ as L}from"./Modal-Dfvvi1ej.js";import{_ as y}from"./InputError-D6J_Ekxe.js";import{_ as De}from"./PrimaryButton-D7hB7Y7-.js";import{_ as Pe}from"./SecondaryButton-CTekWCLN.js";import{_ as U}from"./InputLabel-DWTjBLJB.js";import{_ as H}from"./TextInput-A7ldSpJd.js";import{_ as ht}from"./Textarea-DnSdfpkz.js";import{o as je}from"./index-BnA12vLS.js";import"./ApplicationLogo-BzDRqvbd.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const wt={class:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4"},Ct={class:"text-sm text-gray-500 dark:text-gray-400"},At={class:"font-mono"},St={class:"flex items-center gap-2 flex-wrap"},Mt={class:"relative"},Ot={key:1,class:"flex items-center gap-2"},Nt=["href"],Et={key:0,class:"absolute right-0 top-full mt-1 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 z-10"},It=["href"],Rt={class:"py-8"},Vt={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},Tt={key:0,class:"bg-amber-50 dark:bg-amber-900/20 border-l-4 border-amber-400 p-4 rounded-md shadow-sm"},Dt={class:"flex"},Pt={class:"ml-3"},jt={class:"text-sm font-semibold text-amber-800 dark:text-amber-300"},Ut={class:"mt-2 text-sm text-amber-700 dark:text-amber-400"},Ft={key:0,class:"mt-1 italic"},$t={class:"grid grid-cols-2 md:grid-cols-4 gap-6"},Gt={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg p-5"},Lt={class:"mt-1 text-2xl font-bold text-gray-900 dark:text-gray-100"},zt={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg p-5"},Bt={class:"mt-1 text-2xl font-bold text-blue-600 dark:text-blue-400"},Ht={key:0,class:"text-xs text-red-600 dark:text-red-400 font-semibold mt-1"},Xt={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg p-5"},qt={class:"mt-1 text-2xl font-bold text-emerald-600 dark:text-emerald-400"},Jt={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg p-5"},Yt={class:"mt-1 text-2xl font-bold text-red-600 dark:text-red-400"},Kt={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Qt={class:"lg:col-span-2 space-y-6"},Wt={class:"bg-white dark:bg-gray-800 shadow-sm sm:rounded-lg"},Zt={class:"p-4 sm:p-6"},eo={class:"border-b border-gray-200 dark:border-gray-700"},to={class:"-mb-px flex space-x-4 sm:space-x-6 overflow-x-auto","aria-label":"Tabs"},oo={class:"mt-6"},ro={key:0,class:"space-y-4"},ao={key:0,class:"text-center py-12 text-gray-500 dark:text-gray-400"},so={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},lo={class:"flex-1"},no={class:"font-bold text-lg text-gray-800 dark:text-gray-100"},io={class:"text-sm text-gray-500"},uo={class:"w-full sm:w-auto grid grid-cols-2 sm:flex sm:items-center gap-4 text-right"},mo={class:"sm:pr-4 sm:border-r dark:border-gray-600"},go={class:"font-mono"},co={class:"sm:pr-4 sm:border-r dark:border-gray-600"},bo={class:"font-mono text-red-600"},po={class:"sm:pr-4 sm:border-r dark:border-gray-600"},xo={class:"font-mono text-emerald-600"},yo={class:"col-span-2 sm:col-span-1"},fo={class:"font-bold text-lg font-mono text-indigo-600 dark:text-indigo-400"},vo={class:"flex-shrink-0"},ko=["onClick"],_o={key:1},ho={key:0,class:"text-center py-8 text-gray-500 dark:text-gray-400"},wo={key:1,class:"space-y-4"},Co={class:"flex items-start sm:items-center gap-4 p-4 flex-col sm:flex-row"},Ao={class:"flex-shrink-0"},So={key:0,class:"inline-flex justify-center items-center w-8 h-8 rounded-full bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300"},Mo={key:1,class:"inline-flex justify-center items-center w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300"},Oo={class:"flex-1 space-y-1 w-full"},No={class:"flex items-center gap-3 text-sm flex-wrap"},Eo={class:"font-bold text-gray-800 dark:text-gray-100"},Io={class:"text-gray-500"},Ro={key:0,class:"text-xs sm:text-sm text-red-700 dark:text-red-300 font-medium"},Vo={key:1,class:"text-xs sm:text-sm text-red-700 dark:text-red-300 font-medium"},To=["textContent"],Do=["href"],Po={class:"flex items-center gap-4 self-end sm:self-center"},jo=["onClick"],Uo={key:0,class:"bg-emerald-50 dark:bg-gray-700/50 border-t border-emerald-200 dark:border-emerald-800 px-4 py-3 text-sm"},Fo={class:"font-semibold text-emerald-800 dark:text-emerald-300"},$o={key:0,class:"text-gray-600 dark:text-gray-400 mt-1 italic"},Go=["href"],Lo={class:"mt-6 pt-4 border-t-2 border-dashed dark:border-gray-700 text-right"},zo={class:"text-sm text-gray-500"},Bo={class:"font-bold text-gray-800 dark:text-gray-200"},Ho={key:0,class:"text-xs text-red-600 dark:text-red-400"},Xo={class:"text-sm text-amber-600 mt-1"},qo={class:"font-bold"},Jo={key:2},Yo={key:0,class:"text-center py-8 text-gray-500 dark:text-gray-400"},Ko={key:1,class:"space-y-4"},Qo={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},Wo={class:"flex items-center gap-3"},Zo={class:"font-medium"},er={class:"text-center"},tr={class:"text-right"},or={class:"font-mono font-semibold text-gray-800 dark:text-gray-200"},rr={class:"mt-3 grid grid-cols-1 md:grid-cols-3 gap-3 text-sm"},ar={class:"font-medium"},sr={class:"md:col-span-2"},lr={class:"text-gray-700 dark:text-gray-300 break-words"},dr={class:"mt-3"},nr=["href"],ir={key:1,class:"text-xs text-gray-400"},ur={class:"space-y-6"},mr={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg"},gr={class:"p-6 space-y-4 text-sm"},cr={class:"flex justify-between"},br={class:"font-medium text-gray-800 dark:text-gray-200"},pr={class:"flex justify-between"},xr={class:"font-medium text-gray-800 dark:text-gray-200"},yr={class:"flex justify-between"},fr={class:"font-medium text-gray-800 dark:text-gray-200"},vr={key:0,class:"flex justify-between"},kr={class:"font-bold text-purple-600 dark:text-purple-400"},_r={key:1,class:"flex justify-between"},hr={class:"font-medium text-gray-800 dark:text-gray-200"},wr={key:2,class:"flex justify-between"},Cr={class:"font-medium text-gray-800 dark:text-gray-200"},Ar={key:3,class:"flex justify-between border-t pt-4 mt-4 dark:border-gray-700"},Sr={class:"font-medium text-gray-800 dark:text-gray-200"},Mr={class:"flex justify-between items-center"},Or={class:"p-6 border-b dark:border-gray-700"},Nr={class:"font-semibold text-lg text-gray-800 dark:text-gray-100"},Er={class:"p-6 space-y-4"},Ir={class:"mt-1 text-xs text-gray-500"},Rr={class:"grid grid-cols-2 gap-4"},Vr={class:"px-6 py-4 bg-gray-50 dark:bg-gray-900/50 flex items-center justify-end gap-3 rounded-b-xl"},Tr=["disabled"],Dr={class:"p-6 space-y-4"},Pr={class:"p-4 rounded-md bg-gray-50 dark:bg-gray-900/50 text-sm"},jr={class:"font-medium text-gray-700 dark:text-gray-300"},Ur={class:"text-gray-500"},Fr={class:"text-xs"},$r={class:"mt-1 text-xs text-gray-500"},Gr={class:"grid grid-cols-2 gap-4"},Lr={class:"px-6 py-4 bg-gray-50 dark:bg-gray-900/50 flex items-center justify-end gap-3 rounded-b-xl"},zr=["disabled"],Br={class:"p-6 space-y-4"},Hr={class:"px-6 py-4 bg-gray-50 dark:bg-gray-900/50 flex items-center justify-end gap-3 rounded-b-xl"},Xr=["disabled"],qr={class:"p-6 space-y-4"},Jr={class:"px-6 py-4 bg-gray-50 dark:bg-gray-900/50 flex items-center justify-end gap-3 rounded-b-xl"},Yr=["disabled"],Kr={class:"p-6 space-y-4"},Qr={class:"text-sm text-gray-600 dark:text-gray-400"},Wr={class:"px-6 py-4 bg-gray-50 dark:bg-gray-900/50 flex items-center justify-end gap-3 rounded-b-xl"},Zr=["disabled"],ea={class:"p-6 border-b dark:border-gray-700"},ta={class:"font-semibold text-lg text-gray-800 dark:text-gray-100"},oa={class:"p-6 space-y-6"},ra={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},aa=["value"],sa={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},la={key:0},da={key:1},na={class:"px-6 py-4 bg-gray-50 dark:bg-gray-900/50 flex items-center justify-end gap-3 rounded-b-xl"},ia={class:"p-6 border-b dark:border-gray-700"},ua={class:"font-semibold text-lg text-gray-800 dark:text-gray-100"},ma={class:"p-6 space-y-4"},ga={key:0,class:"p-4 rounded-md bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800"},ca={key:1,class:"p-3 bg-gray-50 dark:bg-gray-900/50 rounded-md"},ba={class:"flex items-center gap-2"},pa={class:"flex-1"},xa={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},ya={class:"text-xs text-gray-500"},fa={class:"px-6 py-4 bg-gray-50 dark:bg-gray-900/50 flex items-center justify-end gap-3 rounded-b-xl"},Ra={__name:"Show",props:{contrato:{type:Object,default:()=>({})},contratoOrigen:{type:Object,default:null},cliente:{type:Object,default:()=>({})},cuotas:{type:Object,default:()=>({data:[]})},pagos:{type:Object,default:()=>({data:[]})},cargos:{type:Object,default:()=>({data:[]})},total_cargos_valor:{type:Number,default:0},total_pagos_valor:{type:Number,default:0},clientes:{type:Array,default:()=>[]},modalidades:{type:Array,default:()=>[]}},setup(Ue){const s=Ue,K=j({}),b=o=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0}).format(Number(o||0)),z=o=>o?new Date(String(o).replace(/-/g,"/")).toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric"}):"N/A",F=new Date().toISOString().slice(0,10),we=o=>{if(!o)return null;const e=new Date(String(o).replace(/-/g,"/"));return isNaN(e.getTime())?null:e},Fe=(o,e)=>{const u=we(o),c=we(e||new Date().toISOString().slice(0,10));if(!u||!c)return null;const x=new Date(u.getFullYear(),u.getMonth(),u.getDate()),v=new Date(c.getFullYear(),c.getMonth(),c.getDate());return Math.floor((v-x)/864e5)},$e=O(()=>{var o,e;return((o=s.cliente)==null?void 0:o.nombre)??`ID ${(e=s.cliente)==null?void 0:e.id}`}),Ge=O(()=>{const o=s.contrato||{};return String(o.modalidad||"")==="LITIS"?0:Number(o.monto_total||0)}),Ce=O(()=>{var e;const o=Number((e=s.contrato)==null?void 0:e.anticipo)||0;return Math.max(0,Ge.value-o)}),Le=O(()=>Math.abs(Number(s.total_cargos_valor)||0)),Ae=O(()=>Math.abs(Number(s.total_pagos_valor)||0)),X=O(()=>{var u,c;const o=(((u=s.cuotas)==null?void 0:u.data)||[]).reduce((x,v)=>x+Number(v.intereses_mora_acumulados||0),0),e=(((c=s.cargos)==null?void 0:c.data)||[]).filter(x=>String(x.tipo||"")!=="INTERES_MORA").reduce((x,v)=>x+Number(v.intereses_mora_acumulados||0),0);return o+e}),te=O(()=>Le.value+X.value),Se=O(()=>Math.max(0,Ce.value+te.value-Ae.value)),ze=O(()=>{var o;return(o=s.cargos)!=null&&o.data?s.cargos.data.filter(e=>e.estado==="PENDIENTE").reduce((e,u)=>{const c=Math.abs(Number(u.monto)||0),x=String(u.tipo||"")==="INTERES_MORA"?0:Math.abs(Number(u.intereses_mora_acumulados)||0);return e+c+x},0):0}),Me=o=>o!=null&&o.comprobante?route("honorarios.contratos.pagos.verComprobante",{pago_id:o.id}):null,Be=o=>o!=null&&o.comprobante?route("honorarios.contratos.cargos.verComprobante",{cargo_id:o.id}):null,He=o=>o!=null&&o.comprobante_pago_cargo?`/storage/${o.comprobante_pago_cargo}`:null,Xe=o=>{var e;return(((e=s.cuotas)==null?void 0:e.data)||[]).find(u=>u.id===o)},qe=o=>{var e;return(((e=s.cargos)==null?void 0:e.data)||[]).find(u=>u.id===o)},Oe=o=>{if(String((o==null?void 0:o.tipo)||"")!=="INTERES_MORA")return null;const e=(o==null?void 0:o.cuota_id)??(o==null?void 0:o.cuotaId)??(o==null?void 0:o.rel_cuota_id)??(o==null?void 0:o.origen_cuota_id)??(o==null?void 0:o.sobre_cuota_id)??(o==null?void 0:o.cuota_referencia_id),u=(o==null?void 0:o.cargo_id)??(o==null?void 0:o.cargoId)??(o==null?void 0:o.rel_cargo_id)??(o==null?void 0:o.origen_cargo_id)??(o==null?void 0:o.sobre_cargo_id)??(o==null?void 0:o.cargo_referencia_id);return e?{tipo:"CUOTA",cuota:Xe(e)}:u?{tipo:"CARGO",cargo:qe(u)}:null},Je=o=>{var v,I;const e=Oe(o),u=F;let c=null;(e==null?void 0:e.tipo)==="CUOTA"&&((v=e.cuota)!=null&&v.fecha_vencimiento)?c=e.cuota.fecha_vencimiento:(e==null?void 0:e.tipo)==="CARGO"&&((I=e.cargo)!=null&&I.fecha_aplicado)?c=e.cargo.fecha_aplicado:c=o==null?void 0:o.fecha_aplicado;const x=Fe(c,u);return x&&x>0?x:0},Ye=o=>{var c,x,v;const e=Oe(o),u=Je(o);return(e==null?void 0:e.tipo)==="CUOTA"?`Interés de mora sobre cuota #${((c=e.cuota)==null?void 0:c.numero)??((x=e.cuota)==null?void 0:x.id)}${u?` · ${u} día${u===1?"":"s"} vencida`:""}`:(e==null?void 0:e.tipo)==="CARGO"?`Interés de mora sobre cargo aplicado el ${z((v=e.cargo)==null?void 0:v.fecha_aplicado)}${u?` · ${u} día${u===1?"":"s"} vencido`:""}`:`Interés de mora${u?` · ${u} día${u===1?"":"s"} vencido`:""}`},Ne=o=>{var e;return(((e=s.pagos)==null?void 0:e.data)||[]).filter(u=>u.cuota_id===o.id).reduce((u,c)=>u+Number(c.valor||0),0)},Ke=o=>Number((o==null?void 0:o.valor)||0)+Number((o==null?void 0:o.intereses_mora_acumulados)||0),oe=o=>Math.max(0,Ke(o)-Ne(o)),Q=o=>Number((o==null?void 0:o.monto)||0)+(String((o==null?void 0:o.tipo)||"")==="INTERES_MORA"?0:Number((o==null?void 0:o.intereses_mora_acumulados)||0)),Qe=o=>{var e;if(o!=null&&o.cuota_id){const u=(((e=s.cuotas)==null?void 0:e.data)||[]).find(c=>c.id===o.cuota_id);return u?`Cuota #${u.numero}`:"Cuota"}return o!=null&&o.cargo_id?"Cargo adicional":"Abono General"},re=C(!1),ae=C(null),_=j({cuota_id:null,valor:"",fecha:F,metodo:"TRANSFERENCIA",nota:"",comprobante:null}),We=o=>{ae.value=o,_.reset(),_.cuota_id=o.id,_.valor=oe(o),_.fecha=F,re.value=!0},se=()=>{re.value=!1},Ze=()=>{_.post(route("honorarios.contratos.pagar",s.contrato.id),{preserveScroll:!0,forceFormData:!0,onSuccess:se})},le=C(!1),M=C(null),h=j({cargo_id:null,valor:"",fecha:F,metodo:"TRANSFERENCIA",nota:"",comprobante:null}),et=o=>{M.value=o,h.reset(),h.cargo_id=o.id,h.valor=Q(o),h.fecha=F,le.value=!0},de=()=>{le.value=!1},tt=()=>{h.post(route("honorarios.contratos.cargos.pagar",s.contrato.id),{preserveScroll:!0,forceFormData:!0,onSuccess:de})},ne=C(!1),w=j({monto:"",descripcion:"",fecha:F,comprobante:null,fecha_inicio_intereses:""}),ot=()=>{w.reset(),w.fecha=F,ne.value=!0},ie=()=>{ne.value=!1},rt=()=>{w.post(route("honorarios.contratos.cargos.store",s.contrato.id),{preserveScroll:!0,forceFormData:!0,onSuccess:ie})},ue=C(!1),E=j({monto:"",descripcion:"",fecha_inicio_intereses:""}),at=()=>{E.reset(),ue.value=!0},me=()=>{ue.value=!1},st=()=>{E.post(route("honorarios.contratos.cerrar",s.contrato.id),{preserveScroll:!0,onSuccess:me})},ge=C(!1),D=j({monto_base_litis:"",fecha_inicio_intereses:""}),lt=()=>{D.reset(),ge.value=!0},ce=()=>{ge.value=!1},dt=()=>{D.post(route("honorarios.contratos.resolverLitis",s.contrato.id),{preserveScroll:!0,onSuccess:ce})},be=C(!1),B=C(!1),T=j({documento:null}),Ee=()=>{T.reset(),be.value=!0},pe=()=>{be.value=!1},nt=()=>{T.post(route("honorarios.contratos.documento.subir",s.contrato.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{pe()}})},it=()=>{B.value=!B.value},ut=()=>{confirm("¿Estás seguro de que quieres eliminar el documento? Esta acción no se puede deshacer.")&&K.delete(route("honorarios.contratos.documento.eliminar",s.contrato.id),{preserveScroll:!0})},Ie=C(null);je(Ie,()=>B.value=!1);const mt=()=>{const o=s.contrato;["LITIS","CUOTA_MIXTA"].includes(o==null?void 0:o.modalidad)&&!Number(o==null?void 0:o.monto_base_litis)&&!Number(o==null?void 0:o.litis_valor_ganado)?lt():at()},W={ACTIVO:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-300",PAGOS_PENDIENTES:"bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-300",CERRADO:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"},P=C("cargos"),xe=o=>{P.value=o;const e=new URL(window.location);e.searchParams.set("tab",o),window.history.replaceState({},"",e)};vt(()=>{const o=new URLSearchParams(window.location.search).get("tab");o&&["cuotas","cargos","pagos"].includes(o)&&(P.value=o)});const ye=o=>{if(!o)return null;try{const e=new URL(o,window.location.origin);return e.searchParams.set("tab",P.value),e.toString()}catch{return o}},gt=O(()=>{var o;return(((o=s.cuotas)==null?void 0:o.links)||[]).map(e=>({...e,url:ye(e.url)}))}),ct=O(()=>{var o;return(((o=s.cargos)==null?void 0:o.links)||[]).map(e=>({...e,url:ye(e.url)}))}),bt=O(()=>{var o;return(((o=s.pagos)==null?void 0:o.links)||[]).map(e=>({...e,url:ye(e.url)}))}),fe=C(!1),m=j({cliente_id:null,modalidad:"CUOTAS",inicio:new Date().toISOString().slice(0,10),monto_total:"",cuotas:12,anticipo:"",porcentaje_litis:"",nota:"",contrato_origen_id:null}),$=C(""),ve=C(""),pt=C(!1),xt=C(null);O(()=>$.value?s.clientes.filter(o=>o.nombre.toLowerCase().includes($.value.toLowerCase())).slice(0,10):s.clientes.slice(0,10)),Ve($,o=>{o!==ve.value&&(m.cliente_id=null)}),je(xt,()=>pt.value=!1);const yt=()=>{var e,u,c,x,v,I,r;m.defaults({cliente_id:((e=s.contrato)==null?void 0:e.cliente_id)??null,modalidad:((u=s.contrato)==null?void 0:u.modalidad)??"CUOTAS",inicio:new Date().toISOString().slice(0,10),monto_total:((c=s.contrato)==null?void 0:c.monto_total)??"",cuotas:12,anticipo:((x=s.contrato)==null?void 0:x.anticipo)??"",porcentaje_litis:((v=s.contrato)==null?void 0:v.porcentaje_litis)??"",nota:`Reestructuración del contrato #${((I=s.contrato)==null?void 0:I.id)??""}.`,contrato_origen_id:((r=s.contrato)==null?void 0:r.id)??null}),m.reset();const o=s.clientes.find(f=>f.id===s.contrato.cliente_id);o?($.value=o.nombre,ve.value=o.nombre):($.value="",ve.value=""),fe.value=!0};Ve(()=>m.modalidad,o=>{o==="PAGO_UNICO"?m.cuotas=1:(o==="CUOTAS"||o==="CUOTA_MIXTA")&&(m.cuotas=12)});const ke=()=>{fe.value=!1},ft=()=>{m.post(route("honorarios.contratos.store"),{preserveScroll:!0,onSuccess:ke})};return(o,e)=>{var u;return i(),n(N,null,[d(a(kt),{title:`Honorarios · Contrato #${(u=s.contrato)==null?void 0:u.id}`},null,8,["title"]),d(_t,null,{header:S(()=>{var c,x,v,I,r,f,q,J,Y,R,Re;return[t("div",wt,[t("div",null,[e[40]||(e[40]=t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},"Detalle del Contrato",-1)),t("p",Ct,[e[38]||(e[38]=p(" Contrato ",-1)),t("span",At,"#"+l((c=s.contrato)==null?void 0:c.id),1),e[39]||(e[39]=t("span",{class:"mx-2"},"|",-1)),t("span",{class:V(["px-2 py-0.5 rounded-full text-xs font-semibold",W[(x=s.contrato)==null?void 0:x.estado]||W.CERRADO])},l((I=(v=s.contrato)==null?void 0:v.estado)==null?void 0:I.replace("_"," ")),3)])]),t("div",St,[d(a(Te),{href:o.route("honorarios.contratos.index"),class:"text-sm px-3 py-1.5 rounded-md bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 flex items-center gap-2"},{default:S(()=>e[41]||(e[41]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),p(" Volver ",-1)])),_:1,__:[41]},8,["href"]),["ACTIVO","PAGOS_PENDIENTES"].includes((r=s.contrato)==null?void 0:r.estado)?(i(),n("button",{key:0,onClick:ot,class:"text-sm px-3 py-1.5 rounded-md bg-blue-50 dark:bg-blue-900/40 text-blue-700 dark:text-blue-200 border border-blue-200 dark:border-blue-800 hover:bg-blue-100 dark:hover:bg-blue-900"}," Añadir Gasto ")):g("",!0),((f=s.contrato)==null?void 0:f.estado)==="ACTIVO"?(i(),n("button",{key:1,onClick:mt,class:"text-sm px-3 py-1.5 rounded-md bg-slate-700 text-white hover:bg-slate-800"},l(["LITIS","CUOTA_MIXTA"].includes((q=s.contrato)==null?void 0:q.modalidad)&&!Number((J=s.contrato)==null?void 0:J.monto_base_litis)&&!Number((Y=s.contrato)==null?void 0:Y.litis_valor_ganado)?"Registrar Resultado y Cerrar":"Cerrar Contrato"),1)):g("",!0),((R=s.contrato)==null?void 0:R.estado)==="PAGOS_PENDIENTES"?(i(),n(N,{key:2},[Se.value<=0?(i(),n("button",{key:0,onClick:e[0]||(e[0]=Z=>a(K).post(o.route("honorarios.contratos.saldar",s.contrato.id),{preserveScroll:!0})),class:"text-sm px-3 py-1.5 rounded-md bg-emerald-600 text-white hover:bg-emerald-700"}," Saldar y Cerrar ")):g("",!0),t("button",{onClick:e[1]||(e[1]=Z=>a(K).post(o.route("honorarios.contratos.reabrir",s.contrato.id),{preserveScroll:!0})),class:"text-sm px-3 py-1.5 rounded-md bg-amber-600 text-white hover:bg-amber-700"}," Reabrir ")],64)):g("",!0),((Re=s.contrato)==null?void 0:Re.estado)==="CERRADO"?(i(),n("button",{key:3,onClick:e[2]||(e[2]=Z=>a(K).post(o.route("honorarios.contratos.reabrir",s.contrato.id),{preserveScroll:!0})),class:"text-sm px-3 py-1.5 rounded-md bg-amber-600 text-white hover:bg-amber-700"}," Reabrir ")):g("",!0),t("button",{onClick:yt,class:"text-sm px-3 py-1.5 rounded-md bg-indigo-50 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-200 border border-indigo-200 dark:border-indigo-800 hover:bg-indigo-100 dark:hover:bg-indigo-900"}," Reestructurar "),t("div",Mt,[s.contrato.documento_contrato?(i(),n("div",Ot,[t("a",{href:o.route("honorarios.contratos.documento.ver",s.contrato.id),target:"_blank",rel:"noopener",class:"text-sm px-3 py-1.5 rounded-md bg-blue-50 dark:bg-blue-900/40 text-blue-700 dark:text-blue-200 border border-blue-200 dark:border-blue-800 hover:bg-blue-100 dark:hover:bg-blue-900 flex items-center gap-2"},e[43]||(e[43]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),p(" Ver Documento ",-1)]),8,Nt),t("div",{class:"relative",ref_key:"documentoMenuRef",ref:Ie},[t("button",{onClick:it,class:"text-sm px-2 py-1.5 rounded-md bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600"},e[44]||(e[44]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})],-1)])),B.value?(i(),n("div",Et,[t("button",{onClick:e[3]||(e[3]=Z=>{Ee(),B.value=!1}),class:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center gap-2"},e[45]||(e[45]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})],-1),p(" Reemplazar Documento ",-1)])),t("button",{onClick:e[4]||(e[4]=Z=>{ut(),B.value=!1}),class:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2"},e[46]||(e[46]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),p(" Eliminar Documento ",-1)]))])):g("",!0)],512)])):(i(),n("button",{key:0,onClick:Ee,class:"text-sm px-3 py-1.5 rounded-md bg-green-50 dark:bg-green-900/40 text-green-700 dark:text-green-200 border border-green-200 dark:border-green-800 hover:bg-green-100 dark:hover:bg-green-900 flex items-center gap-2"},e[42]||(e[42]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1),p(" Subir Documento ",-1)])))]),t("a",{href:o.route("honorarios.contratos.pdf.liquidacion",s.contrato.id),target:"_blank",rel:"noopener",class:"text-sm px-3 py-1.5 rounded-md bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600"}," PDF Liquidación ",8,It)])])]}),default:S(()=>{var c,x,v,I;return[t("div",Rt,[t("div",Vt,[s.contratoOrigen?(i(),n("div",Tt,[t("div",Dt,[e[53]||(e[53]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-5 w-5 text-amber-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])],-1)),t("div",Pt,[t("p",jt,[e[47]||(e[47]=p(" Este contrato es una reestructuración del ",-1)),d(a(Te),{href:o.route("honorarios.contratos.show",s.contratoOrigen.id),class:"underline hover:text-amber-600"},{default:S(()=>[p(" Contrato #"+l(s.contratoOrigen.id),1)]),_:1},8,["href"]),e[48]||(e[48]=p(". ",-1))]),t("div",Ut,[t("p",null,[e[49]||(e[49]=p(" El contrato original tenía un estado de ",-1)),t("strong",null,l(s.contratoOrigen.estado),1),e[50]||(e[50]=p(" con un monto de ",-1)),t("strong",null,l(b(s.contratoOrigen.monto_total)),1),e[51]||(e[51]=p(" en modalidad ",-1)),t("strong",null,l(s.contratoOrigen.modalidad.replace("_"," ")),1),e[52]||(e[52]=p(". ",-1))]),s.contrato.nota?(i(),n("p",Ft,' Nota de reestructuración: "'+l(s.contrato.nota)+'" ',1)):g("",!0)])])])])):g("",!0),t("div",$t,[t("div",Gt,[e[54]||(e[54]=t("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"Neto Contrato",-1)),t("div",Lt,l(b(Ce.value)),1)]),t("div",zt,[e[55]||(e[55]=t("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"(+) Cargos Adicionales",-1)),t("div",Bt,l(b(te.value)),1),X.value>0?(i(),n("div",Ht," (Incluye "+l(b(X.value))+" en mora) ",1)):g("",!0)]),t("div",Xt,[e[56]||(e[56]=t("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"(-) Total Pagado",-1)),t("div",qt,l(b(Ae.value)),1)]),t("div",Jt,[e[57]||(e[57]=t("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"(=) Saldo Pendiente",-1)),t("div",Yt,l(b(Se.value)),1)])]),t("div",Kt,[t("div",Qt,[t("div",Wt,[t("div",Zt,[t("div",eo,[t("nav",to,[t("button",{onClick:e[5]||(e[5]=r=>xe("cuotas")),class:V([P.value==="cuotas"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700","whitespace-nowrap pb-3 px-1 border-b-2 font-medium text-sm"])},"Plan de Pagos",2),t("button",{onClick:e[6]||(e[6]=r=>xe("cargos")),class:V([P.value==="cargos"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700","whitespace-nowrap pb-3 px-1 border-b-2 font-medium text-sm"])},"Cargos Adicionales",2),t("button",{onClick:e[7]||(e[7]=r=>xe("pagos")),class:V([P.value==="pagos"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700","whitespace-nowrap pb-3 px-1 border-b-2 font-medium text-sm"])},"Historial de Pagos",2)])]),t("div",oo,[P.value==="cuotas"?(i(),n("div",ro,[(((c=s.cuotas)==null?void 0:c.data)||[]).length?g("",!0):(i(),n("div",ao,e[58]||(e[58]=[t("p",null,"No hay cuotas definidas para este contrato.",-1)]))),(i(!0),n(N,null,ee(s.cuotas.data,r=>(i(),n("div",{key:r.id,class:V(["border rounded-lg p-4 transition-all",r.estado==="PAGADA"?"bg-emerald-50/50 dark:bg-emerald-900/10 border-emerald-200 dark:border-emerald-800":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"])},[t("div",so,[t("div",lo,[t("p",no,[p(" Cuota #"+l(r.numero)+" ",1),t("span",{class:V(["ml-2 px-2.5 py-0.5 rounded-full text-xs font-semibold",r.estado==="PAGADA"?"bg-emerald-100 text-emerald-800":"bg-amber-100 text-amber-800"])},l(r.estado==="PAGADA"||r.fecha_pago?"PAGADA":r.estado||"PENDIENTE"),3)]),t("p",io,"Vence: "+l(z(r.fecha_vencimiento)),1)]),t("div",uo,[t("div",mo,[e[59]||(e[59]=t("p",{class:"text-xs text-gray-500"},"Valor",-1)),t("p",go,l(b(r.valor)),1)]),t("div",co,[e[60]||(e[60]=t("p",{class:"text-xs text-red-500"},"Mora",-1)),t("p",bo,l(b(r.intereses_mora_acumulados)),1)]),t("div",po,[e[61]||(e[61]=t("p",{class:"text-xs text-gray-500"},"Pagado",-1)),t("p",xo,l(b(Ne(r))),1)]),t("div",yo,[e[62]||(e[62]=t("p",{class:"text-xs text-gray-500"},"Pendiente",-1)),t("p",fo,l(b(oe(r))),1)])]),t("div",vo,[s.contrato.estado!=="CERRADO"&&r.estado!=="PAGADA"&&!r.fecha_pago?(i(),n("button",{key:0,onClick:f=>We(r),class:"w-full sm:w-auto px-4 py-2 rounded-md bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-700"}," Pagar ",8,ko)):g("",!0)])])],2))),128)),d(he,{class:"mt-6",links:gt.value},null,8,["links"])])):g("",!0),P.value==="cargos"?(i(),n("div",_o,[(((x=s.cargos)==null?void 0:x.data)||[]).length?(i(),n("div",wo,[(i(!0),n(N,null,ee(s.cargos.data,r=>(i(),n("div",{key:r.id,class:V(["border rounded-lg transition-all",r.estado==="PAGADO"?"bg-emerald-50/50 dark:bg-emerald-900/10 border-emerald-200 dark:border-emerald-900":String(r.tipo||"")==="INTERES_MORA"?"bg-red-50/50 dark:bg-red-900/10 border-red-200 dark:border-red-900":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"])},[t("div",Co,[t("div",Ao,[String(r.tipo||"")==="INTERES_MORA"?(i(),n("span",So,e[64]||(e[64]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})],-1)]))):(i(),n("span",Mo,e[65]||(e[65]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"}),t("path",{"fill-rule":"evenodd",d:"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z","clip-rule":"evenodd"})],-1)])))]),t("div",Oo,[t("div",No,[t("span",Eo,[String(r.tipo||"")!=="INTERES_MORA"&&Number(r.intereses_mora_acumulados||0)>0?(i(),n(N,{key:0},[p(l(b(Q(r))),1)],64)):(i(),n(N,{key:1},[p(l(b(r.monto)),1)],64))]),t("span",{class:V(["px-2 py-0.5 text-xs rounded-full font-semibold",String(r.tipo||"")==="INTERES_MORA"?"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300":"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300"])},l(String(r.tipo||"").replace("_"," ")||"CARGO"),3),t("span",Io,"Aplicado el "+l(z(r.fecha_aplicado)),1)]),String(r.tipo||"")==="INTERES_MORA"?(i(),n("p",Ro,l(Ye(r)),1)):g("",!0),String(r.tipo||"")!=="INTERES_MORA"&&Number(r.intereses_mora_acumulados||0)>0?(i(),n("p",Vo," (Valor original: "+l(b(r.monto))+" + "+l(b(r.intereses_mora_acumulados))+" de mora) ",1)):g("",!0),t("p",{class:"text-sm text-gray-600 dark:text-gray-400",textContent:l(r.descripcion)},null,8,To),r.comprobante?(i(),n("a",{key:2,href:Be(r),target:"_blank",class:"text-xs text-indigo-600 hover:underline font-semibold"},"Ver comprobante de creación",8,Do)):g("",!0)]),t("div",Po,[t("span",{class:V(["px-2.5 py-0.5 rounded-full text-xs font-semibold",r.estado==="PAGADO"?"bg-emerald-100 text-emerald-800":"bg-amber-100 text-amber-800"])},l(r.estado),3),r.estado==="PENDIENTE"&&s.contrato.estado!=="CERRADO"?(i(),n("button",{key:0,onClick:f=>et(r),class:"px-3 py-1.5 rounded-md bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-700"}," Pagar ",8,jo)):g("",!0)])]),r.estado==="PAGADO"?(i(),n("div",Uo,[t("p",Fo,"Pagado el "+l(z(r.fecha_pago_cargo))+" vía "+l(r.metodo_pago_cargo)+".",1),r.nota_pago_cargo?(i(),n("p",$o,'"'+l(r.nota_pago_cargo)+'"',1)):g("",!0),r.comprobante_pago_cargo?(i(),n("a",{key:1,href:He(r),target:"_blank",class:"mt-1 inline-block text-xs text-indigo-600 hover:underline font-semibold"},"Ver comprobante de pago",8,Go)):g("",!0)])):g("",!0)],2))),128)),t("div",Lo,[t("p",zo,[e[66]||(e[66]=p("Total Cargos: ",-1)),t("span",Bo,l(b(te.value)),1)]),X.value>0?(i(),n("p",Ho,"(Incluye "+l(b(X.value))+" en mora)",1)):g("",!0),t("p",Xo,[e[67]||(e[67]=p("Total Pendiente: ",-1)),t("span",qo,l(b(ze.value)),1)])]),d(he,{class:"mt-6",links:ct.value},null,8,["links"])])):(i(),n("div",ho,e[63]||(e[63]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})],-1),t("h3",{class:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100"},"Sin cargos adicionales",-1),t("p",{class:"mt-1 text-sm text-gray-500"},'Puedes añadir gastos desde el botón "Añadir Gasto".',-1)])))])):g("",!0),P.value==="pagos"?(i(),n("div",Jo,[(((v=s.pagos)==null?void 0:v.data)||[]).length?(i(),n("div",Ko,[(i(!0),n(N,null,ee([...s.pagos.data||[]].sort((r,f)=>new Date(f.fecha)-new Date(r.fecha)),r=>(i(),n("div",{key:r.id,class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4"},[t("div",Qo,[t("div",Wo,[e[69]||(e[69]=t("div",{class:"flex-shrink-0 inline-flex justify-center items-center w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-600 dark:text-gray-300",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{d:"M2 5a2 2 0 012-2h2a2 2 0 012 2v1h2V5a2 2 0 012-2h2a2 2 0 012 2v1h1a1 1 0 110 2h-1v8a2 2 0 01-2 2H5a2 2 0 01-2-2V8H2a1 1 0 110-2h1V5zm3 3v8h10V8H5z"})])],-1)),t("div",null,[e[68]||(e[68]=t("p",{class:"text-sm text-gray-500"},"Fecha",-1)),t("p",Zo,l(z(r.fecha)),1)])]),t("div",er,[t("span",{class:V(["px-2 py-1 rounded-md text-xs font-semibold",r.cargo_id?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"])},l(Qe(r)),3)]),t("div",tr,[e[70]||(e[70]=t("p",{class:"text-sm text-gray-500"},"Valor",-1)),t("p",or,l(b(r.valor)),1)])]),t("div",rr,[t("div",null,[e[71]||(e[71]=t("p",{class:"text-gray-500"},"Método",-1)),t("p",ar,l(r.metodo?r.metodo.replace("_"," "):"-"),1)]),t("div",sr,[e[72]||(e[72]=t("p",{class:"text-gray-500"},"Nota",-1)),t("p",lr,l(r.nota||"—"),1)])]),t("div",dr,[Me(r)?(i(),n("a",{key:0,href:Me(r),target:"_blank",class:"text-xs text-indigo-600 hover:underline font-semibold"},"Ver comprobante",8,nr)):(i(),n("span",ir,"Sin comprobante"))])]))),128)),d(he,{class:"mt-6",links:bt.value},null,8,["links"])])):(i(),n("div",Yo," No se han registrado pagos. "))])):g("",!0)])])])]),t("div",ur,[t("div",mr,[e[81]||(e[81]=t("div",{class:"p-6 border-b dark:border-gray-700"},[t("h3",{class:"text-lg font-semibold text-gray-800 dark:text-gray-200"},"Información del Contrato")],-1)),t("div",gr,[t("div",cr,[e[73]||(e[73]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Cliente:",-1)),t("span",br,l($e.value),1)]),t("div",pr,[e[74]||(e[74]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Fecha de Inicio:",-1)),t("span",xr,l(z(s.contrato.inicio)),1)]),t("div",yr,[e[75]||(e[75]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Modalidad:",-1)),t("span",fr,l((s.contrato.modalidad||"").replace("_"," ")),1)]),["LITIS","CUOTA_MIXTA"].includes(s.contrato.modalidad)?(i(),n("div",vr,[e[76]||(e[76]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Porcentaje de Éxito:",-1)),t("span",kr,l(s.contrato.porcentaje_litis)+"%",1)])):g("",!0),Number(s.contrato.monto_base_litis)>0?(i(),n("div",_r,[e[77]||(e[77]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Monto Base del Caso:",-1)),t("span",hr,l(b(s.contrato.monto_base_litis)),1)])):g("",!0),Number(s.contrato.litis_valor_ganado)>0?(i(),n("div",wr,[e[78]||(e[78]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Valor Litis (Ganado):",-1)),t("span",Cr,l(b(s.contrato.litis_valor_ganado)),1)])):g("",!0),s.contrato.modalidad==="CUOTA_MIXTA"?(i(),n("div",Ar,[e[79]||(e[79]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Parte Fija (Cuotas):",-1)),t("span",Sr,l(b(s.contrato.monto_total)),1)])):g("",!0),t("div",Mr,[e[80]||(e[80]=t("span",{class:"text-gray-500 dark:text-gray-400"},"Estado:",-1)),t("span",{class:V(["px-2.5 py-0.5 rounded-full text-xs font-semibold",W[s.contrato.estado]||W.CERRADO])},l((I=s.contrato.estado)==null?void 0:I.replace("_"," ")),3)])])])])])])]),d(L,{show:re.value,onClose:se},{default:S(()=>{var r;return[t("form",{onSubmit:G(Ze,["prevent"])},[t("div",Or,[t("h4",Nr,"Abonar a la cuota #"+l((r=ae.value)==null?void 0:r.numero),1)]),t("div",Er,[t("div",null,[e[82]||(e[82]=t("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Valor del Pago",-1)),k(t("input",{"onUpdate:modelValue":e[8]||(e[8]=f=>a(_).valor=f),type:"number",step:"0.01",min:"0",required:"",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[A,a(_).valor,void 0,{number:!0}]]),t("p",Ir,"Debe ser igual o mayor a "+l(b(oe(ae.value)))+".",1),d(y,{message:a(_).errors.valor,class:"mt-2"},null,8,["message"])]),t("div",Rr,[t("div",null,[e[83]||(e[83]=t("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Fecha",-1)),k(t("input",{"onUpdate:modelValue":e[9]||(e[9]=f=>a(_).fecha=f),type:"date",required:"",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[A,a(_).fecha]]),d(y,{message:a(_).errors.fecha,class:"mt-2"},null,8,["message"])]),t("div",null,[e[85]||(e[85]=t("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Método",-1)),k(t("select",{"onUpdate:modelValue":e[10]||(e[10]=f=>a(_).metodo=f),class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},e[84]||(e[84]=[t("option",null,"TRANSFERENCIA",-1),t("option",null,"EFECTIVO",-1),t("option",null,"TARJETA",-1),t("option",null,"OTRO",-1)]),512),[[_e,a(_).metodo]])])]),t("div",null,[e[86]||(e[86]=t("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Nota (Opcional)",-1)),k(t("input",{"onUpdate:modelValue":e[11]||(e[11]=f=>a(_).nota=f),type:"text",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[A,a(_).nota]])]),t("div",null,[e[87]||(e[87]=t("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Comprobante (Opcional)",-1)),t("input",{type:"file",onInput:e[12]||(e[12]=f=>a(_).comprobante=f.target.files[0]),class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900/50 dark:file:text-blue-300 dark:hover:file:bg-blue-900"},null,32),d(y,{message:a(_).errors.comprobante,class:"mt-2"},null,8,["message"])])]),t("div",Vr,[t("button",{type:"button",onClick:se,class:"px-4 py-2 rounded-md bg-white dark:bg-gray-700 border dark:border-gray-600 text-sm font-semibold hover:bg-gray-50 dark:hover:bg-gray-600"},"Cancelar"),t("button",{type:"submit",disabled:a(_).processing,class:"px-4 py-2 rounded-md bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-700 disabled:opacity-50"},"Guardar Pago",8,Tr)])],32)]}),_:1},8,["show"]),d(L,{show:le.value,onClose:de},{default:S(()=>{var r,f,q,J,Y;return[t("form",{onSubmit:G(tt,["prevent"])},[e[96]||(e[96]=t("div",{class:"p-6 border-b dark:border-gray-700"},[t("h4",{class:"font-semibold text-lg text-gray-800 dark:text-gray-100"},"Abonar a Cargo Adicional")],-1)),t("div",Dr,[t("div",Pr,[t("p",jr,l((r=M.value)==null?void 0:r.descripcion),1),t("p",Ur,[M.value&&String(M.value.tipo||"")!=="INTERES_MORA"&&Number(M.value.intereses_mora_acumulados||0)>0?(i(),n(N,{key:0},[p(l(b(Q(M.value)))+" ",1),t("span",Fr,"(Original: "+l(b((f=M.value)==null?void 0:f.monto))+" + Mora: "+l(b((q=M.value)==null?void 0:q.intereses_mora_acumulados))+")",1)],64)):(i(),n(N,{key:1},[p(l(b((J=M.value)==null?void 0:J.monto)),1)],64))])]),t("div",null,[e[90]||(e[90]=t("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Valor del Pago",-1)),k(t("input",{"onUpdate:modelValue":e[13]||(e[13]=R=>a(h).valor=R),type:"number",step:"0.01",min:"0",required:"",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[A,a(h).valor,void 0,{number:!0}]]),t("p",$r,[e[88]||(e[88]=p(" Debe ser igual o mayor a ",-1)),t("strong",null,[M.value&&String(M.value.tipo||"")!=="INTERES_MORA"&&Number(M.value.intereses_mora_acumulados||0)>0?(i(),n(N,{key:0},[p(l(b(Q(M.value))),1)],64)):(i(),n(N,{key:1},[p(l(b((Y=M.value)==null?void 0:Y.monto)),1)],64))]),e[89]||(e[89]=p(". ",-1))]),d(y,{message:a(h).errors.valor,class:"mt-2"},null,8,["message"])]),t("div",Gr,[t("div",null,[e[91]||(e[91]=t("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Fecha",-1)),k(t("input",{"onUpdate:modelValue":e[14]||(e[14]=R=>a(h).fecha=R),type:"date",required:"",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[A,a(h).fecha]]),d(y,{message:a(h).errors.fecha,class:"mt-2"},null,8,["message"])]),t("div",null,[e[93]||(e[93]=t("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Método",-1)),k(t("select",{"onUpdate:modelValue":e[15]||(e[15]=R=>a(h).metodo=R),class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},e[92]||(e[92]=[t("option",null,"TRANSFERENCIA",-1),t("option",null,"EFECTIVO",-1),t("option",null,"TARJETA",-1),t("option",null,"OTRO",-1)]),512),[[_e,a(h).metodo]])])]),t("div",null,[e[94]||(e[94]=t("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Nota (Opcional)",-1)),k(t("input",{"onUpdate:modelValue":e[16]||(e[16]=R=>a(h).nota=R),type:"text",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[A,a(h).nota]])]),t("div",null,[e[95]||(e[95]=t("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Comprobante (Requerido)",-1)),t("input",{type:"file",onInput:e[17]||(e[17]=R=>a(h).comprobante=R.target.files[0]),required:"",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900/50 dark:file:text-blue-300 dark:hover:file:bg-blue-900"},null,32),d(y,{message:a(h).errors.comprobante,class:"mt-2"},null,8,["message"])])]),t("div",Lr,[t("button",{type:"button",onClick:de,class:"px-4 py-2 rounded-md bg-white dark:bg-gray-700 border dark:border-gray-600 text-sm font-semibold hover:bg-gray-50 dark:hover:bg-gray-600"},"Cancelar"),t("button",{type:"submit",disabled:a(h).processing,class:"px-4 py-2 rounded-md bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-700 disabled:opacity-50"},"Guardar Pago",8,zr)])],32)]}),_:1},8,["show"]),d(L,{show:ne.value,onClose:ie},{default:S(()=>[t("form",{onSubmit:G(rt,["prevent"])},[e[103]||(e[103]=t("div",{class:"p-6 border-b dark:border-gray-700"},[t("h4",{class:"font-semibold text-lg text-gray-800 dark:text-gray-100"},"Añadir Gasto Pagado")],-1)),t("div",Br,[t("div",null,[e[97]||(e[97]=t("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Monto del Gasto",-1)),k(t("input",{"onUpdate:modelValue":e[18]||(e[18]=r=>a(w).monto=r),type:"number",step:"0.01",min:"0",required:"",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[A,a(w).monto,void 0,{number:!0}]]),d(y,{message:a(w).errors.monto,class:"mt-2"},null,8,["message"])]),t("div",null,[e[98]||(e[98]=t("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Fecha de Aplicación",-1)),k(t("input",{"onUpdate:modelValue":e[19]||(e[19]=r=>a(w).fecha=r),type:"date",required:"",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[A,a(w).fecha]]),d(y,{message:a(w).errors.fecha,class:"mt-2"},null,8,["message"])]),t("div",null,[e[99]||(e[99]=t("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Descripción",-1)),k(t("input",{"onUpdate:modelValue":e[20]||(e[20]=r=>a(w).descripcion=r),type:"text",required:"",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[A,a(w).descripcion]]),d(y,{message:a(w).errors.descripcion,class:"mt-2"},null,8,["message"])]),t("div",null,[e[100]||(e[100]=t("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Comprobante (Opcional)",-1)),t("input",{type:"file",onInput:e[21]||(e[21]=r=>a(w).comprobante=r.target.files[0]),class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900/50 dark:file:text-blue-300 dark:hover:file:bg-blue-900"},null,32),d(y,{message:a(w).errors.comprobante,class:"mt-2"},null,8,["message"])]),t("div",null,[e[101]||(e[101]=t("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Fecha de Inicio de Intereses (Opcional)",-1)),k(t("input",{"onUpdate:modelValue":e[22]||(e[22]=r=>a(w).fecha_inicio_intereses=r),type:"date",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[A,a(w).fecha_inicio_intereses]]),e[102]||(e[102]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"Si no se especifica la fecha de cobro de intereses, no se cobrarán intereses.",-1)),d(y,{message:a(w).errors.fecha_inicio_intereses,class:"mt-2"},null,8,["message"])])]),t("div",Hr,[t("button",{type:"button",onClick:ie,class:"px-4 py-2 rounded-md bg-white dark:bg-gray-700 border dark:border-gray-600 text-sm font-semibold hover:bg-gray-50 dark:hover:bg-gray-600"},"Cancelar"),t("button",{type:"submit",disabled:a(w).processing,class:"px-4 py-2 rounded-md bg-indigo-600 text-white text-sm font-semibold hover:bg-indigo-700 disabled:opacity-50"},"Guardar Gasto",8,Xr)])],32)]),_:1},8,["show"]),d(L,{show:ue.value,onClose:me},{default:S(()=>[t("form",{onSubmit:G(st,["prevent"])},[e[109]||(e[109]=t("div",{class:"p-6 border-b dark:border-gray-700"},[t("h4",{class:"font-semibold text-lg text-gray-800 dark:text-gray-100"},"Cerrar Contrato Manualmente")],-1)),t("div",qr,[e[108]||(e[108]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400"},' Opcionalmente, añade un cargo final por gestión o cláusula penal. El contrato pasará a "Pagos Pendientes". ',-1)),t("div",null,[e[104]||(e[104]=t("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Monto del Cargo (Opcional)",-1)),k(t("input",{"onUpdate:modelValue":e[23]||(e[23]=r=>a(E).monto=r),type:"number",step:"0.01",min:"0",placeholder:"Ej: 50000",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[A,a(E).monto,void 0,{number:!0}]]),d(y,{message:a(E).errors.monto,class:"mt-2"},null,8,["message"])]),t("div",null,[e[105]||(e[105]=t("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Descripción del Cargo",-1)),k(t("input",{"onUpdate:modelValue":e[24]||(e[24]=r=>a(E).descripcion=r),type:"text",placeholder:"Ej: Cláusula penal por terminación",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[A,a(E).descripcion]]),d(y,{message:a(E).errors.descripcion,class:"mt-2"},null,8,["message"])]),t("div",null,[e[106]||(e[106]=t("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Fecha de Inicio de Intereses (Opcional)",-1)),k(t("input",{"onUpdate:modelValue":e[25]||(e[25]=r=>a(E).fecha_inicio_intereses=r),type:"date",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[A,a(E).fecha_inicio_intereses]]),e[107]||(e[107]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"Si no se especifica la fecha de cobro de intereses, no se cobrarán intereses.",-1)),d(y,{message:a(E).errors.fecha_inicio_intereses,class:"mt-2"},null,8,["message"])])]),t("div",Jr,[t("button",{type:"button",onClick:me,class:"px-4 py-2 rounded-md bg-white dark:bg-gray-700 border dark:border-gray-600 text-sm font-semibold hover:bg-gray-50 dark:hover:bg-gray-600"},"Cancelar"),t("button",{type:"submit",disabled:a(E).processing,class:"px-4 py-2 rounded-md bg-slate-700 text-white text-sm font-semibold hover:bg-slate-800 disabled:opacity-50"},"Confirmar Cierre",8,Yr)])],32)]),_:1},8,["show"]),d(L,{show:ge.value,onClose:ce},{default:S(()=>[t("form",{onSubmit:G(dt,["prevent"])},[e[113]||(e[113]=t("div",{class:"p-6 border-b dark:border-gray-700"},[t("h4",{class:"font-semibold text-lg text-gray-800 dark:text-gray-100"},"Registrar Resultado del Caso (Litis)")],-1)),t("div",Kr,[t("p",Qr," Ingresa el monto final sobre el cual se calcularán los honorarios del "+l(s.contrato.porcentaje_litis)+"%. Esto generará un cargo final en el contrato. ",1),t("div",null,[e[110]||(e[110]=t("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Monto Base Final",-1)),k(t("input",{"onUpdate:modelValue":e[26]||(e[26]=r=>a(D).monto_base_litis=r),type:"number",step:"0.01",min:"0",required:"",placeholder:"Ej: 15000000",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[A,a(D).monto_base_litis,void 0,{number:!0}]]),d(y,{message:a(D).errors.monto_base_litis,class:"mt-2"},null,8,["message"])]),t("div",null,[e[111]||(e[111]=t("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"},"Fecha de Inicio de Intereses (Opcional)",-1)),k(t("input",{"onUpdate:modelValue":e[27]||(e[27]=r=>a(D).fecha_inicio_intereses=r),type:"date",class:"w-full rounded-md border-gray-300 dark:bg-gray-900 dark:border-gray-700 shadow-sm"},null,512),[[A,a(D).fecha_inicio_intereses]]),e[112]||(e[112]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},"Si no se especifica la fecha de cobro de intereses, no se cobrarán intereses.",-1)),d(y,{message:a(D).errors.fecha_inicio_intereses,class:"mt-2"},null,8,["message"])])]),t("div",Wr,[t("button",{type:"button",onClick:ce,class:"px-4 py-2 rounded-md bg-white dark:bg-gray-700 border dark:border-gray-600 text-sm font-semibold hover:bg-gray-50 dark:hover:bg-gray-600"},"Cancelar"),t("button",{type:"submit",disabled:a(D).processing,class:"px-4 py-2 rounded-md bg-purple-600 text-white text-sm font-semibold hover:bg-purple-700 disabled:opacity-50"},"Confirmar y Generar Cargo",8,Zr)])],32)]),_:1},8,["show"]),d(L,{show:fe.value,onClose:ke},{default:S(()=>[t("form",{onSubmit:G(ft,["prevent"])},[t("div",ea,[t("h4",ta," Reestructurar Contrato #"+l(s.contrato.id),1)]),t("div",oa,[t("div",null,[d(U,{for:"cliente_search_reestructurar",value:"Cliente"}),d(H,{id:"cliente_search_reestructurar",type:"text",modelValue:$.value,"onUpdate:modelValue":e[28]||(e[28]=r=>$.value=r),disabled:"",class:"mt-1 block w-full disabled:bg-gray-100 dark:disabled:bg-gray-800/50"},null,8,["modelValue"]),d(y,{class:"mt-2",message:a(m).errors.cliente_id},null,8,["message"])]),t("div",ra,[t("div",null,[d(U,{for:"modalidad_reestructurar",value:"Modalidad del Contrato"}),k(t("select",{"onUpdate:modelValue":e[29]||(e[29]=r=>a(m).modalidad=r),id:"modalidad_reestructurar",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm dark:bg-gray-900 dark:border-gray-700"},[(i(!0),n(N,null,ee(s.modalidades,r=>(i(),n("option",{key:r,value:r},l(r.replace("_"," ")),9,aa))),128))],512),[[_e,a(m).modalidad]]),d(y,{class:"mt-2",message:a(m).errors.modalidad},null,8,["message"])]),t("div",null,[d(U,{for:"inicio_reestructurar",value:"Fecha de Inicio"}),d(H,{id:"inicio_reestructurar",type:"date",modelValue:a(m).inicio,"onUpdate:modelValue":e[30]||(e[30]=r=>a(m).inicio=r),class:"mt-1 block w-full"},null,8,["modelValue"]),d(y,{class:"mt-2",message:a(m).errors.inicio},null,8,["message"])])]),t("div",sa,[["CUOTAS","PAGO_UNICO","CUOTA_MIXTA"].includes(a(m).modalidad)?(i(),n(N,{key:0},[t("div",null,[d(U,{for:"monto_total_reestructurar",value:"Monto Total (Parte Fija)"}),d(H,{id:"monto_total_reestructurar",type:"number",step:"0.01",modelValue:a(m).monto_total,"onUpdate:modelValue":e[31]||(e[31]=r=>a(m).monto_total=r),class:"mt-1 block w-full",placeholder:"Ej: 5000000"},null,8,["modelValue"]),d(y,{class:"mt-2",message:a(m).errors.monto_total},null,8,["message"])]),a(m).modalidad!=="PAGO_UNICO"?(i(),n("div",la,[d(U,{for:"cuotas_reestructurar",value:"Número de Cuotas"}),d(H,{id:"cuotas_reestructurar",type:"number",modelValue:a(m).cuotas,"onUpdate:modelValue":e[32]||(e[32]=r=>a(m).cuotas=r),class:"mt-1 block w-full",placeholder:"Ej: 12"},null,8,["modelValue"]),d(y,{class:"mt-2",message:a(m).errors.cuotas},null,8,["message"])])):g("",!0),t("div",null,[d(U,{for:"anticipo_reestructurar",value:"Anticipo (Opcional)"}),d(H,{id:"anticipo_reestructurar",type:"number",step:"0.01",modelValue:a(m).anticipo,"onUpdate:modelValue":e[33]||(e[33]=r=>a(m).anticipo=r),class:"mt-1 block w-full",placeholder:"Ej: 1000000"},null,8,["modelValue"]),d(y,{class:"mt-2",message:a(m).errors.anticipo},null,8,["message"])])],64)):g("",!0),["LITIS","CUOTA_MIXTA"].includes(a(m).modalidad)?(i(),n("div",da,[d(U,{for:"porcentaje_litis_reestructurar",value:"Porcentaje de Éxito (%)"}),d(H,{id:"porcentaje_litis_reestructurar",type:"number",step:"0.01",modelValue:a(m).porcentaje_litis,"onUpdate:modelValue":e[34]||(e[34]=r=>a(m).porcentaje_litis=r),class:"mt-1 block w-full",placeholder:"Ej: 20"},null,8,["modelValue"]),d(y,{class:"mt-2",message:a(m).errors.porcentaje_litis},null,8,["message"])])):g("",!0)]),t("div",null,[d(U,{for:"nota_reestructurar",value:"Nota (Opcional)"}),d(ht,{id:"nota_reestructurar",modelValue:a(m).nota,"onUpdate:modelValue":e[35]||(e[35]=r=>a(m).nota=r),rows:"3",class:"mt-1 block w-full"},null,8,["modelValue"]),d(y,{class:"mt-2",message:a(m).errors.nota},null,8,["message"])]),k(t("input",{type:"hidden","onUpdate:modelValue":e[36]||(e[36]=r=>a(m).contrato_origen_id=r)},null,512),[[A,a(m).contrato_origen_id]])]),t("div",na,[d(Pe,{type:"button",onClick:ke},{default:S(()=>e[114]||(e[114]=[p("Cancelar",-1)])),_:1,__:[114]}),d(De,{type:"submit",disabled:a(m).processing},{default:S(()=>[p(l(a(m).processing?"Guardando...":"Guardar Contrato"),1)]),_:1},8,["disabled"])])],32)]),_:1},8,["show"]),d(L,{show:be.value,onClose:pe},{default:S(()=>[t("form",{onSubmit:G(nt,["prevent"])},[t("div",ia,[t("h4",ua,l(s.contrato.documento_contrato?"Reemplazar Documento del Contrato":"Subir Documento del Contrato"),1)]),t("div",ma,[s.contrato.documento_contrato?(i(),n("div",ga,e[115]||(e[115]=[t("div",{class:"flex items-center gap-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-amber-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.314 16.5c-.77.833.192 2.5 1.732 2.5z"})]),t("span",{class:"text-sm text-amber-800 dark:text-amber-300 font-medium"}," Este contrato ya tiene un documento. Al subir uno nuevo, el anterior será reemplazado. ")],-1)]))):g("",!0),t("div",null,[e[116]||(e[116]=t("label",{class:"block text-sm font-medium text-gray-600 dark:text-gray-300 mb-1"}," Documento del Contrato (PDF únicamente) ",-1)),t("input",{type:"file",accept:".pdf",onInput:e[37]||(e[37]=r=>a(T).documento=r.target.files[0]),required:"",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100 dark:file:bg-green-900/50 dark:file:text-green-300 dark:hover:file:bg-green-900"},null,32),e[117]||(e[117]=t("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," Archivo máximo: 10MB. Solo se permiten archivos PDF. ",-1)),d(y,{message:a(T).errors.documento,class:"mt-2"},null,8,["message"])]),a(T).documento?(i(),n("div",ca,[t("div",ba,[e[118]||(e[118]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t("div",pa,[t("p",xa,l(a(T).documento.name),1),t("p",ya,l((a(T).documento.size/1024/1024).toFixed(2))+" MB",1)])])])):g("",!0)]),t("div",fa,[d(Pe,{type:"button",onClick:pe},{default:S(()=>e[119]||(e[119]=[p("Cancelar",-1)])),_:1,__:[119]}),d(De,{type:"submit",disabled:a(T).processing||!a(T).documento},{default:S(()=>[p(l(a(T).processing?"Subiendo...":s.contrato.documento_contrato?"Reemplazar Documento":"Subir Documento"),1)]),_:1},8,["disabled"])])],32)]),_:1},8,["show"])]}),_:1})],64)}}};export{Ra as default};
