import{f as b,_ as f}from"./AuthenticatedLayout-B92UnL5N.js";import{c as r,o as d,b as i,u as n,h,w as x,a as t,t as a,i as p,F as c,e as g,p as _,g as v,n as w}from"./app-JQL7kpkv.js";import"./ApplicationLogo-B_nlfuyF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const k={class:"py-12"},C={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},F={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},D={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg p-6 flex items-center"},N={class:"p-3 rounded-full bg-red-100 dark:bg-red-900 mr-4"},P={class:"text-3xl font-bold text-gray-900 dark:text-gray-100"},A={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg p-6"},R={class:"flex justify-around items-center text-center mt-4"},j={class:"text-2xl font-bold text-red-600"},V={class:"text-2xl font-bold text-yellow-600"},L={class:"text-2xl font-bold text-blue-600"},T={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg p-6"},z={class:"space-y-2 text-sm mt-3"},B={class:"text-gray-700 dark:text-gray-300"},E={class:"font-bold bg-gray-200 dark:bg-gray-700 rounded-full px-2 py-0.5 text-xs"},S={key:0,class:"text-gray-500 text-center pt-2"},q={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},I={class:"p-6"},O={class:"overflow-x-auto"},G={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},M={class:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700"},U={key:0},$={class:"px-4 py-4 whitespace-nowrap text-sm"},H={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-gray-200"},J={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-500"},K={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-500"},Q={class:"px-4 py-4 whitespace-nowrap"},W={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-500"},et={__name:"Cumplimientos",props:{stats:{type:Object,required:!0},listadoFallas:{type:Array,required:!0}},setup(o){const m={alto:"bg-red-100 text-red-800 border-red-500",medio:"bg-yellow-100 text-yellow-800 border-yellow-500",bajo:"bg-blue-100 text-blue-800 border-blue-500"},u={poder_vencido:"Poder Vencido",tasa_usura:"Tasa de Usura Excedida",sin_pagare:"Falta Pagaré",sin_carta_instrucciones:"Falta Carta de Instrucciones",sin_certificacion_saldo:"Falta Certificación de Saldo",tipo_proceso_vs_garantia:"Proceso vs. Garantía",plazo_excedido_sin_demanda:"Plazo para Demandar Excedido",documento_faltante_para_radicar:"Docs. Faltantes para Radicar"},y=l=>{if(!l)return"N/A";const e={year:"numeric",month:"short",day:"numeric"};return new Date(l).toLocaleDateString("es-CO",e)};return(l,e)=>(d(),r(c,null,[i(n(h),{title:"Reporte de Cumplimiento Legal"}),i(f,null,{header:x(()=>e[0]||(e[0]=[t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," Dashboard de Cumplimiento Legal ",-1)])),default:x(()=>[t("div",k,[t("div",C,[t("div",F,[t("div",D,[t("div",N,[i(n(b),{class:"h-8 w-8 text-red-500"})]),t("div",null,[e[1]||(e[1]=t("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Fallas Activas",-1)),t("p",P,a(o.stats.totalFallasActivas),1)])]),t("div",A,[e[5]||(e[5]=t("h3",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2"},"Fallas por Nivel de Riesgo",-1)),t("div",R,[t("div",null,[t("p",j,a(o.stats.fallasPorRiesgo.alto),1),e[2]||(e[2]=t("p",{class:"text-xs font-semibold text-red-500 uppercase"},"Alto",-1))]),t("div",null,[t("p",V,a(o.stats.fallasPorRiesgo.medio),1),e[3]||(e[3]=t("p",{class:"text-xs font-semibold text-yellow-500 uppercase"},"Medio",-1))]),t("div",null,[t("p",L,a(o.stats.fallasPorRiesgo.bajo),1),e[4]||(e[4]=t("p",{class:"text-xs font-semibold text-blue-500 uppercase"},"Bajo",-1))])])]),t("div",T,[e[6]||(e[6]=t("h3",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2"},"Top Cooperativas con Fallas",-1)),t("ul",z,[(d(!0),r(c,null,g(o.stats.fallasPorCooperativa,s=>(d(),r("li",{key:s.nombre,class:"flex justify-between items-center"},[t("span",B,a(s.nombre),1),t("span",E,a(s.total_fallas),1)]))),128)),o.stats.fallasPorCooperativa.length===0?(d(),r("li",S,"Sin fallas registradas.")):p("",!0)])])]),t("div",q,[t("div",I,[e[9]||(e[9]=t("h3",{class:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-4"},"Listado de Fallas de Cumplimiento Activas",-1)),t("div",O,[t("table",G,[e[8]||(e[8]=t("thead",{class:"bg-gray-50 dark:bg-gray-800"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Caso ID"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Deudor"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Cooperativa"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Tipo de Falla"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Riesgo"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Detectado")])],-1)),t("tbody",M,[o.listadoFallas.length===0?(d(),r("tr",U,e[7]||(e[7]=[t("td",{colspan:"6",class:"px-6 py-10 text-center text-gray-500"},"¡Felicidades! No hay fallas de cumplimiento activas.",-1)]))):p("",!0),(d(!0),r(c,null,g(o.listadoFallas,s=>(d(),r("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50"},[t("td",$,[i(n(_),{href:l.route("casos.show",s.caso.id),class:"text-indigo-600 dark:text-indigo-400 hover:underline font-bold"},{default:x(()=>[v(" #"+a(s.caso.id),1)]),_:2},1032,["href"])]),t("td",H,a(s.caso.deudor?s.caso.deudor.nombre_completo:"N/A"),1),t("td",J,a(s.caso.cooperativa.nombre),1),t("td",K,a(u[s.tipo]),1),t("td",Q,[t("span",{class:w(["px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full capitalize border",m[s.nivel_riesgo]])},a(s.nivel_riesgo),3)]),t("td",W,a(y(s.ultima_revision)),1)]))),128))])])])])])])])]),_:1})],64))}};export{et as default};
