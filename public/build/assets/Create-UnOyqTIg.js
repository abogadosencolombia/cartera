import{s as w,c as p,o as f,b as o,u as e,h as x,w as d,a as r,p as b,g,x as y,i as V,d as k,v as C,n as U,F as N}from"./app-D6fBSztB.js";import{_ as A}from"./AuthenticatedLayout-_MACS7lg.js";import{_ as t}from"./InputError-HqrJXC_t.js";import{_ as i}from"./InputLabel-B78_-JR2.js";import{_ as $}from"./PrimaryButton-CvtAZ7tP.js";import{_ as m}from"./TextInput-Bef9WMy8.js";import{s as h}from"./vue-multiselect.css_vue_type_style_index_0_src_true_lang-DmM8riIB.js";import"./ApplicationLogo-Dh4pLsNN.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"py-12"},F={class:"max-w-2xl mx-auto sm:px-6 lg:px-8"},B={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},S={class:"p-6 md:p-8 text-gray-900 dark:text-gray-100"},j={class:"flex justify-between items-center"},E={key:0},M={class:"flex items-center justify-end mt-4"},L={__name:"Create",props:{allCooperativas:Array,personas:Array},setup(n){const s=w({name:"",email:"",password:"",password_confirmation:"",tipo_usuario:"cliente",cooperativas:[],persona_id:null}),c=()=>{s.post(route("admin.users.store"),{onFinish:()=>s.reset("password","password_confirmation")})};return(v,a)=>(f(),p(N,null,[o(e(x),{title:"Crear Usuario"}),o(A,null,{header:d(()=>a[6]||(a[6]=[r("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," Registrar Nuevo Usuario ",-1)])),default:d(()=>[r("div",q,[r("div",F,[r("div",B,[r("div",S,[r("div",j,[a[8]||(a[8]=r("h3",{class:"text-lg font-medium leading-6 text-gray-900 dark:text-gray-100"}," Complete los datos del nuevo usuario ",-1)),o(e(b),{href:v.route("admin.users.index"),class:"text-sm text-gray-600 dark:text-gray-400 hover:underline"},{default:d(()=>a[7]||(a[7]=[g(" ← Volver al listado ",-1)])),_:1,__:[7]},8,["href"])]),r("form",{onSubmit:y(c,["prevent"]),class:"mt-6 space-y-6"},[r("div",null,[o(i,{for:"name",value:"Nombre Completo"}),o(m,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:e(s).name,"onUpdate:modelValue":a[0]||(a[0]=l=>e(s).name=l),required:"",autofocus:""},null,8,["modelValue"]),o(t,{class:"mt-2",message:e(s).errors.name},null,8,["message"])]),r("div",null,[o(i,{for:"email",value:"Email"}),o(m,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:e(s).email,"onUpdate:modelValue":a[1]||(a[1]=l=>e(s).email=l),required:""},null,8,["modelValue"]),o(t,{class:"mt-2",message:e(s).errors.email},null,8,["message"])]),r("div",null,[o(i,{for:"password",value:"Contraseña"}),o(m,{id:"password",type:"password",class:"mt-1 block w-full",modelValue:e(s).password,"onUpdate:modelValue":a[2]||(a[2]=l=>e(s).password=l),required:""},null,8,["modelValue"]),o(t,{class:"mt-2",message:e(s).errors.password},null,8,["message"])]),r("div",null,[o(i,{for:"password_confirmation",value:"Confirmar Contraseña"}),o(m,{id:"password_confirmation",type:"password",class:"mt-1 block w-full",modelValue:e(s).password_confirmation,"onUpdate:modelValue":a[3]||(a[3]=l=>e(s).password_confirmation=l),required:""},null,8,["modelValue"]),o(t,{class:"mt-2",message:e(s).errors.password_confirmation},null,8,["message"])]),r("div",null,[o(i,{for:"tipo_usuario",value:"Tipo de Usuario"}),k(r("select",{id:"tipo_usuario","onUpdate:modelValue":a[4]||(a[4]=l=>e(s).tipo_usuario=l),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm"},a[9]||(a[9]=[r("option",{value:"admin"},"Administrador",-1),r("option",{value:"gestor"},"Gestor",-1),r("option",{value:"abogado"},"Abogado",-1),r("option",{value:"cliente"},"Cliente",-1)]),512),[[C,e(s).tipo_usuario]]),o(t,{class:"mt-2",message:e(s).errors.tipo_usuario},null,8,["message"])]),e(s).tipo_usuario!=="admin"?(f(),p("div",E,[o(i,{value:"Asignar a Cooperativa(s)"}),o(e(h),{modelValue:e(s).cooperativas,"onUpdate:modelValue":a[5]||(a[5]=l=>e(s).cooperativas=l),options:n.allCooperativas.map(l=>l.id),"custom-label":l=>{var u;return(u=n.allCooperativas.find(_=>_.id===l))==null?void 0:u.nombre},multiple:!0,placeholder:"Seleccione una o más cooperativas"},null,8,["modelValue","options","custom-label"]),o(t,{message:e(s).errors.cooperativas,class:"mt-2"},null,8,["message"])])):V("",!0),r("div",M,[o($,{class:U({"opacity-25":e(s).processing}),disabled:e(s).processing},{default:d(()=>a[10]||(a[10]=[g(" Registrar Usuario ",-1)])),_:1,__:[10]},8,["class","disabled"])])],32)])])])])]),_:1})],64))}};export{L as default};
