import{s as x,c as g,o as c,b as r,u as e,h as w,w as m,a as o,p as k,g as f,x as V,i as v,d as C,v as U,n as h,F as A}from"./app-CJXh-Pjp.js";import{_ as E}from"./AuthenticatedLayout-CjDncLrz.js";import{_ as t}from"./InputError-D6J_Ekxe.js";import{_ as i}from"./InputLabel-DWTjBLJB.js";import{_ as N}from"./PrimaryButton-D7hB7Y7-.js";import{_ as u}from"./TextInput-A7ldSpJd.js";import{s as b}from"./vue-multiselect.css_vue_type_style_index_0_src_true_lang-CbKp2-Ku.js";import"./ApplicationLogo-BzDRqvbd.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"py-12"},q={class:"max-w-2xl mx-auto sm:px-6 lg:px-8"},F={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},S={class:"p-6 md:p-8 text-gray-900 dark:text-gray-100"},B={class:"flex justify-between items-center"},R={class:"border-t border-gray-200 dark:border-gray-700 pt-6"},j={class:"mt-4 space-y-6"},D={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},M={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},T={class:"border-t border-gray-200 dark:border-gray-700 pt-6"},z={class:"mt-4 space-y-6"},G={key:0},H={key:1},I={class:"flex items-center justify-end mt-4 border-t border-gray-200 dark:border-gray-700 pt-6"},Z={__name:"Create",props:{allCooperativas:Array,allEspecialidades:Array,personas:Array},setup(n){const s=x({name:"",email:"",password:"",password_confirmation:"",tipo_usuario:"cliente",cooperativas:[],especialidades:[],persona_id:null}),y=()=>{s.post(route("admin.users.store"),{onFinish:()=>s.reset("password","password_confirmation")})};return(_,a)=>(c(),g(A,null,[r(e(w),{title:"Crear Usuario"}),r(E,null,{header:m(()=>a[7]||(a[7]=[o("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," Registrar Nuevo Usuario ",-1)])),default:m(()=>[o("div",$,[o("div",q,[o("div",F,[o("div",S,[o("div",B,[a[9]||(a[9]=o("h3",{class:"text-lg font-medium leading-6 text-gray-900 dark:text-gray-100"}," Complete los datos del nuevo usuario ",-1)),r(e(k),{href:_.route("admin.users.index"),class:"text-sm text-gray-600 dark:text-gray-400 hover:underline"},{default:m(()=>a[8]||(a[8]=[f(" ← Volver al listado ",-1)])),_:1,__:[8]},8,["href"])]),o("form",{onSubmit:V(y,["prevent"]),class:"mt-6 space-y-6"},[o("div",R,[a[10]||(a[10]=o("h3",{class:"text-base font-semibold text-gray-900 dark:text-gray-100"},"Datos de Acceso",-1)),o("div",j,[o("div",D,[o("div",null,[r(i,{for:"name",value:"Nombre Completo"}),r(u,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:e(s).name,"onUpdate:modelValue":a[0]||(a[0]=l=>e(s).name=l),required:"",autofocus:""},null,8,["modelValue"]),r(t,{class:"mt-2",message:e(s).errors.name},null,8,["message"])]),o("div",null,[r(i,{for:"email",value:"Email"}),r(u,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:e(s).email,"onUpdate:modelValue":a[1]||(a[1]=l=>e(s).email=l),required:""},null,8,["modelValue"]),r(t,{class:"mt-2",message:e(s).errors.email},null,8,["message"])])]),o("div",M,[o("div",null,[r(i,{for:"password",value:"Contraseña"}),r(u,{id:"password",type:"password",class:"mt-1 block w-full",modelValue:e(s).password,"onUpdate:modelValue":a[2]||(a[2]=l=>e(s).password=l),required:""},null,8,["modelValue"]),r(t,{class:"mt-2",message:e(s).errors.password},null,8,["message"])]),o("div",null,[r(i,{for:"password_confirmation",value:"Confirmar Contraseña"}),r(u,{id:"password_confirmation",type:"password",class:"mt-1 block w-full",modelValue:e(s).password_confirmation,"onUpdate:modelValue":a[3]||(a[3]=l=>e(s).password_confirmation=l),required:""},null,8,["modelValue"]),r(t,{class:"mt-2",message:e(s).errors.password_confirmation},null,8,["message"])])])])]),o("div",T,[a[12]||(a[12]=o("h3",{class:"text-base font-semibold text-gray-900 dark:text-gray-100"},"Rol y Asignaciones",-1)),o("div",z,[o("div",null,[r(i,{for:"tipo_usuario",value:"Tipo de Usuario"}),C(o("select",{id:"tipo_usuario","onUpdate:modelValue":a[4]||(a[4]=l=>e(s).tipo_usuario=l),class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm"},a[11]||(a[11]=[o("option",{value:"admin"},"Administrador",-1),o("option",{value:"gestor"},"Gestor",-1),o("option",{value:"abogado"},"Abogado",-1),o("option",{value:"cliente"},"Cliente",-1)]),512),[[U,e(s).tipo_usuario]]),r(t,{class:"mt-2",message:e(s).errors.tipo_usuario},null,8,["message"])]),e(s).tipo_usuario==="abogado"||e(s).tipo_usuario==="gestor"?(c(),g("div",G,[r(i,{value:"Especialidad(es)"}),r(e(b),{modelValue:e(s).especialidades,"onUpdate:modelValue":a[5]||(a[5]=l=>e(s).especialidades=l),options:n.allEspecialidades.map(l=>l.id),"custom-label":l=>{var d;return(d=n.allEspecialidades.find(p=>p.id===l))==null?void 0:d.nombre},multiple:!0,placeholder:"Seleccione una o más especialidades"},null,8,["modelValue","options","custom-label"]),r(t,{message:e(s).errors.especialidades,class:"mt-2"},null,8,["message"])])):v("",!0),e(s).tipo_usuario!=="admin"?(c(),g("div",H,[r(i,{value:"Asignar a Cooperativa(s)"}),r(e(b),{modelValue:e(s).cooperativas,"onUpdate:modelValue":a[6]||(a[6]=l=>e(s).cooperativas=l),options:n.allCooperativas.map(l=>l.id),"custom-label":l=>{var d;return(d=n.allCooperativas.find(p=>p.id===l))==null?void 0:d.nombre},multiple:!0,placeholder:"Seleccione una o más cooperativas"},null,8,["modelValue","options","custom-label"]),r(t,{message:e(s).errors.cooperativas,class:"mt-2"},null,8,["message"])])):v("",!0)])]),o("div",I,[r(N,{class:h({"opacity-25":e(s).processing}),disabled:e(s).processing},{default:m(()=>a[13]||(a[13]=[f(" Registrar Usuario ",-1)])),_:1,__:[13]},8,["class","disabled"])])],32)])])])])]),_:1})],64))}};export{Z as default};
