import{s as w,c as p,o as _,b as l,u as r,h as U,w as f,a as e,x as C,t as h,d as $,v as j,i as q,g as b,F as v,e as E,n as N,p as S,a2 as T}from"./app-BQ1fBOAU.js";import{_ as I}from"./AuthenticatedLayout-Bawsgd7W.js";import{_ as m}from"./InputError-8Zq05OkV.js";import{_ as d}from"./InputLabel-ZJL6u2KB.js";import{_ as L}from"./PrimaryButton-CAb3hnw6.js";import{_ as n}from"./TextInput-Dq4SX4hN.js";import{_ as P}from"./Textarea-C1OczT14.js";import{r as A}from"./PlusIcon-DMOmejnj.js";import{r as D}from"./XMarkIcon-BE60lYkj.js";import"./ApplicationLogo-CLvo8GpJ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"flex items-center justify-between"},B={class:"py-12"},F={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},R={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},M={class:"p-6 md:p-8"},z={class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"},W={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},H={class:"md:col-span-2"},G={class:"md:col-span-2"},X={class:"md:col-span-2"},Y={class:"flex items-center justify-between mb-2"},J={key:0,class:"rounded-md border border-dashed border-gray-300 dark:border-gray-600 p-4 text-center text-sm text-gray-500 dark:text-gray-400"},K={class:"sm:col-span-4"},Q={class:"sm:col-span-7"},Z={class:"sm:col-span-1 flex items-end"},ee=["onClick"],oe={class:"flex justify-end"},pe={__name:"Edit",props:{persona:{type:Object,required:!0}},setup(g){const t=g,s=w({_method:"PATCH",nombre_completo:t.persona.nombre_completo,tipo_documento:t.persona.tipo_documento,numero_documento:t.persona.numero_documento,telefono_fijo:t.persona.telefono_fijo,celular_1:t.persona.celular_1,celular_2:t.persona.celular_2,correo_1:t.persona.correo_1,correo_2:t.persona.correo_2,direccion:t.persona.direccion,ciudad:t.persona.ciudad,empresa:t.persona.empresa,cargo:t.persona.cargo,observaciones:t.persona.observaciones,social_links:Array.isArray(t.persona.social_links)?t.persona.social_links.map(i=>({...i})):[]}),y=()=>{s.social_links.push(T({label:"",url:""}))},k=i=>{s.social_links.splice(i,1)},x=i=>{i.url&&(/^https?:\/\//i.test(i.url)||(i.url=`https://${i.url}`))},V=()=>s.post(route("personas.update",t.persona.id));return(i,o)=>(_(),p(v,null,[l(r(U),{title:"Editar Persona"}),l(I,null,{header:f(()=>[e("div",O,[o[12]||(o[12]=e("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," Editar Persona ",-1)),l(r(S),{href:i.route("personas.index"),class:"text-sm text-gray-600 hover:underline"},{default:f(()=>o[11]||(o[11]=[b("← Volver",-1)])),_:1,__:[11]},8,["href"])])]),default:f(()=>[e("div",B,[e("div",F,[e("div",R,[e("div",M,[e("form",{onSubmit:C(V,["prevent"]),class:"space-y-8"},[e("section",null,[e("h3",z,"Datos de "+h(g.persona.nombre_completo),1),e("div",W,[e("div",H,[l(d,{for:"nombre_completo",value:"Nombre Completo"}),l(n,{modelValue:r(s).nombre_completo,"onUpdate:modelValue":o[0]||(o[0]=a=>r(s).nombre_completo=a),id:"nombre_completo",type:"text",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"]),l(m,{message:r(s).errors.nombre_completo,class:"mt-2"},null,8,["message"])]),e("div",null,[l(d,{for:"tipo_documento",value:"Tipo de Documento"}),$(e("select",{"onUpdate:modelValue":o[1]||(o[1]=a=>r(s).tipo_documento=a),id:"tipo_documento",class:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-700 dark:bg-gray-900 shadow-sm"},o[13]||(o[13]=[e("option",null,"CC",-1),e("option",null,"CE",-1),e("option",null,"NIT",-1),e("option",null,"Pasaporte",-1)]),512),[[j,r(s).tipo_documento]])]),e("div",null,[l(d,{for:"numero_documento",value:"Número de Documento"}),l(n,{modelValue:r(s).numero_documento,"onUpdate:modelValue":o[2]||(o[2]=a=>r(s).numero_documento=a),id:"numero_documento",type:"text",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),l(m,{message:r(s).errors.numero_documento,class:"mt-2"},null,8,["message"])]),e("div",null,[l(d,{for:"celular_1",value:"Celular Principal"}),l(n,{modelValue:r(s).celular_1,"onUpdate:modelValue":o[3]||(o[3]=a=>r(s).celular_1=a),id:"celular_1",type:"text",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),l(m,{message:r(s).errors.celular_1,class:"mt-2"},null,8,["message"])]),e("div",null,[l(d,{for:"celular_2",value:"Celular Secundario (Opcional)"}),l(n,{modelValue:r(s).celular_2,"onUpdate:modelValue":o[4]||(o[4]=a=>r(s).celular_2=a),id:"celular_2",type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])]),e("div",null,[l(d,{for:"correo_1",value:"Correo Principal"}),l(n,{modelValue:r(s).correo_1,"onUpdate:modelValue":o[5]||(o[5]=a=>r(s).correo_1=a),id:"correo_1",type:"email",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),l(m,{message:r(s).errors.correo_1,class:"mt-2"},null,8,["message"])]),e("div",null,[l(d,{for:"correo_2",value:"Correo Secundario (Opcional)"}),l(n,{modelValue:r(s).correo_2,"onUpdate:modelValue":o[6]||(o[6]=a=>r(s).correo_2=a),id:"correo_2",type:"email",class:"mt-1 block w-full"},null,8,["modelValue"])]),e("div",G,[l(d,{for:"direccion",value:"Dirección"}),l(n,{modelValue:r(s).direccion,"onUpdate:modelValue":o[7]||(o[7]=a=>r(s).direccion=a),id:"direccion",type:"text",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),l(m,{message:r(s).errors.direccion,class:"mt-2"},null,8,["message"])]),e("div",null,[l(d,{for:"ciudad",value:"Ciudad"}),l(n,{modelValue:r(s).ciudad,"onUpdate:modelValue":o[8]||(o[8]=a=>r(s).ciudad=a),id:"ciudad",type:"text",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),l(m,{message:r(s).errors.ciudad,class:"mt-2"},null,8,["message"])]),e("div",null,[l(d,{for:"empresa",value:"Empresa (Opcional)"}),l(n,{modelValue:r(s).empresa,"onUpdate:modelValue":o[9]||(o[9]=a=>r(s).empresa=a),id:"empresa",type:"text",class:"mt-1 block w-full"},null,8,["modelValue"])]),e("div",X,[l(d,{for:"observaciones",value:"Observaciones (Opcional)"}),l(P,{modelValue:r(s).observaciones,"onUpdate:modelValue":o[10]||(o[10]=a=>r(s).observaciones=a),id:"observaciones",class:"mt-1 block w-full",rows:"3"},null,8,["modelValue"])])])]),e("section",null,[e("div",Y,[o[15]||(o[15]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"},"Redes Sociales",-1)),e("button",{type:"button",onClick:y,class:"inline-flex items-center gap-2 rounded-md bg-indigo-600 px-3 py-1.5 text-white text-sm hover:bg-indigo-700"},[l(r(A),{class:"h-4 w-4"}),o[14]||(o[14]=b(" Agregar enlace ",-1))])]),o[16]||(o[16]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400 mb-3"}," Edita o agrega enlaces (Facebook, Instagram, LinkedIn, sitio web, etc.). ",-1)),r(s).social_links.length?q("",!0):(_(),p("div",J," No hay enlaces todavía. ")),(_(!0),p(v,null,E(r(s).social_links,(a,u)=>(_(),p("div",{key:u,class:"grid grid-cols-1 sm:grid-cols-12 gap-3 rounded-md border border-gray-200 dark:border-gray-700 p-3 mt-3"},[e("div",K,[l(d,{for:`label-${u}`,value:"Etiqueta / Red"},null,8,["for"]),l(n,{modelValue:a.label,"onUpdate:modelValue":c=>a.label=c,modelModifiers:{trim:!0},id:`label-${u}`,type:"text",class:"mt-1 block w-full",list:"social-presets",placeholder:"Instagram, LinkedIn, Sitio Web..."},null,8,["modelValue","onUpdate:modelValue","id"])]),e("div",Q,[l(d,{for:`url-${u}`,value:"URL"},null,8,["for"]),l(n,{modelValue:a.url,"onUpdate:modelValue":c=>a.url=c,modelModifiers:{trim:!0},id:`url-${u}`,type:"url",class:"mt-1 block w-full",placeholder:"https://ejemplo.com/usuario",onBlur:c=>x(a)},null,8,["modelValue","onUpdate:modelValue","id","onBlur"])]),e("div",Z,[e("button",{type:"button",onClick:c=>k(u),class:"inline-flex w-full items-center justify-center rounded-md border border-gray-300 px-2 py-2 text-gray-600 hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700"},[l(r(D),{class:"h-5 w-5"})],8,ee)])]))),128)),o[17]||(o[17]=e("datalist",{id:"social-presets"},[e("option",{value:"WhatsApp"}),e("option",{value:"Facebook"}),e("option",{value:"Instagram"}),e("option",{value:"X / Twitter"}),e("option",{value:"LinkedIn"}),e("option",{value:"TikTok"}),e("option",{value:"YouTube"}),e("option",{value:"GitHub"}),e("option",{value:"Sitio Web"})],-1))]),e("div",oe,[l(L,{class:N({"opacity-25":r(s).processing}),disabled:r(s).processing},{default:f(()=>o[18]||(o[18]=[b(" Actualizar Persona ",-1)])),_:1,__:[18]},8,["class","disabled"])])],32)])])])])]),_:1})],64))}};export{pe as default};
