import{c as d,o as l,a as t,r as m,z as L,O as at,l as N,k as ot,m as rt,b as i,u as c,h as dt,w as p,i as k,n as M,d as v,F as h,e as _,t as r,v as w,f as U,g as x,T as z,x as j,j as lt}from"./app-D6fBSztB.js";import{r as it,g as nt,f as T,h as ct,_ as gt}from"./AuthenticatedLayout-_MACS7lg.js";import{C as G,r as ut}from"./chart-C86AlZa2.js";import{_ as I}from"./PrimaryButton-CvtAZ7tP.js";import{_ as mt}from"./SecondaryButton-DFtNAEDQ.js";import{r as xt}from"./ArrowPathIcon-C_DSRrIZ.js";import{r as q}from"./BriefcaseIcon-BBMsPlgN.js";import{r as pt}from"./ClockIcon-C1-FS5hF.js";import{r as ft}from"./UserGroupIcon-Do80FFrK.js";import{r as vt}from"./ArrowDownTrayIcon-De2fghL-.js";import"./ApplicationLogo-Dh4pLsNN.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";function Y(o,a){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"})])}function ht(o,a){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0 0 12 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75Z"})])}function bt(o,a){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"})])}function J(o,a){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"})])}function yt(o,a){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}function kt(o,a){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function _t(o,a){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 13.5H9m4.06-7.19-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"})])}function wt(o,a){return l(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m0-10.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.25-8.25-3.286Zm0 13.036h.008v.008H12v-.008Z"})])}const Ct={class:"flex justify-between items-center"},At={key:0,class:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white dark:bg-gray-700 ring-1 ring-black ring-opacity-5 focus:outline-none z-10"},Ft={class:"py-1"},Mt={class:"py-12"},jt={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-8"},Tt={class:"mb-2 border-b border-gray-200 dark:border-gray-700"},Et={class:"-mb-px flex space-x-8","aria-label":"Tabs"},Pt={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},$t={class:"p-6"},Dt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Rt=["value"],Vt=["value"],Ot={class:"lg:col-start-3 lg:col-span-2 flex items-end space-x-2"},Zt={key:0,class:"space-y-8"},Bt={key:0,class:"bg-indigo-50 dark:bg-indigo-900/50 border-l-4 border-indigo-500 rounded-r-lg shadow-sm p-6"},St={class:"text-lg font-bold text-indigo-800 dark:text-indigo-200 mb-4 flex items-center"},Ht={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Lt={class:"text-center md:text-left"},Nt={class:"text-3xl font-bold text-indigo-700 dark:text-indigo-300 mt-1"},Ut={class:"text-center md:text-left"},zt={class:"text-3xl font-bold text-indigo-700 dark:text-indigo-300 mt-1"},Gt={class:"text-center md:text-left"},It={class:"text-3xl font-bold text-indigo-700 dark:text-indigo-300 mt-1"},qt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Yt={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm flex items-center space-x-4"},Jt={class:"bg-blue-100 dark:bg-blue-900/50 p-3 rounded-full"},Kt={class:"text-3xl font-bold text-gray-900 dark:text-white mt-1"},Qt={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm flex items-center space-x-4"},Wt={class:"bg-red-100 dark:bg-red-900/50 p-3 rounded-full"},Xt={class:"text-3xl font-bold text-red-600 dark:text-red-400 mt-1"},te={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm flex items-center space-x-4"},ee={class:"bg-green-100 dark:bg-green-900/50 p-3 rounded-full"},se={class:"text-3xl font-bold text-green-600 dark:text-green-400 mt-1"},ae={class:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm flex items-center space-x-4"},oe={class:"bg-purple-100 dark:bg-purple-900/50 p-3 rounded-full"},re={class:"text-3xl font-bold text-gray-900 dark:text-white mt-1"},de={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},le={class:"p-6"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"},ne={class:"bg-blue-50 dark:bg-gray-700/50 p-6 rounded-lg flex items-center border-l-4 border-blue-500"},ce={class:"bg-blue-500 p-3 rounded-full mr-4 shadow-lg"},ge={class:"text-3xl font-bold text-gray-900 dark:text-white"},ue={class:"bg-red-50 dark:bg-gray-700/50 p-6 rounded-lg flex items-center border-l-4 border-red-500"},me={class:"bg-red-500 p-3 rounded-full mr-4 shadow-lg"},xe={class:"text-3xl font-bold text-gray-900 dark:text-white"},pe={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},fe={class:"p-4 rounded-lg bg-gray-50 dark:bg-gray-900/50"},ve={class:"h-64"},he={class:"p-4 rounded-lg bg-gray-50 dark:bg-gray-900/50"},be={class:"h-64"},ye={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ke={class:"lg:col-span-2 bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm"},_e={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center"},we={class:"h-80"},Ce={class:"lg:col-span-1 bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm"},Ae={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center"},Fe={class:"h-80 flex items-center justify-center"},Me={key:1,class:"text-center text-gray-500"},je={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Te={class:"lg:col-span-2 bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm"},Ee={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center"},Pe={class:"h-80 flex items-center justify-center"},$e={key:1,class:"text-center text-gray-500"},De={class:"lg:col-span-1 bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm"},Re={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center"},Ve={class:"h-80"},Oe={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},Ze={class:"p-6"},Be={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"},Se={class:"bg-yellow-50 dark:bg-yellow-900/50 p-4 rounded-lg flex items-center space-x-4"},He={class:"bg-yellow-100 dark:bg-yellow-800/50 p-3 rounded-full"},Le={class:"flex items-baseline space-x-2 mt-1"},Ne={class:"text-3xl font-bold text-yellow-700 dark:text-yellow-300"},Ue={class:"text-sm font-semibold text-yellow-600 dark:text-yellow-400"},ze={class:"bg-orange-50 dark:bg-orange-900/50 p-4 rounded-lg flex items-center space-x-4"},Ge={class:"bg-orange-100 dark:bg-orange-800/50 p-3 rounded-full"},Ie={class:"text-3xl font-bold text-orange-700 dark:text-orange-300 mt-1"},qe={class:"bg-cyan-50 dark:bg-cyan-900/50 p-4 rounded-lg flex items-center space-x-4"},Ye={class:"bg-cyan-100 dark:bg-cyan-800/50 p-3 rounded-full"},Je={class:"text-3xl font-bold text-cyan-700 dark:text-cyan-300 mt-1"},Ke={class:"bg-fuchsia-50 dark:bg-fuchsia-900/50 p-4 rounded-lg flex items-center space-x-4"},Qe={class:"bg-fuchsia-100 dark:bg-fuchsia-800/50 p-3 rounded-full"},We={class:"text-3xl font-bold text-fuchsia-700 dark:text-fuchsia-300 mt-1"},Xe={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},ts={class:"p-6"},es={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center"},ss={class:"overflow-x-auto"},as={class:"min-w-full"},os={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},rs={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white"},ds={class:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-500 dark:text-gray-400"},ls={class:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-green-600 dark:text-green-400"},is={key:0},ns={key:1,class:"space-y-8"},cs={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},gs={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg p-6 flex items-center"},us={class:"p-3 rounded-full bg-red-100 dark:bg-red-900 mr-4"},ms={class:"text-3xl font-bold text-gray-900 dark:text-gray-100"},xs={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg p-6"},ps={class:"flex justify-around items-center text-center mt-4"},fs={class:"text-2xl font-bold text-red-600"},vs={class:"text-2xl font-bold text-yellow-600"},hs={class:"text-2xl font-bold text-blue-600"},bs={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm rounded-lg p-6"},ys={key:0,class:"space-y-2 text-sm mt-3"},ks={class:"text-gray-700 dark:text-gray-300"},_s={class:"font-bold bg-gray-200 dark:bg-gray-700 rounded-full px-2 py-0.5 text-xs"},ws={key:1,class:"text-gray-500 text-center pt-2"},Cs={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},As={class:"p-6"},Fs={class:"overflow-x-auto"},Ms={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},js={class:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700"},Ts={key:0},Es={class:"px-4 py-4 whitespace-nowrap text-sm"},Ps={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-gray-200"},$s={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-500"},Ds={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-500"},Rs={class:"px-4 py-4 whitespace-nowrap"},Vs={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-500"},Ys={__name:"Dashboard",props:{kpis:Object,graficas:Object,rankingAbogados:Array,cooperativas:Array,abogadosYGestores:Array,filtros:Object,consolidadoCooperativa:Object,statsCumplimiento:Object,listadoFallas:Array},setup(o){G.register(...ut);const a=o,f=m("estrategico"),b=m(!1),C=m(null),A=n=>{const e={...g.value,tipo:n},u=new URLSearchParams(e).toString();let s="";f.value==="cumplimiento"?s=route("reportes.cumplimiento.exportar"):s=route("reportes.exportar"),window.location.href=`${s}?${u}`,b.value=!1},E=n=>{C.value&&!C.value.contains(n.target)&&(b.value=!1)};L(()=>{document.addEventListener("click",E)}),at(()=>{document.removeEventListener("click",E)});const g=m({cooperativa_id:a.filtros.cooperativa_id||"",user_id:a.filtros.user_id||"",tipo_proceso:a.filtros.tipo_proceso||"",estado_proceso:a.filtros.estado_proceso||"",fecha_desde:a.filtros.fecha_desde||"",fecha_hasta:a.filtros.fecha_hasta||""}),P=m(null),$=m(null),D=m(null),R=m(null),V=m(null),O=m(null),K=N(()=>{if(!a.graficas||!a.graficas.alertas_por_tipo)return null;const n=Object.keys(a.graficas.alertas_por_tipo).map(u=>u.replace(/_/g," ").replace(/\b\w/g,s=>s.toUpperCase())),e=Object.values(a.graficas.alertas_por_tipo);return{labels:n,datasets:[{label:"Alertas por Tipo",backgroundColor:["#EF4444","#F59E0B","#3B82F6","#10B981","#6366F1"],data:e,borderRadius:4}]}}),Q=N(()=>{if(!a.graficas||!a.graficas.tendencia_semanal_alertas)return null;const n=a.graficas.tendencia_semanal_alertas.map(u=>new Date(u.date+"T00:00:00").toLocaleDateString("es-CO",{month:"short",day:"numeric"})),e=a.graficas.tendencia_semanal_alertas.map(u=>u.total);return{labels:n,datasets:[{label:"Alertas Generadas",borderColor:"#8B5CF6",backgroundColor:"hsla(262, 83%, 67%, 0.2)",data:e,fill:!0,tension:.4}]}}),Z=()=>{const n=(e,u,s,st={})=>{var S,H;(S=e.value)!=null&&S.chartInstance&&e.value.chartInstance.destroy();const B=(H=e.value)==null?void 0:H.getContext("2d");B&&s&&s.labels&&s.labels.length>0&&(e.value.chartInstance=new G(B,{type:u,data:s,options:st}))};n(P,"line",{labels:a.graficas.pagos_mensuales.map(e=>new Date(e.anio,e.mes-1).toLocaleString("es-CO",{month:"short",year:"2-digit"})),datasets:[{label:"Total Recuperado",data:a.graficas.pagos_mensuales.map(e=>e.total),borderColor:"hsl(147, 71%, 41%)",backgroundColor:"hsla(147, 71%, 41%, 0.2)",fill:!0,tension:.4}]},{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}}),n($,"bar",{labels:Object.keys(a.graficas.casos_por_estado),datasets:[{label:"Número de Casos",data:Object.values(a.graficas.casos_por_estado),backgroundColor:["#36A2EB","#FFCE56","#FF6384","#4BC0C0","#9966FF"],borderRadius:4}]},{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}}),a.graficas.cartera_por_edad&&Object.keys(a.graficas.cartera_por_edad).length>0&&n(D,"doughnut",{labels:Object.keys(a.graficas.cartera_por_edad),datasets:[{label:"Cartera en Mora",data:Object.values(a.graficas.cartera_por_edad),backgroundColor:["#FFCE56","#FF9F40","#FF6384","#C9CBCF","#4BC0C0"]}]},{responsive:!0,maintainAspectRatio:!1}),a.graficas.mora_mensual&&a.graficas.mora_mensual.length>0&&n(R,"line",{labels:a.graficas.mora_mensual.map(e=>new Date(e.anio,e.mes-1).toLocaleString("es-CO",{month:"short",year:"2-digit"})),datasets:[{label:"Nueva Mora Mensual",data:a.graficas.mora_mensual.map(e=>e.total),borderColor:"hsl(348, 83%, 47%)",backgroundColor:"hsla(348, 83%, 47%, 0.2)",fill:!0,tension:.4}]},{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}}),a.graficas.alertas_por_tipo&&n(V,"bar",K.value,{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}}),a.graficas.tendencia_semanal_alertas&&n(O,"line",Q.value,{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}})};L(()=>{Z()}),ot(()=>a.graficas,()=>{Z()},{deep:!0});const y=n=>n==null?"$ 0":new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0}).format(n),F=()=>{const n={...g.value};Object.keys(n).forEach(e=>{n[e]||delete n[e]}),lt.get(route("reportes.index"),n,{preserveState:!0,replace:!0})},W=()=>{g.value={cooperativa_id:"",user_id:"",tipo_proceso:"",estado_proceso:"",fecha_desde:"",fecha_hasta:""},F()},X={alto:"bg-red-100 text-red-800 border-red-500",medio:"bg-yellow-100 text-yellow-800 border-yellow-500",bajo:"bg-blue-100 text-blue-800 border-blue-500"},tt={poder_vencido:"Poder Vencido",tasa_usura:"Tasa de Usura Excedida",sin_pagare:"Falta Pagaré",sin_carta_instrucciones:"Falta Carta de Instrucciones",sin_certificacion_saldo:"Falta Certificación de Saldo",tipo_proceso_vs_garantia:"Proceso vs. Garantía",plazo_excedido_sin_demanda:"Plazo para Demandar Excedido",documento_faltante_para_radicar:"Docs. Faltantes para Radicar"},et=n=>{if(!n)return"N/A";const e={year:"numeric",month:"short",day:"numeric"};return new Date(n).toLocaleDateString("es-CO",e)};return(n,e)=>{const u=rt("Link");return l(),d(h,null,[i(c(dt),{title:"Centro de Mando"}),i(gt,null,{header:p(()=>[t("div",Ct,[e[13]||(e[13]=t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," Centro de Mando Estratégico ",-1)),t("div",{class:"relative",ref_key:"exportMenu",ref:C},[i(I,{onClick:e[0]||(e[0]=s=>b.value=!b.value)},{default:p(()=>[i(c(vt),{class:"h-5 w-5 mr-2"}),e[12]||(e[12]=x(" Exportar ",-1)),i(c(yt),{class:"h-5 w-5 ml-1 -mr-1"})]),_:1,__:[12]}),i(z,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:p(()=>[b.value?(l(),d("div",At,[t("div",Ft,[t("a",{onClick:e[1]||(e[1]=j(s=>A("xlsx"),["prevent"])),href:"#",class:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600"},"Excel (.xlsx)"),t("a",{onClick:e[2]||(e[2]=j(s=>A("csv"),["prevent"])),href:"#",class:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600"},"CSV (.csv)"),t("a",{onClick:e[3]||(e[3]=j(s=>A("pdf"),["prevent"])),href:"#",class:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600"},"PDF (.pdf)")])])):k("",!0)]),_:1})],512)])]),default:p(()=>[t("div",Mt,[t("div",jt,[t("div",Tt,[t("nav",Et,[t("button",{onClick:e[4]||(e[4]=s=>f.value="estrategico"),class:M([f.value==="estrategico"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Reporte Estratégico ",2),t("button",{onClick:e[5]||(e[5]=s=>f.value="cumplimiento"),class:M([f.value==="cumplimiento"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])}," Reporte de Cumplimiento ",2)])]),t("div",Pt,[t("div",$t,[e[25]||(e[25]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"},"Filtros Globales del Reporte",-1)),t("div",Dt,[t("div",null,[e[15]||(e[15]=t("label",{for:"filtro_cooperativa",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Cooperativa",-1)),v(t("select",{"onUpdate:modelValue":e[6]||(e[6]=s=>g.value.cooperativa_id=s),id:"filtro_cooperativa",onChange:F,class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},[e[14]||(e[14]=t("option",{value:""},"Todas",-1)),(l(!0),d(h,null,_(o.cooperativas,s=>(l(),d("option",{key:s.id,value:s.id},r(s.nombre),9,Rt))),128))],544),[[w,g.value.cooperativa_id]])]),t("div",null,[e[17]||(e[17]=t("label",{for:"filtro_abogado",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Gestor Asignado",-1)),v(t("select",{"onUpdate:modelValue":e[7]||(e[7]=s=>g.value.user_id=s),id:"filtro_abogado",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},[e[16]||(e[16]=t("option",{value:""},"Todos",-1)),(l(!0),d(h,null,_(o.abogadosYGestores,s=>(l(),d("option",{key:s.id,value:s.id},r(s.name),9,Vt))),128))],512),[[w,g.value.user_id]])]),t("div",null,[e[19]||(e[19]=t("label",{for:"filtro_tipo_proceso",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Tipo de Proceso",-1)),v(t("select",{"onUpdate:modelValue":e[8]||(e[8]=s=>g.value.tipo_proceso=s),id:"filtro_tipo_proceso",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},e[18]||(e[18]=[t("option",{value:""},"Todos",-1),t("option",{value:"ejecutivo singular"},"Ejecutivo Singular",-1),t("option",{value:"hipotecario"},"Hipotecario",-1),t("option",{value:"prendario"},"Prendario",-1),t("option",{value:"libranza"},"Libranza",-1)]),512),[[w,g.value.tipo_proceso]])]),t("div",null,[e[21]||(e[21]=t("label",{for:"filtro_estado_proceso",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Estado del Proceso",-1)),v(t("select",{"onUpdate:modelValue":e[9]||(e[9]=s=>g.value.estado_proceso=s),id:"filtro_estado_proceso",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},e[20]||(e[20]=[t("option",{value:""},"Todos",-1),t("option",{value:"prejurídico"},"Prejurídico",-1),t("option",{value:"demandado"},"Demandado",-1),t("option",{value:"en ejecución"},"En Ejecución",-1),t("option",{value:"sentencia"},"Sentencia",-1),t("option",{value:"cerrado"},"Cerrado",-1)]),512),[[w,g.value.estado_proceso]])]),t("div",null,[e[22]||(e[22]=t("label",{for:"fecha_desde",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Desde (Creación)",-1)),v(t("input",{type:"date","onUpdate:modelValue":e[10]||(e[10]=s=>g.value.fecha_desde=s),id:"fecha_desde",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[U,g.value.fecha_desde]])]),t("div",null,[e[23]||(e[23]=t("label",{for:"fecha_hasta",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},"Hasta (Creación)",-1)),v(t("input",{type:"date","onUpdate:modelValue":e[11]||(e[11]=s=>g.value.fecha_hasta=s),id:"fecha_hasta",class:"mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"},null,512),[[U,g.value.fecha_hasta]])]),t("div",Ot,[i(I,{onClick:F,class:"w-full justify-center h-10"},{default:p(()=>e[24]||(e[24]=[x("Aplicar Filtros ",-1)])),_:1,__:[24]}),i(mt,{onClick:W,class:"w-full justify-center h-10",title:"Limpiar Filtros"},{default:p(()=>[i(c(xt),{class:"h-5 w-5"})]),_:1})])])])]),f.value==="estrategico"?(l(),d("div",Zt,[i(z,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"transform opacity-0 -translate-y-4","enter-to-class":"transform opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-200","leave-from-class":"transform opacity-100 translate-y-0","leave-to-class":"transform opacity-0 -translate-y-4"},{default:p(()=>[o.consolidadoCooperativa?(l(),d("div",Bt,[t("h3",St,[i(c(ht),{class:"h-6 w-6 mr-3"}),x("Foco Estratégico: "+r(o.consolidadoCooperativa.nombre),1)]),t("div",Ht,[t("div",Lt,[e[26]||(e[26]=t("h4",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Casos Activos",-1)),t("p",Nt,r(o.consolidadoCooperativa.casos_activos),1)]),t("div",Ut,[e[27]||(e[27]=t("h4",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Cartera en Mora ",-1)),t("p",zt,r(y(o.consolidadoCooperativa.cartera_en_mora)),1)]),t("div",Gt,[e[28]||(e[28]=t("h4",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Recuperado ",-1)),t("p",It,r(y(o.consolidadoCooperativa.total_recuperado)),1)])])])):k("",!0)]),_:1}),t("div",qt,[t("div",Yt,[t("div",Jt,[i(c(q),{class:"h-8 w-8 text-blue-600 dark:text-blue-400"})]),t("div",null,[e[29]||(e[29]=t("h4",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Casos Activos ",-1)),t("p",Kt,r(o.kpis.casos_activos),1)])]),t("div",Qt,[t("div",Wt,[i(c(wt),{class:"h-8 w-8 text-red-600 dark:text-red-400"})]),t("div",null,[e[30]||(e[30]=t("h4",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Cartera en Mora ",-1)),t("p",Xt,r(y(o.kpis.cartera_en_mora)),1)])]),t("div",te,[t("div",ee,[i(c(it),{class:"h-8 w-8 text-green-600 dark:text-green-400"})]),t("div",null,[e[31]||(e[31]=t("h4",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Recuperado",-1)),t("p",se,r(y(o.kpis.total_recuperado)),1)])]),t("div",ae,[t("div",oe,[i(c(pt),{class:"h-8 w-8 text-purple-600 dark:text-purple-400"})]),t("div",null,[e[33]||(e[33]=t("h4",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Promedio Días Recuperación",-1)),t("p",re,[x(r(o.kpis.promedio_dias_recuperacion)+" ",1),e[32]||(e[32]=t("span",{class:"text-xl font-semibold"},"días",-1))])])])]),t("div",de,[t("div",le,[e[38]||(e[38]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-6"},"Panel de Control de Alertas ",-1)),t("div",ie,[t("div",ne,[t("div",ce,[i(c(nt),{class:"h-6 w-6 text-white"})]),t("div",null,[e[34]||(e[34]=t("p",{class:"text-sm text-gray-600 dark:text-gray-300"},"Total de Alertas Activas",-1)),t("p",ge,r(o.kpis.total_alertas_activas),1)])]),t("div",ue,[t("div",me,[i(c(T),{class:"h-6 w-6 text-white"})]),t("div",null,[e[35]||(e[35]=t("p",{class:"text-sm text-gray-600 dark:text-gray-300"},"Alertas Vencidas (>7 días) ",-1)),t("p",xe,r(o.kpis.alertas_vencidas),1)])])]),t("div",pe,[t("div",fe,[e[36]||(e[36]=t("h4",{class:"font-semibold text-center text-gray-700 dark:text-gray-300 mb-4"}," Distribución de Alertas",-1)),t("div",ve,[t("canvas",{ref_key:"chartAlertasPorTipo",ref:V},null,512)])]),t("div",he,[e[37]||(e[37]=t("h4",{class:"font-semibold text-center text-gray-700 dark:text-gray-300 mb-4"}," Tendencia Semanal de Alertas",-1)),t("div",be,[t("canvas",{ref_key:"chartTendenciaSemanal",ref:O},null,512)])])])])]),t("div",ye,[t("div",ke,[t("h4",_e,[i(c(ct),{class:"h-6 w-6 mr-2"}),e[39]||(e[39]=x("Recuperación Mensual ",-1))]),t("div",we,[t("canvas",{ref_key:"chartPagosMensuales",ref:P},null,512)])]),t("div",Ce,[t("h4",Ae,[i(c(J),{class:"h-6 w-6 mr-2"}),e[40]||(e[40]=x("Cartera por Edad ",-1))]),t("div",Fe,[a.graficas.cartera_por_edad&&Object.keys(a.graficas.cartera_por_edad).length>0?(l(),d("canvas",{key:0,ref_key:"chartCarteraPorEdad",ref:D},null,512)):(l(),d("div",Me,[i(c(J),{class:"h-16 w-16 mx-auto text-gray-300 dark:text-gray-600"}),e[41]||(e[41]=t("p",{class:"mt-2 font-semibold"},"Sin Cartera en Mora",-1))]))])])]),t("div",je,[t("div",Te,[t("h4",Ee,[i(c(Y),{class:"h-6 w-6 mr-2 text-red-500"}),e[42]||(e[42]=x("Tendencia de Mora Mensual ",-1))]),t("div",Pe,[a.graficas.mora_mensual&&a.graficas.mora_mensual.length>0?(l(),d("canvas",{key:0,ref_key:"chartMoraMensual",ref:R},null,512)):(l(),d("div",$e,[i(c(Y),{class:"h-16 w-16 mx-auto text-gray-300 dark:text-gray-600"}),e[43]||(e[43]=t("p",{class:"mt-2 font-semibold"},"Sin Datos de Mora Reciente",-1))]))])]),t("div",De,[t("h4",Re,[i(c(q),{class:"h-6 w-6 mr-2"}),e[44]||(e[44]=x("Casos por Estado ",-1))]),t("div",Ve,[t("canvas",{ref_key:"chartCasosPorEstado",ref:$},null,512)])])]),t("div",Oe,[t("div",Ze,[e[49]||(e[49]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Análisis de Riesgo y Eficiencia ",-1)),t("div",Be,[t("div",Se,[t("div",He,[i(c(kt),{class:"h-8 w-8 text-yellow-600 dark:text-yellow-400"})]),t("div",null,[e[45]||(e[45]=t("h4",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Casos Sin Pagaré",-1)),t("div",Le,[t("p",Ne,r(o.kpis.casos_sin_pagare),1),t("span",Ue,"("+r(o.kpis.porcentaje_sin_pagare)+"%)",1)])])]),t("div",ze,[t("div",Ge,[i(c(T),{class:"h-8 w-8 text-orange-600 dark:text-orange-400"})]),t("div",null,[e[46]||(e[46]=t("h4",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Casos Inactivos (>60d) ",-1)),t("p",Ie,r(o.kpis.casos_inactivos),1)])]),t("div",qe,[t("div",Ye,[i(c(_t),{class:"h-8 w-8 text-cyan-600 dark:text-cyan-400"})]),t("div",null,[e[47]||(e[47]=t("h4",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Docs. Faltantes ",-1)),t("p",Je,r(o.kpis.casos_con_documentos_faltantes),1)])]),t("div",Ke,[t("div",Qe,[i(c(bt),{class:"h-8 w-8 text-fuchsia-600 dark:text-fuchsia-400"})]),t("div",null,[e[48]||(e[48]=t("h4",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Casos Longevos (>1 año) ",-1)),t("p",We,r(o.kpis.casos_longevos),1)])])])])]),t("div",Xe,[t("div",ts,[t("h3",es,[i(c(ft),{class:"h-6 w-6 mr-2"}),e[50]||(e[50]=x("Ranking de Rendimiento por Gestor ",-1))]),t("div",ss,[t("table",as,[e[52]||(e[52]=t("thead",{class:"border-b border-gray-200 dark:border-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Gestor"),t("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Casos Asignados"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"}," Monto Recuperado")])],-1)),t("tbody",os,[(l(!0),d(h,null,_(o.rankingAbogados,s=>(l(),d("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50"},[t("td",rs,r(s.name),1),t("td",ds,r(s.casos_count),1),t("td",ls,r(y(s.pagos_sum_monto_pagado)),1)]))),128)),o.rankingAbogados.length===0?(l(),d("tr",is,e[51]||(e[51]=[t("td",{colspan:"3",class:"px-6 py-8 text-center text-gray-500 dark:text-gray-400"},"No hay datos de rendimiento para mostrar.",-1)]))):k("",!0)])])])])])])):k("",!0),f.value==="cumplimiento"?(l(),d("div",ns,[t("div",cs,[t("div",gs,[t("div",us,[i(c(T),{class:"h-8 w-8 text-red-500"})]),t("div",null,[e[53]||(e[53]=t("p",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Fallas Activas",-1)),t("p",ms,r(o.statsCumplimiento.totalFallasActivas),1)])]),t("div",xs,[e[57]||(e[57]=t("h3",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2"},"Fallas por Nivel de Riesgo ",-1)),t("div",ps,[t("div",null,[t("p",fs,r(o.statsCumplimiento.fallasPorRiesgo.alto),1),e[54]||(e[54]=t("p",{class:"text-xs font-semibold text-red-500 uppercase"},"Alto",-1))]),t("div",null,[t("p",vs,r(o.statsCumplimiento.fallasPorRiesgo.medio),1),e[55]||(e[55]=t("p",{class:"text-xs font-semibold text-yellow-500 uppercase"},"Medio",-1))]),t("div",null,[t("p",hs,r(o.statsCumplimiento.fallasPorRiesgo.bajo),1),e[56]||(e[56]=t("p",{class:"text-xs font-semibold text-blue-500 uppercase"},"Bajo",-1))])])]),t("div",bs,[e[58]||(e[58]=t("h3",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2"},"Top Cooperativas con Fallas ",-1)),o.statsCumplimiento.fallasPorCooperativa.length>0?(l(),d("ul",ys,[(l(!0),d(h,null,_(o.statsCumplimiento.fallasPorCooperativa,s=>(l(),d("li",{key:s.nombre,class:"flex justify-between items-center"},[t("span",ks,r(s.nombre),1),t("span",_s,r(s.total_fallas),1)]))),128))])):(l(),d("p",ws,"Sin fallas registradas."))])]),t("div",Cs,[t("div",As,[e[61]||(e[61]=t("h3",{class:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-4"},"Listado de Fallas de Cumplimiento Activas",-1)),t("div",Fs,[t("table",Ms,[e[60]||(e[60]=t("thead",{class:"bg-gray-50 dark:bg-gray-800"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Caso ID "),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Deudor "),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Cooperativa"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Tipo de Falla"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Riesgo "),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"}," Detectado")])],-1)),t("tbody",js,[!o.listadoFallas||o.listadoFallas.length===0?(l(),d("tr",Ts,e[59]||(e[59]=[t("td",{colspan:"6",class:"px-6 py-10 text-center text-gray-500"},"¡Felicidades! No hay fallas de cumplimiento activas.",-1)]))):(l(!0),d(h,{key:1},_(o.listadoFallas,s=>(l(),d("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50"},[t("td",Es,[i(u,{href:n.route("casos.show",s.caso.id),class:"text-indigo-600 dark:text-indigo-400 hover:underline font-bold"},{default:p(()=>[x(" #"+r(s.caso.id),1)]),_:2},1032,["href"])]),t("td",Ps,r(s.caso.deudor?s.caso.deudor.nombre_completo:"N/A"),1),t("td",$s,r(s.caso.cooperativa.nombre),1),t("td",Ds,r(tt[s.tipo]),1),t("td",Rs,[t("span",{class:M(["px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full capitalize border",X[s.nivel_riesgo]])},r(s.nivel_riesgo),3)]),t("td",Vs,r(et(s.ultima_revision)),1)]))),128))])])])])])])):k("",!0)])])]),_:1})],64)}}};export{Ys as default};
